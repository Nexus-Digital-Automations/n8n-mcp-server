52f5ce25afc73315bd41ab6d28511aec
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("@jest/globals");
const credentials_1 = require("../../../src/tools/credentials");
(0, globals_1.describe)('Credential Tools', () => {
    let mockClient;
    let mockServer;
    let getClient;
    (0, globals_1.beforeEach)(() => {
        mockClient = global.testUtils.createMockClient();
        getClient = globals_1.jest.fn(() => mockClient);
        mockServer = {
            addTool: globals_1.jest.fn(),
        };
        // Register credential tools
        (0, credentials_1.createCredentialTools)(getClient, mockServer);
    });
    (0, globals_1.it)('should register all credential tools', () => {
        (0, globals_1.expect)(mockServer.addTool).toHaveBeenCalledTimes(5);
        const toolNames = mockServer.addTool.mock.calls.map((call) => call[0].name);
        (0, globals_1.expect)(toolNames).toContain('list-credentials');
        (0, globals_1.expect)(toolNames).toContain('get-credential');
        (0, globals_1.expect)(toolNames).toContain('create-credential');
        (0, globals_1.expect)(toolNames).toContain('delete-credential');
        (0, globals_1.expect)(toolNames).toContain('get-credential-schema');
    });
    (0, globals_1.describe)('list-credentials tool', () => {
        let listCredentialsTool;
        (0, globals_1.beforeEach)(() => {
            listCredentialsTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'list-credentials')[0];
        });
        (0, globals_1.it)('should list credentials successfully with full data', async () => {
            const mockCredentials = [
                {
                    id: 'cred-1',
                    name: 'Test Credential 1',
                    type: 'httpBasicAuth',
                    homeProject: {
                        id: 'proj-1',
                        name: 'Test Project',
                        type: 'Personal',
                    },
                    sharedWith: [
                        {
                            id: 'share-1',
                            user: {
                                id: 'user-1',
                                email: 'test@example.com',
                                firstName: 'John',
                                lastName: 'Doe',
                            },
                            role: 'owner',
                        },
                    ],
                    scopes: ['workflow', 'credential'],
                    createdAt: '2024-01-01T00:00:00.000Z',
                    updatedAt: '2024-01-02T00:00:00.000Z',
                },
                {
                    id: 'cred-2',
                    name: 'Test Credential 2',
                    type: 'oauth2Api',
                    createdAt: '2024-01-03T00:00:00.000Z',
                },
            ];
            mockClient.getCredentials.mockResolvedValue({
                data: mockCredentials,
                nextCursor: 'next-cursor-123',
            });
            const result = await listCredentialsTool.execute({});
            (0, globals_1.expect)(mockClient.getCredentials).toHaveBeenCalledWith({});
            (0, globals_1.expect)(result).toContain('Found 2 credential(s):');
            (0, globals_1.expect)(result).toContain('**Test Credential 1**');
            (0, globals_1.expect)(result).toContain('ID: cred-1');
            (0, globals_1.expect)(result).toContain('Type: httpBasicAuth');
            (0, globals_1.expect)(result).toContain('Project: Test Project (Personal)');
            (0, globals_1.expect)(result).toContain('Shared with: 1 user(s)');
            (0, globals_1.expect)(result).toContain('Scopes: workflow, credential');
            (0, globals_1.expect)(result).toContain('Created: 12/31/2023');
            (0, globals_1.expect)(result).toContain('Updated: 1/1/2024');
            (0, globals_1.expect)(result).toContain('**Test Credential 2**');
            (0, globals_1.expect)(result).toContain('Use cursor "next-cursor-123" to get the next page');
        });
        (0, globals_1.it)('should list credentials with pagination options', async () => {
            const mockCredentials = [
                {
                    id: 'cred-1',
                    name: 'Test Credential',
                    type: 'httpBasicAuth',
                },
            ];
            mockClient.getCredentials.mockResolvedValue({
                data: mockCredentials,
            });
            await listCredentialsTool.execute({ limit: 10, cursor: 'test-cursor' });
            (0, globals_1.expect)(mockClient.getCredentials).toHaveBeenCalledWith({
                limit: 10,
                cursor: 'test-cursor',
            });
        });
        (0, globals_1.it)('should handle empty credentials list', async () => {
            mockClient.getCredentials.mockResolvedValue({
                data: [],
            });
            const result = await listCredentialsTool.execute({});
            (0, globals_1.expect)(result).toBe('No credentials found in the n8n instance.');
        });
        (0, globals_1.it)('should handle credentials without optional fields', async () => {
            const mockCredentials = [
                {
                    id: 'cred-minimal',
                    name: 'Minimal Credential',
                    type: 'basic',
                },
            ];
            mockClient.getCredentials.mockResolvedValue({
                data: mockCredentials,
            });
            const result = await listCredentialsTool.execute({});
            (0, globals_1.expect)(result).toContain('**Minimal Credential**');
            (0, globals_1.expect)(result).toContain('ID: cred-minimal');
            (0, globals_1.expect)(result).toContain('Type: basic');
            (0, globals_1.expect)(result).not.toContain('Project:');
            (0, globals_1.expect)(result).not.toContain('Shared with:');
            (0, globals_1.expect)(result).not.toContain('Scopes:');
            (0, globals_1.expect)(result).not.toContain('Created:');
            (0, globals_1.expect)(result).not.toContain('Updated:');
        });
        (0, globals_1.it)('should handle API errors', async () => {
            mockClient.getCredentials.mockRejectedValue(new Error('API connection failed'));
            await (0, globals_1.expect)(listCredentialsTool.execute({})).rejects.toThrow('Failed to list credentials: API connection failed');
        });
        (0, globals_1.it)('should handle unknown errors', async () => {
            mockClient.getCredentials.mockRejectedValue('Unknown error');
            await (0, globals_1.expect)(listCredentialsTool.execute({})).rejects.toThrow('Failed to list credentials with unknown error');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const uninitializedGetClient = globals_1.jest.fn(() => null);
            const uninitializedServer = { addTool: globals_1.jest.fn() };
            (0, credentials_1.createCredentialTools)(uninitializedGetClient, uninitializedServer);
            const tool = uninitializedServer.addTool.mock.calls.find((call) => call[0].name === 'list-credentials')?.[0];
            (0, globals_1.expect)(tool).toBeDefined();
            await (0, globals_1.expect)(tool.execute({})).rejects.toThrow('n8n client not initialized. Please run init-n8n first.');
        });
        (0, globals_1.it)('should have correct tool annotations', () => {
            (0, globals_1.expect)(listCredentialsTool.annotations).toEqual({
                title: 'List n8n Credentials',
                readOnlyHint: true,
                destructiveHint: false,
                idempotentHint: true,
                openWorldHint: true,
            });
        });
        (0, globals_1.it)('should validate parameters with Zod schema', () => {
            // Valid parameters
            (0, globals_1.expect)(() => listCredentialsTool.parameters.parse({})).not.toThrow();
            (0, globals_1.expect)(() => listCredentialsTool.parameters.parse({ limit: 50 })).not.toThrow();
            (0, globals_1.expect)(() => listCredentialsTool.parameters.parse({ cursor: 'test' })).not.toThrow();
            (0, globals_1.expect)(() => listCredentialsTool.parameters.parse({ limit: 25, cursor: 'test' })).not.toThrow();
            // Invalid parameters
            (0, globals_1.expect)(() => listCredentialsTool.parameters.parse({ limit: 0 })).toThrow();
            (0, globals_1.expect)(() => listCredentialsTool.parameters.parse({ limit: 101 })).toThrow();
            (0, globals_1.expect)(() => listCredentialsTool.parameters.parse({ limit: 'invalid' })).toThrow();
        });
    });
    (0, globals_1.describe)('get-credential tool', () => {
        let getCredentialTool;
        (0, globals_1.beforeEach)(() => {
            getCredentialTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'get-credential')[0];
        });
        (0, globals_1.it)('should get credential successfully with full data', async () => {
            const mockCredential = {
                id: 'cred-1',
                name: 'Test Credential',
                type: 'httpBasicAuth',
                homeProject: {
                    id: 'proj-1',
                    name: 'Test Project',
                    type: 'Personal',
                },
                sharedWith: [
                    {
                        id: 'share-1',
                        user: {
                            id: 'user-1',
                            email: 'test@example.com',
                            firstName: 'John',
                            lastName: 'Doe',
                        },
                        role: 'owner',
                    },
                ],
                nodesAccess: [
                    {
                        nodeType: 'HttpRequest',
                        user: 'john.doe',
                        date: new Date('2024-01-01T00:00:00.000Z'),
                    },
                ],
                scopes: ['workflow', 'credential'],
                createdAt: '2024-01-01T00:00:00.000Z',
                updatedAt: '2024-01-02T00:00:00.000Z',
            };
            mockClient.getCredential.mockResolvedValue(mockCredential);
            const result = await getCredentialTool.execute({ credentialId: 'cred-1' });
            (0, globals_1.expect)(mockClient.getCredential).toHaveBeenCalledWith('cred-1');
            (0, globals_1.expect)(result).toContain('# Credential: Test Credential');
            (0, globals_1.expect)(result).toContain('**ID:** cred-1');
            (0, globals_1.expect)(result).toContain('**Name:** Test Credential');
            (0, globals_1.expect)(result).toContain('**Type:** httpBasicAuth');
            (0, globals_1.expect)(result).toContain('**Project:** Test Project (Personal)');
            (0, globals_1.expect)(result).toContain('## Shared With:');
            (0, globals_1.expect)(result).toContain('1. John Doe (test@example.com) - Role: owner');
            (0, globals_1.expect)(result).toContain('## Node Access:');
            (0, globals_1.expect)(result).toContain('1. Node Type: HttpRequest');
            (0, globals_1.expect)(result).toContain('- User: john.doe');
            (0, globals_1.expect)(result).toContain('- Date: 12/31/2023, 6:00:00 PM');
            (0, globals_1.expect)(result).toContain('**Scopes:** workflow, credential');
            (0, globals_1.expect)(result).toContain('**Created:** 12/31/2023, 6:00:00 PM');
            (0, globals_1.expect)(result).toContain('**Updated:** 1/1/2024, 6:00:00 PM');
            (0, globals_1.expect)(result).toContain('Sensitive credential data is not displayed for security purposes');
        });
        (0, globals_1.it)('should get credential with minimal data', async () => {
            const mockCredential = {
                id: 'cred-minimal',
                name: 'Minimal Credential',
                type: 'basic',
            };
            mockClient.getCredential.mockResolvedValue(mockCredential);
            const result = await getCredentialTool.execute({ credentialId: 'cred-minimal' });
            (0, globals_1.expect)(result).toContain('# Credential: Minimal Credential');
            (0, globals_1.expect)(result).toContain('**ID:** cred-minimal');
            (0, globals_1.expect)(result).toContain('**Type:** basic');
            (0, globals_1.expect)(result).not.toContain('**Project:**');
            (0, globals_1.expect)(result).not.toContain('## Shared With:');
            (0, globals_1.expect)(result).not.toContain('## Node Access:');
            (0, globals_1.expect)(result).not.toContain('**Scopes:**');
        });
        (0, globals_1.it)('should handle API errors', async () => {
            mockClient.getCredential.mockRejectedValue(new Error('Credential not found'));
            await (0, globals_1.expect)(getCredentialTool.execute({ credentialId: 'invalid' })).rejects.toThrow('Failed to get credential: Credential not found');
        });
        (0, globals_1.it)('should handle unknown errors', async () => {
            mockClient.getCredential.mockRejectedValue({ error: 'Unknown' });
            await (0, globals_1.expect)(getCredentialTool.execute({ credentialId: 'test' })).rejects.toThrow('Failed to get credential with unknown error');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const uninitializedGetClient = globals_1.jest.fn(() => null);
            const uninitializedServer = { addTool: globals_1.jest.fn() };
            (0, credentials_1.createCredentialTools)(uninitializedGetClient, uninitializedServer);
            const tool = uninitializedServer.addTool.mock.calls.find((call) => call[0].name === 'get-credential')?.[0];
            (0, globals_1.expect)(tool).toBeDefined();
            await (0, globals_1.expect)(tool.execute({ credentialId: 'test' })).rejects.toThrow('n8n client not initialized. Please run init-n8n first.');
        });
        (0, globals_1.it)('should have correct tool annotations', () => {
            (0, globals_1.expect)(getCredentialTool.annotations).toEqual({
                title: 'Get Credential Details',
                readOnlyHint: true,
                destructiveHint: false,
                idempotentHint: true,
                openWorldHint: true,
            });
        });
        (0, globals_1.it)('should validate parameters with Zod schema', () => {
            // Valid parameters
            (0, globals_1.expect)(() => getCredentialTool.parameters.parse({ credentialId: 'test-id' })).not.toThrow();
            // Invalid parameters
            (0, globals_1.expect)(() => getCredentialTool.parameters.parse({})).toThrow();
            (0, globals_1.expect)(() => getCredentialTool.parameters.parse({ credentialId: '' })).toThrow();
            (0, globals_1.expect)(() => getCredentialTool.parameters.parse({ credentialId: 123 })).toThrow();
        });
    });
    (0, globals_1.describe)('create-credential tool', () => {
        let createCredentialTool;
        (0, globals_1.beforeEach)(() => {
            createCredentialTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'create-credential')[0];
        });
        (0, globals_1.it)('should create credential successfully with full data', async () => {
            const mockCredential = {
                id: 'new-cred-1',
                name: 'New Test Credential',
                type: 'httpBasicAuth',
                homeProject: {
                    id: 'proj-1',
                    name: 'Test Project',
                    type: 'Personal',
                },
            };
            mockClient.createCredential.mockResolvedValue(mockCredential);
            const credentialData = {
                name: 'New Test Credential',
                type: 'httpBasicAuth',
                data: { username: 'test', password: 'secret' },
                projectId: 'proj-1',
            };
            const result = await createCredentialTool.execute(credentialData);
            const expectedRequest = {
                name: 'New Test Credential',
                type: 'httpBasicAuth',
                data: { username: 'test', password: 'secret' },
                projectId: 'proj-1',
            };
            (0, globals_1.expect)(mockClient.createCredential).toHaveBeenCalledWith(expectedRequest);
            (0, globals_1.expect)(result).toContain('✅ Successfully created credential "New Test Credential" with ID: new-cred-1');
            (0, globals_1.expect)(result).toContain('Type: httpBasicAuth');
            (0, globals_1.expect)(result).toContain('Project: Test Project');
        });
        (0, globals_1.it)('should create credential without optional fields', async () => {
            const mockCredential = {
                id: 'new-cred-2',
                name: 'Simple Credential',
                type: 'basic',
            };
            mockClient.createCredential.mockResolvedValue(mockCredential);
            const credentialData = {
                name: 'Simple Credential',
                type: 'basic',
                data: { token: 'abc123' },
            };
            const result = await createCredentialTool.execute(credentialData);
            const expectedRequest = {
                name: 'Simple Credential',
                type: 'basic',
                data: { token: 'abc123' },
                projectId: undefined,
            };
            (0, globals_1.expect)(mockClient.createCredential).toHaveBeenCalledWith(expectedRequest);
            (0, globals_1.expect)(result).toContain('✅ Successfully created credential "Simple Credential" with ID: new-cred-2');
            (0, globals_1.expect)(result).toContain('Type: basic');
            (0, globals_1.expect)(result).not.toContain('Project:');
        });
        (0, globals_1.it)('should handle API errors', async () => {
            mockClient.createCredential.mockRejectedValue(new Error('Invalid credential type'));
            const credentialData = {
                name: 'Test',
                type: 'invalid',
                data: { test: 'value' },
            };
            await (0, globals_1.expect)(createCredentialTool.execute(credentialData)).rejects.toThrow('Failed to create credential: Invalid credential type');
        });
        (0, globals_1.it)('should handle unknown errors', async () => {
            mockClient.createCredential.mockRejectedValue({ code: 500 });
            const credentialData = {
                name: 'Test',
                type: 'basic',
                data: { test: 'value' },
            };
            await (0, globals_1.expect)(createCredentialTool.execute(credentialData)).rejects.toThrow('Failed to create credential with unknown error');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const uninitializedGetClient = globals_1.jest.fn(() => null);
            const uninitializedServer = { addTool: globals_1.jest.fn() };
            (0, credentials_1.createCredentialTools)(uninitializedGetClient, uninitializedServer);
            const tool = uninitializedServer.addTool.mock.calls.find((call) => call[0].name === 'create-credential')?.[0];
            (0, globals_1.expect)(tool).toBeDefined();
            await (0, globals_1.expect)(tool.execute({
                name: 'Test',
                type: 'basic',
                data: { test: 'value' },
            })).rejects.toThrow('n8n client not initialized. Please run init-n8n first.');
        });
        (0, globals_1.it)('should have correct tool annotations', () => {
            (0, globals_1.expect)(createCredentialTool.annotations).toEqual({
                title: 'Create New Credential',
                readOnlyHint: false,
                destructiveHint: false,
                idempotentHint: false,
                openWorldHint: true,
            });
        });
        (0, globals_1.it)('should validate parameters with Zod schema', () => {
            // Valid parameters
            (0, globals_1.expect)(() => createCredentialTool.parameters.parse({
                name: 'Test Credential',
                type: 'httpBasicAuth',
                data: { username: 'test', password: 'secret' },
            })).not.toThrow();
            (0, globals_1.expect)(() => createCredentialTool.parameters.parse({
                name: 'Test Credential',
                type: 'httpBasicAuth',
                data: { username: 'test', password: 'secret' },
                projectId: 'proj-1',
            })).not.toThrow();
            // Invalid parameters
            (0, globals_1.expect)(() => createCredentialTool.parameters.parse({})).toThrow();
            (0, globals_1.expect)(() => createCredentialTool.parameters.parse({ name: '' })).toThrow();
            (0, globals_1.expect)(() => createCredentialTool.parameters.parse({ name: 'Test', type: '' })).toThrow();
            (0, globals_1.expect)(() => createCredentialTool.parameters.parse({ name: 'Test', type: 'basic' })).toThrow(); // missing data
            (0, globals_1.expect)(() => createCredentialTool.parameters.parse({ name: 'Test', type: 'basic', data: {} })).toThrow(); // empty data
        });
    });
    (0, globals_1.describe)('delete-credential tool', () => {
        let deleteCredentialTool;
        (0, globals_1.beforeEach)(() => {
            deleteCredentialTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'delete-credential')[0];
        });
        (0, globals_1.it)('should delete credential successfully', async () => {
            mockClient.deleteCredential.mockResolvedValue(undefined);
            const result = await deleteCredentialTool.execute({ credentialId: 'cred-to-delete' });
            (0, globals_1.expect)(mockClient.deleteCredential).toHaveBeenCalledWith('cred-to-delete');
            (0, globals_1.expect)(result).toBe('✅ Successfully deleted credential with ID: cred-to-delete');
        });
        (0, globals_1.it)('should handle API errors', async () => {
            mockClient.deleteCredential.mockRejectedValue(new Error('Credential not found'));
            await (0, globals_1.expect)(deleteCredentialTool.execute({ credentialId: 'invalid' })).rejects.toThrow('Failed to delete credential: Credential not found');
        });
        (0, globals_1.it)('should handle unknown errors', async () => {
            mockClient.deleteCredential.mockRejectedValue('Network error');
            await (0, globals_1.expect)(deleteCredentialTool.execute({ credentialId: 'test' })).rejects.toThrow('Failed to delete credential with unknown error');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const uninitializedGetClient = globals_1.jest.fn(() => null);
            const uninitializedServer = { addTool: globals_1.jest.fn() };
            (0, credentials_1.createCredentialTools)(uninitializedGetClient, uninitializedServer);
            const tool = uninitializedServer.addTool.mock.calls.find((call) => call[0].name === 'delete-credential')?.[0];
            (0, globals_1.expect)(tool).toBeDefined();
            await (0, globals_1.expect)(tool.execute({ credentialId: 'test' })).rejects.toThrow('n8n client not initialized. Please run init-n8n first.');
        });
        (0, globals_1.it)('should have correct tool annotations', () => {
            (0, globals_1.expect)(deleteCredentialTool.annotations).toEqual({
                title: 'Delete Credential',
                readOnlyHint: false,
                destructiveHint: true,
                idempotentHint: true,
                openWorldHint: true,
            });
        });
        (0, globals_1.it)('should validate parameters with Zod schema', () => {
            // Valid parameters
            (0, globals_1.expect)(() => deleteCredentialTool.parameters.parse({ credentialId: 'test-id' })).not.toThrow();
            // Invalid parameters
            (0, globals_1.expect)(() => deleteCredentialTool.parameters.parse({})).toThrow();
            (0, globals_1.expect)(() => deleteCredentialTool.parameters.parse({ credentialId: '' })).toThrow();
            (0, globals_1.expect)(() => deleteCredentialTool.parameters.parse({ credentialId: 123 })).toThrow();
        });
    });
    (0, globals_1.describe)('get-credential-schema tool', () => {
        let getCredentialSchemaTool;
        (0, globals_1.beforeEach)(() => {
            getCredentialSchemaTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'get-credential-schema')[0];
        });
        (0, globals_1.it)('should get credential schema successfully', async () => {
            const mockSchema = {
                type: 'object',
                properties: {
                    username: {
                        type: 'string',
                        description: 'Username for authentication',
                    },
                    password: {
                        type: 'string',
                        description: 'Password for authentication',
                        format: 'password',
                    },
                },
                required: ['username', 'password'],
            };
            mockClient.getCredentialSchema.mockResolvedValue(mockSchema);
            const result = await getCredentialSchemaTool.execute({ credentialType: 'httpBasicAuth' });
            (0, globals_1.expect)(mockClient.getCredentialSchema).toHaveBeenCalledWith('httpBasicAuth');
            (0, globals_1.expect)(result).toContain('# Credential Schema: httpBasicAuth');
            (0, globals_1.expect)(result).toContain('Schema definition for credential type "httpBasicAuth"');
            (0, globals_1.expect)(result).toContain('```json');
            (0, globals_1.expect)(result).toContain(JSON.stringify(mockSchema, null, 2));
            (0, globals_1.expect)(result).toContain('```');
            (0, globals_1.expect)(result).toContain('Use this schema to understand the required fields when creating credentials');
        });
        (0, globals_1.it)('should handle API errors', async () => {
            mockClient.getCredentialSchema.mockRejectedValue(new Error('Schema not found'));
            await (0, globals_1.expect)(getCredentialSchemaTool.execute({ credentialType: 'invalid' })).rejects.toThrow('Failed to get credential schema: Schema not found');
        });
        (0, globals_1.it)('should handle unknown errors', async () => {
            mockClient.getCredentialSchema.mockRejectedValue(null);
            await (0, globals_1.expect)(getCredentialSchemaTool.execute({ credentialType: 'test' })).rejects.toThrow('Failed to get credential schema with unknown error');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const uninitializedGetClient = globals_1.jest.fn(() => null);
            const uninitializedServer = { addTool: globals_1.jest.fn() };
            (0, credentials_1.createCredentialTools)(uninitializedGetClient, uninitializedServer);
            const tool = uninitializedServer.addTool.mock.calls.find((call) => call[0].name === 'get-credential-schema')?.[0];
            (0, globals_1.expect)(tool).toBeDefined();
            await (0, globals_1.expect)(tool.execute({ credentialType: 'test' })).rejects.toThrow('n8n client not initialized. Please run init-n8n first.');
        });
        (0, globals_1.it)('should have correct tool annotations', () => {
            (0, globals_1.expect)(getCredentialSchemaTool.annotations).toEqual({
                title: 'Get Credential Schema',
                readOnlyHint: true,
                destructiveHint: false,
                idempotentHint: true,
                openWorldHint: true,
            });
        });
        (0, globals_1.it)('should validate parameters with Zod schema', () => {
            // Valid parameters
            (0, globals_1.expect)(() => getCredentialSchemaTool.parameters.parse({ credentialType: 'httpBasicAuth' })).not.toThrow();
            // Invalid parameters
            (0, globals_1.expect)(() => getCredentialSchemaTool.parameters.parse({})).toThrow();
            (0, globals_1.expect)(() => getCredentialSchemaTool.parameters.parse({ credentialType: '' })).toThrow();
            (0, globals_1.expect)(() => getCredentialSchemaTool.parameters.parse({ credentialType: 123 })).toThrow();
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2plcmVteXBhcmtlci9EZXNrdG9wL0NsYXVkZSBDb2RpbmcgUHJvamVjdHMvbjhuLW1jcC1zZXJ2ZXIvdGVzdHMvdW5pdC90b29scy9jcmVkZW50aWFscy50ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsMkNBQXVFO0FBQ3ZFLGdFQUF1RTtBQUl2RSxJQUFBLGtCQUFRLEVBQUMsa0JBQWtCLEVBQUUsR0FBRyxFQUFFO0lBQ2hDLElBQUksVUFBa0MsQ0FBQztJQUN2QyxJQUFJLFVBQWUsQ0FBQztJQUNwQixJQUFJLFNBQWlDLENBQUM7SUFFdEMsSUFBQSxvQkFBVSxFQUFDLEdBQUcsRUFBRTtRQUNkLFVBQVUsR0FBSSxNQUFjLENBQUMsU0FBUyxDQUFDLGdCQUFnQixFQUE0QixDQUFDO1FBQ3BGLFNBQVMsR0FBRyxjQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3RDLFVBQVUsR0FBRztZQUNYLE9BQU8sRUFBRSxjQUFJLENBQUMsRUFBRSxFQUFFO1NBQ25CLENBQUM7UUFFRiw0QkFBNEI7UUFDNUIsSUFBQSxtQ0FBcUIsRUFBQyxTQUFTLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDL0MsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLFlBQUUsRUFBQyxzQ0FBc0MsRUFBRSxHQUFHLEVBQUU7UUFDOUMsSUFBQSxnQkFBTSxFQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVwRCxNQUFNLFNBQVMsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakYsSUFBQSxnQkFBTSxFQUFDLFNBQVMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ2hELElBQUEsZ0JBQU0sRUFBQyxTQUFTLENB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Z0JBQU0sRUFBQyxHQUFHLEVBQUUsQ0FBQyx1QkFBdUIsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUUsY0FBYyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUM1RixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2plcmVteXBhcmtlci9EZXNrdG9wL0NsYXVkZSBDb2RpbmcgUHJvamVjdHMvbjhuLW1jcC1zZXJ2ZXIvdGVzdHMvdW5pdC90b29scy9jcmVkZW50aWFscy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlc2NyaWJlLCBpdCwgZXhwZWN0LCBiZWZvcmVFYWNoLCBqZXN0IH0gZnJvbSAnQGplc3QvZ2xvYmFscyc7XG5pbXBvcnQgeyBjcmVhdGVDcmVkZW50aWFsVG9vbHMgfSBmcm9tICcuLi8uLi8uLi9zcmMvdG9vbHMvY3JlZGVudGlhbHMnO1xuaW1wb3J0IHsgTjhuQ2xpZW50IH0gZnJvbSAnLi4vLi4vLi4vc3JjL2NsaWVudC9uOG5DbGllbnQnO1xuaW1wb3J0IHsgTjhuQ3JlZGVudGlhbCwgQ3JlYXRlQ3JlZGVudGlhbFJlcXVlc3QgfSBmcm9tICcuLi8uLi8uLi9zcmMvdHlwZXMvbjhuJztcblxuZGVzY3JpYmUoJ0NyZWRlbnRpYWwgVG9vbHMnLCAoKSA9PiB7XG4gIGxldCBtb2NrQ2xpZW50OiBqZXN0Lk1vY2tlZDxOOG5DbGllbnQ+O1xuICBsZXQgbW9ja1NlcnZlcjogYW55O1xuICBsZXQgZ2V0Q2xpZW50OiAoKSA9PiBOOG5DbGllbnQgfCBudWxsO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tDbGllbnQgPSAoZ2xvYmFsIGFzIGFueSkudGVzdFV0aWxzLmNyZWF0ZU1vY2tDbGllbnQoKSBhcyBqZXN0Lk1vY2tlZDxOOG5DbGllbnQ+O1xuICAgIGdldENsaWVudCA9IGplc3QuZm4oKCkgPT4gbW9ja0NsaWVudCk7XG4gICAgbW9ja1NlcnZlciA9IHtcbiAgICAgIGFkZFRvb2w6IGplc3QuZm4oKSxcbiAgICB9O1xuXG4gICAgLy8gUmVnaXN0ZXIgY3JlZGVudGlhbCB0b29sc1xuICAgIGNyZWF0ZUNyZWRlbnRpYWxUb29scyhnZXRDbGllbnQsIG1vY2tTZXJ2ZXIpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHJlZ2lzdGVyIGFsbCBjcmVkZW50aWFsIHRvb2xzJywgKCkgPT4ge1xuICAgIGV4cGVjdChtb2NrU2VydmVyLmFkZFRvb2wpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcyg1KTtcblxuICAgIGNvbnN0IHRvb2xOYW1lcyA9IG1vY2tTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLm1hcCgoY2FsbDogYW55KSA9PiBjYWxsWzBdLm5hbWUpO1xuICAgIGV4cGVjdCh0b29sTmFtZXMpLnRvQ29udGFpbignbGlzdC1jcmVkZW50aWFscycpO1xuICAgIGV4cGVjdCh0b29sTmFtZXMpLnRvQ29udGFpbignZ2V0LWNyZWRlbnRpYWwnKTtcbiAgICBleHBlY3QodG9vbE5hbWVzKS50b0NvbnRhaW4oJ2NyZWF0ZS1jcmVkZW50aWFsJyk7XG4gICAgZXhwZWN0KHRvb2xOYW1lcykudG9Db250YWluKCdkZWxldGUtY3JlZGVudGlhbCcpO1xuICAgIGV4cGVjdCh0b29sTmFtZXMpLnRvQ29udGFpbignZ2V0LWNyZWRlbnRpYWwtc2NoZW1hJyk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdsaXN0LWNyZWRlbnRpYWxzIHRvb2wnLCAoKSA9PiB7XG4gICAgbGV0IGxpc3RDcmVkZW50aWFsc1Rvb2w6IGFueTtcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgbGlzdENyZWRlbnRpYWxzVG9vbCA9IG1vY2tTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2xpc3QtY3JlZGVudGlhbHMnXG4gICAgICApWzBdO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBsaXN0IGNyZWRlbnRpYWxzIHN1Y2Nlc3NmdWxseSB3aXRoIGZ1bGwgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tDcmVkZW50aWFsczogTjhuQ3JlZGVudGlhbFtdID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdjcmVkLTEnLFxuICAgICAgICAgIG5hbWU6ICdUZXN0IENyZWRlbnRpYWwgMScsXG4gICAgICAgICAgdHlwZTogJ2h0dHBCYXNpY0F1dGgnLFxuICAgICAgICAgIGhvbWVQcm9qZWN0OiB7XG4gICAgICAgICAgICBpZDogJ3Byb2otMScsXG4gICAgICAgICAgICBuYW1lOiAnVGVzdCBQcm9qZWN0JyxcbiAgICAgICAgICAgIHR5cGU6ICdQZXJzb25hbCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzaGFyZWRXaXRoOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnc2hhcmUtMScsXG4gICAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICBpZDogJ3VzZXItMScsXG4gICAgICAgICAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6ICdKb2huJyxcbiAgICAgICAgICAgICAgICBsYXN0TmFtZTogJ0RvZScsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHJvbGU6ICdvd25lcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgc2NvcGVzOiBbJ3dvcmtmbG93JywgJ2NyZWRlbnRpYWwnXSxcbiAgICAgICAgICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwLjAwMFonLFxuICAgICAgICAgIHVwZGF0ZWRBdDogJzIwMjQtMDEtMDJUMDA6MDA6MDAuMDAwWicsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2NyZWQtMicsXG4gICAgICAgICAgbmFtZTogJ1Rlc3QgQ3JlZGVudGlhbCAyJyxcbiAgICAgICAgICB0eXBlOiAnb2F1dGgyQXBpJyxcbiAgICAgICAgICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTAzVDAwOjAwOjAwLjAwMFonLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0NsaWVudC5nZXRDcmVkZW50aWFscy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IG1vY2tDcmVkZW50aWFscyxcbiAgICAgICAgbmV4dEN1cnNvcjogJ25leHQtY3Vyc29yLTEyMycsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbGlzdENyZWRlbnRpYWxzVG9vbC5leGVjdXRlKHt9KTtcblxuICAgICAgZXhwZWN0KG1vY2tDbGllbnQuZ2V0Q3JlZGVudGlhbHMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHt9KTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignRm91bmQgMiBjcmVkZW50aWFsKHMpOicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCcqKlRlc3QgQ3JlZGVudGlhbCAxKionKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignSUQ6IGNyZWQtMScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdUeXBlOiBodHRwQmFzaWNBdXRoJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1Byb2plY3Q6IFRlc3QgUHJvamVjdCAoUGVyc29uYWwpJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1NoYXJlZCB3aXRoOiAxIHVzZXIocyknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignU2NvcGVzOiB3b3JrZmxvdywgY3JlZGVudGlhbCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdDcmVhdGVkOiAxMi8zMS8yMDIzJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1VwZGF0ZWQ6IDEvMS8yMDI0Jyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJyoqVGVzdCBDcmVkZW50aWFsIDIqKicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdVc2UgY3Vyc29yIFwibmV4dC1jdXJzb3ItMTIzXCIgdG8gZ2V0IHRoZSBuZXh0IHBhZ2UnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbGlzdCBjcmVkZW50aWFscyB3aXRoIHBhZ2luYXRpb24gb3B0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tDcmVkZW50aWFsczogTjhuQ3JlZGVudGlhbFtdID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdjcmVkLTEnLFxuICAgICAgICAgIG5hbWU6ICdUZXN0IENyZWRlbnRpYWwnLFxuICAgICAgICAgIHR5cGU6ICdodHRwQmFzaWNBdXRoJyxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIG1vY2tDbGllbnQuZ2V0Q3JlZGVudGlhbHMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBtb2NrQ3JlZGVudGlhbHMsXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgbGlzdENyZWRlbnRpYWxzVG9vbC5leGVjdXRlKHsgbGltaXQ6IDEwLCBjdXJzb3I6ICd0ZXN0LWN1cnNvcicgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrQ2xpZW50LmdldENyZWRlbnRpYWxzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIGxpbWl0OiAxMCxcbiAgICAgICAgY3Vyc29yOiAndGVzdC1jdXJzb3InLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBjcmVkZW50aWFscyBsaXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC5nZXRDcmVkZW50aWFscy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxpc3RDcmVkZW50aWFsc1Rvb2wuZXhlY3V0ZSh7fSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ05vIGNyZWRlbnRpYWxzIGZvdW5kIGluIHRoZSBuOG4gaW5zdGFuY2UuJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjcmVkZW50aWFscyB3aXRob3V0IG9wdGlvbmFsIGZpZWxkcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tDcmVkZW50aWFsczogTjhuQ3JlZGVudGlhbFtdID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdjcmVkLW1pbmltYWwnLFxuICAgICAgICAgIG5hbWU6ICdNaW5pbWFsIENyZWRlbnRpYWwnLFxuICAgICAgICAgIHR5cGU6ICdiYXNpYycsXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBtb2NrQ2xpZW50LmdldENyZWRlbnRpYWxzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogbW9ja0NyZWRlbnRpYWxzLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxpc3RDcmVkZW50aWFsc1Rvb2wuZXhlY3V0ZSh7fSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignKipNaW5pbWFsIENyZWRlbnRpYWwqKicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdJRDogY3JlZC1taW5pbWFsJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1R5cGU6IGJhc2ljJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9Db250YWluKCdQcm9qZWN0OicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQ29udGFpbignU2hhcmVkIHdpdGg6Jyk7XG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9Db250YWluKCdTY29wZXM6Jyk7XG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9Db250YWluKCdDcmVhdGVkOicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQ29udGFpbignVXBkYXRlZDonKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIEFQSSBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2xpZW50LmdldENyZWRlbnRpYWxzLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQVBJIGNvbm5lY3Rpb24gZmFpbGVkJykpO1xuXG4gICAgICBhd2FpdCBleHBlY3QobGlzdENyZWRlbnRpYWxzVG9vbC5leGVjdXRlKHt9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnRmFpbGVkIHRvIGxpc3QgY3JlZGVudGlhbHM6IEFQSSBjb25uZWN0aW9uIGZhaWxlZCdcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1bmtub3duIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tDbGllbnQuZ2V0Q3JlZGVudGlhbHMubW9ja1JlamVjdGVkVmFsdWUoJ1Vua25vd24gZXJyb3InKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGxpc3RDcmVkZW50aWFsc1Rvb2wuZXhlY3V0ZSh7fSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ0ZhaWxlZCB0byBsaXN0IGNyZWRlbnRpYWxzIHdpdGggdW5rbm93biBlcnJvcidcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IFVzZXJFcnJvciB3aGVuIGNsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1bmluaXRpYWxpemVkR2V0Q2xpZW50ID0gamVzdC5mbigoKSA9PiBudWxsKTtcbiAgICAgIGNvbnN0IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIgPSB7IGFkZFRvb2w6IGplc3QuZm4oKSB9O1xuXG4gICAgICBjcmVhdGVDcmVkZW50aWFsVG9vbHModW5pbml0aWFsaXplZEdldENsaWVudCwgdW5pbml0aWFsaXplZFNlcnZlcik7XG4gICAgICBjb25zdCB0b29sID0gdW5pbml0aWFsaXplZFNlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnbGlzdC1jcmVkZW50aWFscydcbiAgICAgICk/LlswXTtcblxuICAgICAgZXhwZWN0KHRvb2wpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBhd2FpdCBleHBlY3QoKHRvb2wgYXMgYW55KS5leGVjdXRlKHt9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnbjhuIGNsaWVudCBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBydW4gaW5pdC1uOG4gZmlyc3QuJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBjb3JyZWN0IHRvb2wgYW5ub3RhdGlvbnMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QobGlzdENyZWRlbnRpYWxzVG9vbC5hbm5vdGF0aW9ucykudG9FcXVhbCh7XG4gICAgICAgIHRpdGxlOiAnTGlzdCBuOG4gQ3JlZGVudGlhbHMnLFxuICAgICAgICByZWFkT25seUhpbnQ6IHRydWUsXG4gICAgICAgIGRlc3RydWN0aXZlSGludDogZmFsc2UsXG4gICAgICAgIGlkZW1wb3RlbnRIaW50OiB0cnVlLFxuICAgICAgICBvcGVuV29ybGRIaW50OiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHBhcmFtZXRlcnMgd2l0aCBab2Qgc2NoZW1hJywgKCkgPT4ge1xuICAgICAgLy8gVmFsaWQgcGFyYW1ldGVyc1xuICAgICAgZXhwZWN0KCgpID0+IGxpc3RDcmVkZW50aWFsc1Rvb2wucGFyYW1ldGVycy5wYXJzZSh7fSkpLm5vdC50b1Rocm93KCk7XG4gICAgICBleHBlY3QoKCkgPT4gbGlzdENyZWRlbnRpYWxzVG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHsgbGltaXQ6IDUwIH0pKS5ub3QudG9UaHJvdygpO1xuICAgICAgZXhwZWN0KCgpID0+IGxpc3RDcmVkZW50aWFsc1Rvb2wucGFyYW1ldGVycy5wYXJzZSh7IGN1cnNvcjogJ3Rlc3QnIH0pKS5ub3QudG9UaHJvdygpO1xuICAgICAgZXhwZWN0KCgpID0+XG4gICAgICAgIGxpc3RDcmVkZW50aWFsc1Rvb2wucGFyYW1ldGVycy5wYXJzZSh7IGxpbWl0OiAyNSwgY3Vyc29yOiAndGVzdCcgfSlcbiAgICAgICkubm90LnRvVGhyb3coKTtcblxuICAgICAgLy8gSW52YWxpZCBwYXJhbWV0ZXJzXG4gICAgICBleHBlY3QoKCkgPT4gbGlzdENyZWRlbnRpYWxzVG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHsgbGltaXQ6IDAgfSkpLnRvVGhyb3coKTtcbiAgICAgIGV4cGVjdCgoKSA9PiBsaXN0Q3JlZGVudGlhbHNUb29sLnBhcmFtZXRlcnMucGFyc2UoeyBsaW1pdDogMTAxIH0pKS50b1Rocm93KCk7XG4gICAgICBleHBlY3QoKCkgPT4gbGlzdENyZWRlbnRpYWxzVG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHsgbGltaXQ6ICdpbnZhbGlkJyB9KSkudG9UaHJvdygpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0LWNyZWRlbnRpYWwgdG9vbCcsICgpID0+IHtcbiAgICBsZXQgZ2V0Q3JlZGVudGlhbFRvb2w6IGFueTtcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgZ2V0Q3JlZGVudGlhbFRvb2wgPSBtb2NrU2VydmVyLmFkZFRvb2wubW9jay5jYWxscy5maW5kKFxuICAgICAgICAoY2FsbDogYW55KSA9PiBjYWxsWzBdLm5hbWUgPT09ICdnZXQtY3JlZGVudGlhbCdcbiAgICAgIClbMF07XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdldCBjcmVkZW50aWFsIHN1Y2Nlc3NmdWxseSB3aXRoIGZ1bGwgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tDcmVkZW50aWFsOiBOOG5DcmVkZW50aWFsID0ge1xuICAgICAgICBpZDogJ2NyZWQtMScsXG4gICAgICAgIG5hbWU6ICdUZXN0IENyZWRlbnRpYWwnLFxuICAgICAgICB0eXBlOiAnaHR0cEJhc2ljQXV0aCcsXG4gICAgICAgIGhvbWVQcm9qZWN0OiB7XG4gICAgICAgICAgaWQ6ICdwcm9qLTEnLFxuICAgICAgICAgIG5hbWU6ICdUZXN0IFByb2plY3QnLFxuICAgICAgICAgIHR5cGU6ICdQZXJzb25hbCcsXG4gICAgICAgIH0sXG4gICAgICAgIHNoYXJlZFdpdGg6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ3NoYXJlLTEnLFxuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICBpZDogJ3VzZXItMScsXG4gICAgICAgICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgICAgICAgIGZpcnN0TmFtZTogJ0pvaG4nLFxuICAgICAgICAgICAgICBsYXN0TmFtZTogJ0RvZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcm9sZTogJ293bmVyJyxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBub2Rlc0FjY2VzczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5vZGVUeXBlOiAnSHR0cFJlcXVlc3QnLFxuICAgICAgICAgICAgdXNlcjogJ2pvaG4uZG9lJyxcbiAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCcyMDI0LTAxLTAxVDAwOjAwOjAwLjAwMFonKSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBzY29wZXM6IFsnd29ya2Zsb3cnLCAnY3JlZGVudGlhbCddLFxuICAgICAgICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwLjAwMFonLFxuICAgICAgICB1cGRhdGVkQXQ6ICcyMDI0LTAxLTAyVDAwOjAwOjAwLjAwMFonLFxuICAgICAgfTtcblxuICAgICAgbW9ja0NsaWVudC5nZXRDcmVkZW50aWFsLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tDcmVkZW50aWFsKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0Q3JlZGVudGlhbFRvb2wuZXhlY3V0ZSh7IGNyZWRlbnRpYWxJZDogJ2NyZWQtMScgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrQ2xpZW50LmdldENyZWRlbnRpYWwpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdjcmVkLTEnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignIyBDcmVkZW50aWFsOiBUZXN0IENyZWRlbnRpYWwnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignKipJRDoqKiBjcmVkLTEnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignKipOYW1lOioqIFRlc3QgQ3JlZGVudGlhbCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCcqKlR5cGU6KiogaHR0cEJhc2ljQXV0aCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCcqKlByb2plY3Q6KiogVGVzdCBQcm9qZWN0IChQZXJzb25hbCknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignIyMgU2hhcmVkIFdpdGg6Jyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJzEuIEpvaG4gRG9lICh0ZXN0QGV4YW1wbGUuY29tKSAtIFJvbGU6IG93bmVyJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJyMjIE5vZGUgQWNjZXNzOicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCcxLiBOb2RlIFR5cGU6IEh0dHBSZXF1ZXN0Jyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJy0gVXNlcjogam9obi5kb2UnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignLSBEYXRlOiAxMi8zMS8yMDIzLCA2OjAwOjAwIFBNJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJyoqU2NvcGVzOioqIHdvcmtmbG93LCBjcmVkZW50aWFsJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJyoqQ3JlYXRlZDoqKiAxMi8zMS8yMDIzLCA2OjAwOjAwIFBNJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJyoqVXBkYXRlZDoqKiAxLzEvMjAyNCwgNjowMDowMCBQTScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdTZW5zaXRpdmUgY3JlZGVudGlhbCBkYXRhIGlzIG5vdCBkaXNwbGF5ZWQgZm9yIHNlY3VyaXR5IHB1cnBvc2VzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdldCBjcmVkZW50aWFsIHdpdGggbWluaW1hbCBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0NyZWRlbnRpYWw6IE44bkNyZWRlbnRpYWwgPSB7XG4gICAgICAgIGlkOiAnY3JlZC1taW5pbWFsJyxcbiAgICAgICAgbmFtZTogJ01pbmltYWwgQ3JlZGVudGlhbCcsXG4gICAgICAgIHR5cGU6ICdiYXNpYycsXG4gICAgICB9O1xuXG4gICAgICBtb2NrQ2xpZW50LmdldENyZWRlbnRpYWwubW9ja1Jlc29sdmVkVmFsdWUobW9ja0NyZWRlbnRpYWwpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRDcmVkZW50aWFsVG9vbC5leGVjdXRlKHsgY3JlZGVudGlhbElkOiAnY3JlZC1taW5pbWFsJyB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCcjIENyZWRlbnRpYWw6IE1pbmltYWwgQ3JlZGVudGlhbCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCcqKklEOioqIGNyZWQtbWluaW1hbCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCcqKlR5cGU6KiogYmFzaWMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0NvbnRhaW4oJyoqUHJvamVjdDoqKicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQ29udGFpbignIyMgU2hhcmVkIFdpdGg6Jyk7XG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9Db250YWluKCcjIyBOb2RlIEFjY2VzczonKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0NvbnRhaW4oJyoqU2NvcGVzOioqJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBBUEkgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC5nZXRDcmVkZW50aWFsLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQ3JlZGVudGlhbCBub3QgZm91bmQnKSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChnZXRDcmVkZW50aWFsVG9vbC5leGVjdXRlKHsgY3JlZGVudGlhbElkOiAnaW52YWxpZCcgfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ0ZhaWxlZCB0byBnZXQgY3JlZGVudGlhbDogQ3JlZGVudGlhbCBub3QgZm91bmQnXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5rbm93biBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2xpZW50LmdldENyZWRlbnRpYWwubW9ja1JlamVjdGVkVmFsdWUoeyBlcnJvcjogJ1Vua25vd24nIH0pO1xuXG4gICAgICBhd2FpdCBleHBlY3QoZ2V0Q3JlZGVudGlhbFRvb2wuZXhlY3V0ZSh7IGNyZWRlbnRpYWxJZDogJ3Rlc3QnIH0pKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgICdGYWlsZWQgdG8gZ2V0IGNyZWRlbnRpYWwgd2l0aCB1bmtub3duIGVycm9yJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdGhyb3cgVXNlckVycm9yIHdoZW4gY2xpZW50IGlzIG5vdCBpbml0aWFsaXplZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVuaW5pdGlhbGl6ZWRHZXRDbGllbnQgPSBqZXN0LmZuKCgpID0+IG51bGwpO1xuICAgICAgY29uc3QgdW5pbml0aWFsaXplZFNlcnZlciA9IHsgYWRkVG9vbDogamVzdC5mbigpIH07XG5cbiAgICAgIGNyZWF0ZUNyZWRlbnRpYWxUb29scyh1bmluaXRpYWxpemVkR2V0Q2xpZW50LCB1bmluaXRpYWxpemVkU2VydmVyKTtcbiAgICAgIGNvbnN0IHRvb2wgPSB1bmluaXRpYWxpemVkU2VydmVyLmFkZFRvb2wubW9jay5jYWxscy5maW5kKFxuICAgICAgICAoY2FsbDogYW55KSA9PiBjYWxsWzBdLm5hbWUgPT09ICdnZXQtY3JlZGVudGlhbCdcbiAgICAgICk/LlswXTtcblxuICAgICAgZXhwZWN0KHRvb2wpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBhd2FpdCBleHBlY3QoKHRvb2wgYXMgYW55KS5leGVjdXRlKHsgY3JlZGVudGlhbElkOiAndGVzdCcgfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ244biBjbGllbnQgbm90IGluaXRpYWxpemVkLiBQbGVhc2UgcnVuIGluaXQtbjhuIGZpcnN0LidcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgY29ycmVjdCB0b29sIGFubm90YXRpb25zJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldENyZWRlbnRpYWxUb29sLmFubm90YXRpb25zKS50b0VxdWFsKHtcbiAgICAgICAgdGl0bGU6ICdHZXQgQ3JlZGVudGlhbCBEZXRhaWxzJyxcbiAgICAgICAgcmVhZE9ubHlIaW50OiB0cnVlLFxuICAgICAgICBkZXN0cnVjdGl2ZUhpbnQ6IGZhbHNlLFxuICAgICAgICBpZGVtcG90ZW50SGludDogdHJ1ZSxcbiAgICAgICAgb3BlbldvcmxkSGludDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBwYXJhbWV0ZXJzIHdpdGggWm9kIHNjaGVtYScsICgpID0+IHtcbiAgICAgIC8vIFZhbGlkIHBhcmFtZXRlcnNcbiAgICAgIGV4cGVjdCgoKSA9PiBnZXRDcmVkZW50aWFsVG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHsgY3JlZGVudGlhbElkOiAndGVzdC1pZCcgfSkpLm5vdC50b1Rocm93KCk7XG5cbiAgICAgIC8vIEludmFsaWQgcGFyYW1ldGVyc1xuICAgICAgZXhwZWN0KCgpID0+IGdldENyZWRlbnRpYWxUb29sLnBhcmFtZXRlcnMucGFyc2Uoe30pKS50b1Rocm93KCk7XG4gICAgICBleHBlY3QoKCkgPT4gZ2V0Q3JlZGVudGlhbFRvb2wucGFyYW1ldGVycy5wYXJzZSh7IGNyZWRlbnRpYWxJZDogJycgfSkpLnRvVGhyb3coKTtcbiAgICAgIGV4cGVjdCgoKSA9PiBnZXRDcmVkZW50aWFsVG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHsgY3JlZGVudGlhbElkOiAxMjMgfSkpLnRvVGhyb3coKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NyZWF0ZS1jcmVkZW50aWFsIHRvb2wnLCAoKSA9PiB7XG4gICAgbGV0IGNyZWF0ZUNyZWRlbnRpYWxUb29sOiBhbnk7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGNyZWF0ZUNyZWRlbnRpYWxUb29sID0gbW9ja1NlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnY3JlYXRlLWNyZWRlbnRpYWwnXG4gICAgICApWzBdO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgY3JlZGVudGlhbCBzdWNjZXNzZnVsbHkgd2l0aCBmdWxsIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrQ3JlZGVudGlhbDogTjhuQ3JlZGVudGlhbCA9IHtcbiAgICAgICAgaWQ6ICduZXctY3JlZC0xJyxcbiAgICAgICAgbmFtZTogJ05ldyBUZXN0IENyZWRlbnRpYWwnLFxuICAgICAgICB0eXBlOiAnaHR0cEJhc2ljQXV0aCcsXG4gICAgICAgIGhvbWVQcm9qZWN0OiB7XG4gICAgICAgICAgaWQ6ICdwcm9qLTEnLFxuICAgICAgICAgIG5hbWU6ICdUZXN0IFByb2plY3QnLFxuICAgICAgICAgIHR5cGU6ICdQZXJzb25hbCcsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBtb2NrQ2xpZW50LmNyZWF0ZUNyZWRlbnRpYWwubW9ja1Jlc29sdmVkVmFsdWUobW9ja0NyZWRlbnRpYWwpO1xuXG4gICAgICBjb25zdCBjcmVkZW50aWFsRGF0YSA9IHtcbiAgICAgICAgbmFtZTogJ05ldyBUZXN0IENyZWRlbnRpYWwnLFxuICAgICAgICB0eXBlOiAnaHR0cEJhc2ljQXV0aCcsXG4gICAgICAgIGRhdGE6IHsgdXNlcm5hbWU6ICd0ZXN0JywgcGFzc3dvcmQ6ICdzZWNyZXQnIH0sXG4gICAgICAgIHByb2plY3RJZDogJ3Byb2otMScsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVDcmVkZW50aWFsVG9vbC5leGVjdXRlKGNyZWRlbnRpYWxEYXRhKTtcblxuICAgICAgY29uc3QgZXhwZWN0ZWRSZXF1ZXN0OiBDcmVhdGVDcmVkZW50aWFsUmVxdWVzdCA9IHtcbiAgICAgICAgbmFtZTogJ05ldyBUZXN0IENyZWRlbnRpYWwnLFxuICAgICAgICB0eXBlOiAnaHR0cEJhc2ljQXV0aCcsXG4gICAgICAgIGRhdGE6IHsgdXNlcm5hbWU6ICd0ZXN0JywgcGFzc3dvcmQ6ICdzZWNyZXQnIH0sXG4gICAgICAgIHByb2plY3RJZDogJ3Byb2otMScsXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QobW9ja0NsaWVudC5jcmVhdGVDcmVkZW50aWFsKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleHBlY3RlZFJlcXVlc3QpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKFxuICAgICAgICAn4pyFIFN1Y2Nlc3NmdWxseSBjcmVhdGVkIGNyZWRlbnRpYWwgXCJOZXcgVGVzdCBDcmVkZW50aWFsXCIgd2l0aCBJRDogbmV3LWNyZWQtMSdcbiAgICAgICk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1R5cGU6IGh0dHBCYXNpY0F1dGgnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignUHJvamVjdDogVGVzdCBQcm9qZWN0Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBjcmVkZW50aWFsIHdpdGhvdXQgb3B0aW9uYWwgZmllbGRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0NyZWRlbnRpYWw6IE44bkNyZWRlbnRpYWwgPSB7XG4gICAgICAgIGlkOiAnbmV3LWNyZWQtMicsXG4gICAgICAgIG5hbWU6ICdTaW1wbGUgQ3JlZGVudGlhbCcsXG4gICAgICAgIHR5cGU6ICdiYXNpYycsXG4gICAgICB9O1xuXG4gICAgICBtb2NrQ2xpZW50LmNyZWF0ZUNyZWRlbnRpYWwubW9ja1Jlc29sdmVkVmFsdWUobW9ja0NyZWRlbnRpYWwpO1xuXG4gICAgICBjb25zdCBjcmVkZW50aWFsRGF0YSA9IHtcbiAgICAgICAgbmFtZTogJ1NpbXBsZSBDcmVkZW50aWFsJyxcbiAgICAgICAgdHlwZTogJ2Jhc2ljJyxcbiAgICAgICAgZGF0YTogeyB0b2tlbjogJ2FiYzEyMycgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZUNyZWRlbnRpYWxUb29sLmV4ZWN1dGUoY3JlZGVudGlhbERhdGEpO1xuXG4gICAgICBjb25zdCBleHBlY3RlZFJlcXVlc3Q6IENyZWF0ZUNyZWRlbnRpYWxSZXF1ZXN0ID0ge1xuICAgICAgICBuYW1lOiAnU2ltcGxlIENyZWRlbnRpYWwnLFxuICAgICAgICB0eXBlOiAnYmFzaWMnLFxuICAgICAgICBkYXRhOiB7IHRva2VuOiAnYWJjMTIzJyB9LFxuICAgICAgICBwcm9qZWN0SWQ6IHVuZGVmaW5lZCxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChtb2NrQ2xpZW50LmNyZWF0ZUNyZWRlbnRpYWwpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdGVkUmVxdWVzdCk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oXG4gICAgICAgICfinIUgU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgY3JlZGVudGlhbCBcIlNpbXBsZSBDcmVkZW50aWFsXCIgd2l0aCBJRDogbmV3LWNyZWQtMidcbiAgICAgICk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1R5cGU6IGJhc2ljJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9Db250YWluKCdQcm9qZWN0OicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgQVBJIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tDbGllbnQuY3JlYXRlQ3JlZGVudGlhbC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0ludmFsaWQgY3JlZGVudGlhbCB0eXBlJykpO1xuXG4gICAgICBjb25zdCBjcmVkZW50aWFsRGF0YSA9IHtcbiAgICAgICAgbmFtZTogJ1Rlc3QnLFxuICAgICAgICB0eXBlOiAnaW52YWxpZCcsXG4gICAgICAgIGRhdGE6IHsgdGVzdDogJ3ZhbHVlJyB9LFxuICAgICAgfTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGNyZWF0ZUNyZWRlbnRpYWxUb29sLmV4ZWN1dGUoY3JlZGVudGlhbERhdGEpKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgICdGYWlsZWQgdG8gY3JlYXRlIGNyZWRlbnRpYWw6IEludmFsaWQgY3JlZGVudGlhbCB0eXBlJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVua25vd24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC5jcmVhdGVDcmVkZW50aWFsLm1vY2tSZWplY3RlZFZhbHVlKHsgY29kZTogNTAwIH0pO1xuXG4gICAgICBjb25zdCBjcmVkZW50aWFsRGF0YSA9IHtcbiAgICAgICAgbmFtZTogJ1Rlc3QnLFxuICAgICAgICB0eXBlOiAnYmFzaWMnLFxuICAgICAgICBkYXRhOiB7IHRlc3Q6ICd2YWx1ZScgfSxcbiAgICAgIH07XG5cbiAgICAgIGF3YWl0IGV4cGVjdChjcmVhdGVDcmVkZW50aWFsVG9vbC5leGVjdXRlKGNyZWRlbnRpYWxEYXRhKSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnRmFpbGVkIHRvIGNyZWF0ZSBjcmVkZW50aWFsIHdpdGggdW5rbm93biBlcnJvcidcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IFVzZXJFcnJvciB3aGVuIGNsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1bmluaXRpYWxpemVkR2V0Q2xpZW50ID0gamVzdC5mbigoKSA9PiBudWxsKTtcbiAgICAgIGNvbnN0IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIgPSB7IGFkZFRvb2w6IGplc3QuZm4oKSB9O1xuXG4gICAgICBjcmVhdGVDcmVkZW50aWFsVG9vbHModW5pbml0aWFsaXplZEdldENsaWVudCwgdW5pbml0aWFsaXplZFNlcnZlcik7XG4gICAgICBjb25zdCB0b29sID0gdW5pbml0aWFsaXplZFNlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnY3JlYXRlLWNyZWRlbnRpYWwnXG4gICAgICApPy5bMF07XG5cbiAgICAgIGV4cGVjdCh0b29sKS50b0JlRGVmaW5lZCgpO1xuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICAodG9vbCBhcyBhbnkpLmV4ZWN1dGUoe1xuICAgICAgICAgIG5hbWU6ICdUZXN0JyxcbiAgICAgICAgICB0eXBlOiAnYmFzaWMnLFxuICAgICAgICAgIGRhdGE6IHsgdGVzdDogJ3ZhbHVlJyB9LFxuICAgICAgICB9KVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coJ244biBjbGllbnQgbm90IGluaXRpYWxpemVkLiBQbGVhc2UgcnVuIGluaXQtbjhuIGZpcnN0LicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGNvcnJlY3QgdG9vbCBhbm5vdGF0aW9ucycsICgpID0+IHtcbiAgICAgIGV4cGVjdChjcmVhdGVDcmVkZW50aWFsVG9vbC5hbm5vdGF0aW9ucykudG9FcXVhbCh7XG4gICAgICAgIHRpdGxlOiAnQ3JlYXRlIE5ldyBDcmVkZW50aWFsJyxcbiAgICAgICAgcmVhZE9ubHlIaW50OiBmYWxzZSxcbiAgICAgICAgZGVzdHJ1Y3RpdmVIaW50OiBmYWxzZSxcbiAgICAgICAgaWRlbXBvdGVudEhpbnQ6IGZhbHNlLFxuICAgICAgICBvcGVuV29ybGRIaW50OiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHBhcmFtZXRlcnMgd2l0aCBab2Qgc2NoZW1hJywgKCkgPT4ge1xuICAgICAgLy8gVmFsaWQgcGFyYW1ldGVyc1xuICAgICAgZXhwZWN0KCgpID0+XG4gICAgICAgIGNyZWF0ZUNyZWRlbnRpYWxUb29sLnBhcmFtZXRlcnMucGFyc2Uoe1xuICAgICAgICAgIG5hbWU6ICdUZXN0IENyZWRlbnRpYWwnLFxuICAgICAgICAgIHR5cGU6ICdodHRwQmFzaWNBdXRoJyxcbiAgICAgICAgICBkYXRhOiB7IHVzZXJuYW1lOiAndGVzdCcsIHBhc3N3b3JkOiAnc2VjcmV0JyB9LFxuICAgICAgICB9KVxuICAgICAgKS5ub3QudG9UaHJvdygpO1xuXG4gICAgICBleHBlY3QoKCkgPT5cbiAgICAgICAgY3JlYXRlQ3JlZGVudGlhbFRvb2wucGFyYW1ldGVycy5wYXJzZSh7XG4gICAgICAgICAgbmFtZTogJ1Rlc3QgQ3JlZGVudGlhbCcsXG4gICAgICAgICAgdHlwZTogJ2h0dHBCYXNpY0F1dGgnLFxuICAgICAgICAgIGRhdGE6IHsgdXNlcm5hbWU6ICd0ZXN0JywgcGFzc3dvcmQ6ICdzZWNyZXQnIH0sXG4gICAgICAgICAgcHJvamVjdElkOiAncHJvai0xJyxcbiAgICAgICAgfSlcbiAgICAgICkubm90LnRvVGhyb3coKTtcblxuICAgICAgLy8gSW52YWxpZCBwYXJhbWV0ZXJzXG4gICAgICBleHBlY3QoKCkgPT4gY3JlYXRlQ3JlZGVudGlhbFRvb2wucGFyYW1ldGVycy5wYXJzZSh7fSkpLnRvVGhyb3coKTtcbiAgICAgIGV4cGVjdCgoKSA9PiBjcmVhdGVDcmVkZW50aWFsVG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHsgbmFtZTogJycgfSkpLnRvVGhyb3coKTtcbiAgICAgIGV4cGVjdCgoKSA9PiBjcmVhdGVDcmVkZW50aWFsVG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHsgbmFtZTogJ1Rlc3QnLCB0eXBlOiAnJyB9KSkudG9UaHJvdygpO1xuICAgICAgZXhwZWN0KCgpID0+XG4gICAgICAgIGNyZWF0ZUNyZWRlbnRpYWxUb29sLnBhcmFtZXRlcnMucGFyc2UoeyBuYW1lOiAnVGVzdCcsIHR5cGU6ICdiYXNpYycgfSlcbiAgICAgICkudG9UaHJvdygpOyAvLyBtaXNzaW5nIGRhdGFcbiAgICAgIGV4cGVjdCgoKSA9PlxuICAgICAgICBjcmVhdGVDcmVkZW50aWFsVG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHsgbmFtZTogJ1Rlc3QnLCB0eXBlOiAnYmFzaWMnLCBkYXRhOiB7fSB9KVxuICAgICAgKS50b1Rocm93KCk7IC8vIGVtcHR5IGRhdGFcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2RlbGV0ZS1jcmVkZW50aWFsIHRvb2wnLCAoKSA9PiB7XG4gICAgbGV0IGRlbGV0ZUNyZWRlbnRpYWxUb29sOiBhbnk7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGRlbGV0ZUNyZWRlbnRpYWxUb29sID0gbW9ja1NlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnZGVsZXRlLWNyZWRlbnRpYWwnXG4gICAgICApWzBdO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkZWxldGUgY3JlZGVudGlhbCBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2xpZW50LmRlbGV0ZUNyZWRlbnRpYWwubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGVsZXRlQ3JlZGVudGlhbFRvb2wuZXhlY3V0ZSh7IGNyZWRlbnRpYWxJZDogJ2NyZWQtdG8tZGVsZXRlJyB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tDbGllbnQuZGVsZXRlQ3JlZGVudGlhbCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2NyZWQtdG8tZGVsZXRlJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKCfinIUgU3VjY2Vzc2Z1bGx5IGRlbGV0ZWQgY3JlZGVudGlhbCB3aXRoIElEOiBjcmVkLXRvLWRlbGV0ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgQVBJIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tDbGllbnQuZGVsZXRlQ3JlZGVudGlhbC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0NyZWRlbnRpYWwgbm90IGZvdW5kJykpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoZGVsZXRlQ3JlZGVudGlhbFRvb2wuZXhlY3V0ZSh7IGNyZWRlbnRpYWxJZDogJ2ludmFsaWQnIH0pKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgICdGYWlsZWQgdG8gZGVsZXRlIGNyZWRlbnRpYWw6IENyZWRlbnRpYWwgbm90IGZvdW5kJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVua25vd24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC5kZWxldGVDcmVkZW50aWFsLm1vY2tSZWplY3RlZFZhbHVlKCdOZXR3b3JrIGVycm9yJyk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChkZWxldGVDcmVkZW50aWFsVG9vbC5leGVjdXRlKHsgY3JlZGVudGlhbElkOiAndGVzdCcgfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ0ZhaWxlZCB0byBkZWxldGUgY3JlZGVudGlhbCB3aXRoIHVua25vd24gZXJyb3InXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBVc2VyRXJyb3Igd2hlbiBjbGllbnQgaXMgbm90IGluaXRpYWxpemVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdW5pbml0aWFsaXplZEdldENsaWVudCA9IGplc3QuZm4oKCkgPT4gbnVsbCk7XG4gICAgICBjb25zdCB1bmluaXRpYWxpemVkU2VydmVyID0geyBhZGRUb29sOiBqZXN0LmZuKCkgfTtcblxuICAgICAgY3JlYXRlQ3JlZGVudGlhbFRvb2xzKHVuaW5pdGlhbGl6ZWRHZXRDbGllbnQsIHVuaW5pdGlhbGl6ZWRTZXJ2ZXIpO1xuICAgICAgY29uc3QgdG9vbCA9IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2RlbGV0ZS1jcmVkZW50aWFsJ1xuICAgICAgKT8uWzBdO1xuXG4gICAgICBleHBlY3QodG9vbCkudG9CZURlZmluZWQoKTtcbiAgICAgIGF3YWl0IGV4cGVjdCgodG9vbCBhcyBhbnkpLmV4ZWN1dGUoeyBjcmVkZW50aWFsSWQ6ICd0ZXN0JyB9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnbjhuIGNsaWVudCBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBydW4gaW5pdC1uOG4gZmlyc3QuJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBjb3JyZWN0IHRvb2wgYW5ub3RhdGlvbnMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZGVsZXRlQ3JlZGVudGlhbFRvb2wuYW5ub3RhdGlvbnMpLnRvRXF1YWwoe1xuICAgICAgICB0aXRsZTogJ0RlbGV0ZSBDcmVkZW50aWFsJyxcbiAgICAgICAgcmVhZE9ubHlIaW50OiBmYWxzZSxcbiAgICAgICAgZGVzdHJ1Y3RpdmVIaW50OiB0cnVlLFxuICAgICAgICBpZGVtcG90ZW50SGludDogdHJ1ZSxcbiAgICAgICAgb3BlbldvcmxkSGludDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBwYXJhbWV0ZXJzIHdpdGggWm9kIHNjaGVtYScsICgpID0+IHtcbiAgICAgIC8vIFZhbGlkIHBhcmFtZXRlcnNcbiAgICAgIGV4cGVjdCgoKSA9PlxuICAgICAgICBkZWxldGVDcmVkZW50aWFsVG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHsgY3JlZGVudGlhbElkOiAndGVzdC1pZCcgfSlcbiAgICAgICkubm90LnRvVGhyb3coKTtcblxuICAgICAgLy8gSW52YWxpZCBwYXJhbWV0ZXJzXG4gICAgICBleHBlY3QoKCkgPT4gZGVsZXRlQ3JlZGVudGlhbFRvb2wucGFyYW1ldGVycy5wYXJzZSh7fSkpLnRvVGhyb3coKTtcbiAgICAgIGV4cGVjdCgoKSA9PiBkZWxldGVDcmVkZW50aWFsVG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHsgY3JlZGVudGlhbElkOiAnJyB9KSkudG9UaHJvdygpO1xuICAgICAgZXhwZWN0KCgpID0+IGRlbGV0ZUNyZWRlbnRpYWxUb29sLnBhcmFtZXRlcnMucGFyc2UoeyBjcmVkZW50aWFsSWQ6IDEyMyB9KSkudG9UaHJvdygpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0LWNyZWRlbnRpYWwtc2NoZW1hIHRvb2wnLCAoKSA9PiB7XG4gICAgbGV0IGdldENyZWRlbnRpYWxTY2hlbWFUb29sOiBhbnk7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGdldENyZWRlbnRpYWxTY2hlbWFUb29sID0gbW9ja1NlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnZ2V0LWNyZWRlbnRpYWwtc2NoZW1hJ1xuICAgICAgKVswXTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2V0IGNyZWRlbnRpYWwgc2NoZW1hIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTY2hlbWEgPSB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgdXNlcm5hbWU6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdVc2VybmFtZSBmb3IgYXV0aGVudGljYXRpb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcGFzc3dvcmQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdQYXNzd29yZCBmb3IgYXV0aGVudGljYXRpb24nLFxuICAgICAgICAgICAgZm9ybWF0OiAncGFzc3dvcmQnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHJlcXVpcmVkOiBbJ3VzZXJuYW1lJywgJ3Bhc3N3b3JkJ10sXG4gICAgICB9O1xuXG4gICAgICBtb2NrQ2xpZW50LmdldENyZWRlbnRpYWxTY2hlbWEubW9ja1Jlc29sdmVkVmFsdWUobW9ja1NjaGVtYSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldENyZWRlbnRpYWxTY2hlbWFUb29sLmV4ZWN1dGUoeyBjcmVkZW50aWFsVHlwZTogJ2h0dHBCYXNpY0F1dGgnIH0pO1xuXG4gICAgICBleHBlY3QobW9ja0NsaWVudC5nZXRDcmVkZW50aWFsU2NoZW1hKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnaHR0cEJhc2ljQXV0aCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCcjIENyZWRlbnRpYWwgU2NoZW1hOiBodHRwQmFzaWNBdXRoJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1NjaGVtYSBkZWZpbml0aW9uIGZvciBjcmVkZW50aWFsIHR5cGUgXCJodHRwQmFzaWNBdXRoXCInKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignYGBganNvbicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKEpTT04uc3RyaW5naWZ5KG1vY2tTY2hlbWEsIG51bGwsIDIpKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignYGBgJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oXG4gICAgICAgICdVc2UgdGhpcyBzY2hlbWEgdG8gdW5kZXJzdGFuZCB0aGUgcmVxdWlyZWQgZmllbGRzIHdoZW4gY3JlYXRpbmcgY3JlZGVudGlhbHMnXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgQVBJIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tDbGllbnQuZ2V0Q3JlZGVudGlhbFNjaGVtYS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ1NjaGVtYSBub3QgZm91bmQnKSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChnZXRDcmVkZW50aWFsU2NoZW1hVG9vbC5leGVjdXRlKHsgY3JlZGVudGlhbFR5cGU6ICdpbnZhbGlkJyB9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnRmFpbGVkIHRvIGdldCBjcmVkZW50aWFsIHNjaGVtYTogU2NoZW1hIG5vdCBmb3VuZCdcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1bmtub3duIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tDbGllbnQuZ2V0Q3JlZGVudGlhbFNjaGVtYS5tb2NrUmVqZWN0ZWRWYWx1ZShudWxsKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGdldENyZWRlbnRpYWxTY2hlbWFUb29sLmV4ZWN1dGUoeyBjcmVkZW50aWFsVHlwZTogJ3Rlc3QnIH0pKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgICdGYWlsZWQgdG8gZ2V0IGNyZWRlbnRpYWwgc2NoZW1hIHdpdGggdW5rbm93biBlcnJvcidcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IFVzZXJFcnJvciB3aGVuIGNsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1bmluaXRpYWxpemVkR2V0Q2xpZW50ID0gamVzdC5mbigoKSA9PiBudWxsKTtcbiAgICAgIGNvbnN0IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIgPSB7IGFkZFRvb2w6IGplc3QuZm4oKSB9O1xuXG4gICAgICBjcmVhdGVDcmVkZW50aWFsVG9vbHModW5pbml0aWFsaXplZEdldENsaWVudCwgdW5pbml0aWFsaXplZFNlcnZlcik7XG4gICAgICBjb25zdCB0b29sID0gdW5pbml0aWFsaXplZFNlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnZ2V0LWNyZWRlbnRpYWwtc2NoZW1hJ1xuICAgICAgKT8uWzBdO1xuXG4gICAgICBleHBlY3QodG9vbCkudG9CZURlZmluZWQoKTtcbiAgICAgIGF3YWl0IGV4cGVjdCgodG9vbCBhcyBhbnkpLmV4ZWN1dGUoeyBjcmVkZW50aWFsVHlwZTogJ3Rlc3QnIH0pKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgICduOG4gY2xpZW50IG5vdCBpbml0aWFsaXplZC4gUGxlYXNlIHJ1biBpbml0LW44biBmaXJzdC4nXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGNvcnJlY3QgdG9vbCBhbm5vdGF0aW9ucycsICgpID0+IHtcbiAgICAgIGV4cGVjdChnZXRDcmVkZW50aWFsU2NoZW1hVG9vbC5hbm5vdGF0aW9ucykudG9FcXVhbCh7XG4gICAgICAgIHRpdGxlOiAnR2V0IENyZWRlbnRpYWwgU2NoZW1hJyxcbiAgICAgICAgcmVhZE9ubHlIaW50OiB0cnVlLFxuICAgICAgICBkZXN0cnVjdGl2ZUhpbnQ6IGZhbHNlLFxuICAgICAgICBpZGVtcG90ZW50SGludDogdHJ1ZSxcbiAgICAgICAgb3BlbldvcmxkSGludDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBwYXJhbWV0ZXJzIHdpdGggWm9kIHNjaGVtYScsICgpID0+IHtcbiAgICAgIC8vIFZhbGlkIHBhcmFtZXRlcnNcbiAgICAgIGV4cGVjdCgoKSA9PlxuICAgICAgICBnZXRDcmVkZW50aWFsU2NoZW1hVG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHsgY3JlZGVudGlhbFR5cGU6ICdodHRwQmFzaWNBdXRoJyB9KVxuICAgICAgKS5ub3QudG9UaHJvdygpO1xuXG4gICAgICAvLyBJbnZhbGlkIHBhcmFtZXRlcnNcbiAgICAgIGV4cGVjdCgoKSA9PiBnZXRDcmVkZW50aWFsU2NoZW1hVG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHt9KSkudG9UaHJvdygpO1xuICAgICAgZXhwZWN0KCgpID0+IGdldENyZWRlbnRpYWxTY2hlbWFUb29sLnBhcmFtZXRlcnMucGFyc2UoeyBjcmVkZW50aWFsVHlwZTogJycgfSkpLnRvVGhyb3coKTtcbiAgICAgIGV4cGVjdCgoKSA9PiBnZXRDcmVkZW50aWFsU2NoZW1hVG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHsgY3JlZGVudGlhbFR5cGU6IDEyMyB9KSkudG9UaHJvdygpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sInZlcnNpb24iOjN9