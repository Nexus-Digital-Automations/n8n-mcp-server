918979d79e9b53f176a1276129706ab6
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("@jest/globals");
const workflow_1 = require("../../../src/tools/workflow");
(0, globals_1.describe)('Workflow Tools', () => {
    let mockClient;
    let mockServer;
    let getClient;
    (0, globals_1.beforeEach)(() => {
        mockClient = global.testUtils.createMockClient();
        getClient = globals_1.jest.fn(() => mockClient);
        mockServer = {
            addTool: globals_1.jest.fn(),
        };
        // Register workflow tools
        (0, workflow_1.createWorkflowTools)(getClient, mockServer);
    });
    (0, globals_1.it)('should register all workflow tools', () => {
        (0, globals_1.expect)(mockServer.addTool).toHaveBeenCalledTimes(7);
        const toolNames = mockServer.addTool.mock.calls.map((call) => call[0].name);
        (0, globals_1.expect)(toolNames).toContain('list-workflows');
        (0, globals_1.expect)(toolNames).toContain('get-workflow');
        (0, globals_1.expect)(toolNames).toContain('create-workflow');
        (0, globals_1.expect)(toolNames).toContain('update-workflow');
        (0, globals_1.expect)(toolNames).toContain('delete-workflow');
        (0, globals_1.expect)(toolNames).toContain('activate-workflow');
        (0, globals_1.expect)(toolNames).toContain('deactivate-workflow');
    });
    (0, globals_1.describe)('list-workflows tool', () => {
        let listWorkflowsTool;
        (0, globals_1.beforeEach)(() => {
            listWorkflowsTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'list-workflows')[0];
        });
        (0, globals_1.it)('should list workflows successfully', async () => {
            const mockWorkflows = [
                global.testUtils.createMockWorkflow({ id: '1', name: 'Workflow 1', active: true }),
                global.testUtils.createMockWorkflow({
                    id: '2',
                    name: 'Workflow 2',
                    active: false,
                }),
            ];
            mockClient.getWorkflows.mockResolvedValue(global.testUtils.createMockApiResponse(mockWorkflows));
            const result = await listWorkflowsTool.execute({ limit: 10 });
            (0, globals_1.expect)(mockClient.getWorkflows).toHaveBeenCalledWith({ limit: 10 });
            (0, globals_1.expect)(result).toContain('Found 2 workflow(s)');
            (0, globals_1.expect)(result).toContain('Workflow 1');
            (0, globals_1.expect)(result).toContain('Workflow 2');
            (0, globals_1.expect)(result).toContain('ðŸŸ¢ Active');
            (0, globals_1.expect)(result).toContain('ðŸ”´ Inactive');
        });
        (0, globals_1.it)('should list workflows with tags and pagination', async () => {
            const mockWorkflows = [
                global.testUtils.createMockWorkflow({
                    id: '1',
                    name: 'Tagged Workflow',
                    tags: ['production', 'automation'],
                    createdAt: '2023-01-01T00:00:00.000Z',
                }),
            ];
            mockClient.getWorkflows.mockResolvedValue({
                ...global.testUtils.createMockApiResponse(mockWorkflows),
                nextCursor: 'next-page-cursor',
            });
            const result = await listWorkflowsTool.execute({ cursor: 'current-cursor' });
            (0, globals_1.expect)(mockClient.getWorkflows).toHaveBeenCalledWith({ cursor: 'current-cursor' });
            (0, globals_1.expect)(result).toContain('Tagged Workflow');
            (0, globals_1.expect)(result).toContain('Tags: production, automation');
            (0, globals_1.expect)(result).toContain('ðŸ“„ Use cursor "next-page-cursor" to get the next page.');
        });
        (0, globals_1.it)('should handle empty workflow list', async () => {
            mockClient.getWorkflows.mockResolvedValue(global.testUtils.createMockApiResponse([]));
            const result = await listWorkflowsTool.execute({});
            (0, globals_1.expect)(result).toBe('No workflows found in the n8n instance.');
        });
        (0, globals_1.it)('should handle API errors with Error instance', async () => {
            mockClient.getWorkflows.mockRejectedValue(new Error('API connection failed'));
            await (0, globals_1.expect)(listWorkflowsTool.execute({})).rejects.toThrow('Failed to list workflows: API connection failed');
        });
        (0, globals_1.it)('should handle unknown errors', async () => {
            mockClient.getWorkflows.mockRejectedValue('Unknown error type');
            await (0, globals_1.expect)(listWorkflowsTool.execute({})).rejects.toThrow('Failed to list workflows with unknown error');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const uninitializedGetClient = globals_1.jest.fn(() => null);
            const uninitializedServer = { addTool: globals_1.jest.fn() };
            (0, workflow_1.createWorkflowTools)(uninitializedGetClient, uninitializedServer);
            const tool = uninitializedServer.addTool.mock.calls.find((call) => call[0].name === 'list-workflows')?.[0];
            (0, globals_1.expect)(tool).toBeDefined();
            (0, globals_1.expect)(tool).toHaveProperty('execute');
            await (0, globals_1.expect)(tool.execute({})).rejects.toThrow('n8n client not initialized. Please run init-n8n first.');
        });
    });
    (0, globals_1.describe)('get-workflow tool', () => {
        let getWorkflowTool;
        (0, globals_1.beforeEach)(() => {
            getWorkflowTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'get-workflow')[0];
        });
        (0, globals_1.it)('should get workflow details successfully', async () => {
            const mockWorkflow = global.testUtils.createMockWorkflow({
                id: 'workflow-123',
                name: 'Test Workflow',
                active: true,
            });
            mockClient.getWorkflow.mockResolvedValue(mockWorkflow);
            const result = await getWorkflowTool.execute({ workflowId: 'workflow-123' });
            (0, globals_1.expect)(mockClient.getWorkflow).toHaveBeenCalledWith('workflow-123');
            (0, globals_1.expect)(result).toContain('# Workflow: Test Workflow');
            (0, globals_1.expect)(result).toContain('**ID:** workflow-123');
            (0, globals_1.expect)(result).toContain('**Status:** ðŸŸ¢ Active');
        });
        (0, globals_1.it)('should get workflow details with tags and dates', async () => {
            const mockWorkflow = global.testUtils.createMockWorkflow({
                id: 'workflow-456',
                name: 'Complex Workflow',
                active: false,
                tags: ['test', 'automation'],
                createdAt: '2023-01-01T12:00:00.000Z',
                updatedAt: '2023-01-02T15:30:00.000Z',
                nodes: [
                    { name: 'Start Node', type: 'manual' },
                    { name: undefined, type: undefined }, // Test fallback values
                ],
            });
            mockClient.getWorkflow.mockResolvedValue(mockWorkflow);
            const result = await getWorkflowTool.execute({ workflowId: 'workflow-456' });
            (0, globals_1.expect)(result).toContain('**Tags:** test, automation');
            (0, globals_1.expect)(result).toContain('**Created:**');
            (0, globals_1.expect)(result).toContain('**Updated:**');
            (0, globals_1.expect)(result).toContain('**Status:** ðŸ”´ Inactive');
            (0, globals_1.expect)(result).toContain('Start Node');
            (0, globals_1.expect)(result).toContain('Unnamed Node');
            (0, globals_1.expect)(result).toContain('Unknown Type');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const uninitializedGetClient = globals_1.jest.fn(() => null);
            const uninitializedServer = { addTool: globals_1.jest.fn() };
            (0, workflow_1.createWorkflowTools)(uninitializedGetClient, uninitializedServer);
            const tool = uninitializedServer.addTool.mock.calls.find((call) => call[0].name === 'get-workflow')?.[0];
            await (0, globals_1.expect)(tool.execute({ workflowId: 'test' })).rejects.toThrow('n8n client not initialized. Please run init-n8n first.');
        });
        (0, globals_1.it)('should handle workflow not found error', async () => {
            mockClient.getWorkflow.mockRejectedValue(new Error('Workflow not found'));
            await (0, globals_1.expect)(getWorkflowTool.execute({ workflowId: 'nonexistent' })).rejects.toThrow('Failed to get workflow: Workflow not found');
        });
        (0, globals_1.it)('should handle unknown errors', async () => {
            mockClient.getWorkflow.mockRejectedValue('Unknown error type');
            await (0, globals_1.expect)(getWorkflowTool.execute({ workflowId: 'test' })).rejects.toThrow('Failed to get workflow with unknown error');
        });
    });
    (0, globals_1.describe)('create-workflow tool', () => {
        let createWorkflowTool;
        (0, globals_1.beforeEach)(() => {
            createWorkflowTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'create-workflow')[0];
        });
        (0, globals_1.it)('should create workflow successfully', async () => {
            const mockWorkflow = global.testUtils.createMockWorkflow({
                id: 'new-workflow-123',
                name: 'New Workflow',
                active: false,
            });
            mockClient.createWorkflow.mockResolvedValue(mockWorkflow);
            const workflowData = {
                name: 'New Workflow',
                nodes: [{ name: 'Start', type: 'manual' }],
                connections: {},
                active: false,
            };
            const result = await createWorkflowTool.execute(workflowData);
            (0, globals_1.expect)(mockClient.createWorkflow).toHaveBeenCalledWith(workflowData);
            (0, globals_1.expect)(result).toContain('âœ… Successfully created workflow "New Workflow"');
            (0, globals_1.expect)(result).toContain('ID: new-workflow-123');
            (0, globals_1.expect)(result).toContain('ðŸ”´ Inactive');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const uninitializedGetClient = globals_1.jest.fn(() => null);
            const uninitializedServer = { addTool: globals_1.jest.fn() };
            (0, workflow_1.createWorkflowTools)(uninitializedGetClient, uninitializedServer);
            const tool = uninitializedServer.addTool.mock.calls.find((call) => call[0].name === 'create-workflow')?.[0];
            const workflowData = {
                name: 'Test Workflow',
                nodes: [{ name: 'Start', type: 'manual' }],
                connections: {},
            };
            await (0, globals_1.expect)(tool.execute(workflowData)).rejects.toThrow('n8n client not initialized. Please run init-n8n first.');
        });
        (0, globals_1.it)('should handle creation errors with Error instance', async () => {
            mockClient.createWorkflow.mockRejectedValue(new Error('Invalid workflow data'));
            const workflowData = {
                name: 'Invalid Workflow',
                nodes: [{ name: 'Start', type: 'manual' }],
                connections: {},
            };
            await (0, globals_1.expect)(createWorkflowTool.execute(workflowData)).rejects.toThrow('Failed to create workflow: Invalid workflow data');
        });
        (0, globals_1.it)('should handle unknown creation errors', async () => {
            mockClient.createWorkflow.mockRejectedValue('Unknown error type');
            const workflowData = {
                name: 'Test Workflow',
                nodes: [{ name: 'Start', type: 'manual' }],
                connections: {},
            };
            await (0, globals_1.expect)(createWorkflowTool.execute(workflowData)).rejects.toThrow('Failed to create workflow with unknown error');
        });
        (0, globals_1.it)('should create active workflow successfully', async () => {
            const mockWorkflow = global.testUtils.createMockWorkflow({
                id: 'active-workflow-123',
                name: 'Active Workflow',
                active: true,
            });
            mockClient.createWorkflow.mockResolvedValue(mockWorkflow);
            const workflowData = {
                name: 'Active Workflow',
                nodes: [{ name: 'Start', type: 'manual' }],
                connections: {},
                active: true,
            };
            const result = await createWorkflowTool.execute(workflowData);
            (0, globals_1.expect)(result).toContain('âœ… Successfully created workflow "Active Workflow"');
            (0, globals_1.expect)(result).toContain('ðŸŸ¢ Active');
        });
    });
    (0, globals_1.describe)('update-workflow tool', () => {
        let updateWorkflowTool;
        (0, globals_1.beforeEach)(() => {
            updateWorkflowTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'update-workflow')[0];
        });
        (0, globals_1.it)('should update workflow successfully', async () => {
            const mockWorkflow = global.testUtils.createMockWorkflow({
                id: 'workflow-123',
                name: 'Updated Workflow',
                active: false,
            });
            mockClient.updateWorkflow.mockResolvedValue(mockWorkflow);
            const updateData = {
                workflowId: 'workflow-123',
                name: 'Updated Workflow',
                active: false,
            };
            const result = await updateWorkflowTool.execute(updateData);
            (0, globals_1.expect)(mockClient.updateWorkflow).toHaveBeenCalledWith('workflow-123', {
                name: 'Updated Workflow',
                active: false,
            });
            (0, globals_1.expect)(result).toContain('âœ… Successfully updated workflow "Updated Workflow"');
            (0, globals_1.expect)(result).toContain('ID: workflow-123');
            (0, globals_1.expect)(result).toContain('Status: ðŸ”´ Inactive');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const uninitializedGetClient = globals_1.jest.fn(() => null);
            const uninitializedServer = { addTool: globals_1.jest.fn() };
            (0, workflow_1.createWorkflowTools)(uninitializedGetClient, uninitializedServer);
            const tool = uninitializedServer.addTool.mock.calls.find((call) => call[0].name === 'update-workflow')?.[0];
            const updateData = {
                workflowId: 'test-id',
                name: 'Test Update',
            };
            await (0, globals_1.expect)(tool.execute(updateData)).rejects.toThrow('n8n client not initialized. Please run init-n8n first.');
        });
        (0, globals_1.it)('should handle update errors with Error instance', async () => {
            mockClient.updateWorkflow.mockRejectedValue(new Error('Workflow not found'));
            const updateData = {
                workflowId: 'nonexistent-id',
                name: 'Updated Name',
            };
            await (0, globals_1.expect)(updateWorkflowTool.execute(updateData)).rejects.toThrow('Failed to update workflow: Workflow not found');
        });
        (0, globals_1.it)('should handle unknown update errors', async () => {
            mockClient.updateWorkflow.mockRejectedValue('Unknown error type');
            const updateData = {
                workflowId: 'test-id',
                name: 'Test Update',
            };
            await (0, globals_1.expect)(updateWorkflowTool.execute(updateData)).rejects.toThrow('Failed to update workflow with unknown error');
        });
        (0, globals_1.it)('should update workflow to active status successfully', async () => {
            const mockWorkflow = global.testUtils.createMockWorkflow({
                id: 'workflow-456',
                name: 'Activated Workflow',
                active: true,
            });
            mockClient.updateWorkflow.mockResolvedValue(mockWorkflow);
            const updateData = {
                workflowId: 'workflow-456',
                name: 'Activated Workflow',
                active: true,
            };
            const result = await updateWorkflowTool.execute(updateData);
            (0, globals_1.expect)(result).toContain('âœ… Successfully updated workflow "Activated Workflow"');
            (0, globals_1.expect)(result).toContain('Status: ðŸŸ¢ Active');
        });
    });
    (0, globals_1.describe)('delete-workflow tool', () => {
        let deleteWorkflowTool;
        (0, globals_1.beforeEach)(() => {
            deleteWorkflowTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'delete-workflow')[0];
        });
        (0, globals_1.it)('should delete workflow successfully', async () => {
            mockClient.deleteWorkflow.mockResolvedValue(undefined);
            const result = await deleteWorkflowTool.execute({ workflowId: 'workflow-123' });
            (0, globals_1.expect)(mockClient.deleteWorkflow).toHaveBeenCalledWith('workflow-123');
            (0, globals_1.expect)(result).toContain('âœ… Successfully deleted workflow with ID: workflow-123');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const uninitializedGetClient = globals_1.jest.fn(() => null);
            const uninitializedServer = { addTool: globals_1.jest.fn() };
            (0, workflow_1.createWorkflowTools)(uninitializedGetClient, uninitializedServer);
            const tool = uninitializedServer.addTool.mock.calls.find((call) => call[0].name === 'delete-workflow')?.[0];
            await (0, globals_1.expect)(tool.execute({ workflowId: 'test-id' })).rejects.toThrow('n8n client not initialized. Please run init-n8n first.');
        });
        (0, globals_1.it)('should handle delete errors with Error instance', async () => {
            mockClient.deleteWorkflow.mockRejectedValue(new Error('Workflow not found'));
            await (0, globals_1.expect)(deleteWorkflowTool.execute({ workflowId: 'nonexistent' })).rejects.toThrow('Failed to delete workflow: Workflow not found');
        });
        (0, globals_1.it)('should handle unknown delete errors', async () => {
            mockClient.deleteWorkflow.mockRejectedValue('Unknown error type');
            await (0, globals_1.expect)(deleteWorkflowTool.execute({ workflowId: 'test-id' })).rejects.toThrow('Failed to delete workflow with unknown error');
        });
    });
    (0, globals_1.describe)('workflow activation tools', () => {
        let activateWorkflowTool;
        let deactivateWorkflowTool;
        (0, globals_1.beforeEach)(() => {
            activateWorkflowTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'activate-workflow')[0];
            deactivateWorkflowTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'deactivate-workflow')[0];
        });
        (0, globals_1.it)('should activate workflow successfully', async () => {
            const mockWorkflow = global.testUtils.createMockWorkflow({
                id: 'workflow-123',
                name: 'Test Workflow',
                active: true,
            });
            mockClient.activateWorkflow.mockResolvedValue(mockWorkflow);
            const result = await activateWorkflowTool.execute({ workflowId: 'workflow-123' });
            (0, globals_1.expect)(mockClient.activateWorkflow).toHaveBeenCalledWith('workflow-123');
            (0, globals_1.expect)(result).toContain('âœ… Successfully activated workflow "Test Workflow"');
            (0, globals_1.expect)(result).toContain('Status: ðŸŸ¢ Active');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized for activation', async () => {
            const uninitializedGetClient = globals_1.jest.fn(() => null);
            const uninitializedServer = { addTool: globals_1.jest.fn() };
            (0, workflow_1.createWorkflowTools)(uninitializedGetClient, uninitializedServer);
            const tool = uninitializedServer.addTool.mock.calls.find((call) => call[0].name === 'activate-workflow')?.[0];
            await (0, globals_1.expect)(tool.execute({ workflowId: 'test-id' })).rejects.toThrow('n8n client not initialized. Please run init-n8n first.');
        });
        (0, globals_1.it)('should handle activation errors with Error instance', async () => {
            mockClient.activateWorkflow.mockRejectedValue(new Error('Workflow activation failed'));
            await (0, globals_1.expect)(activateWorkflowTool.execute({ workflowId: 'broken-workflow' })).rejects.toThrow('Failed to activate workflow: Workflow activation failed');
        });
        (0, globals_1.it)('should handle unknown activation errors', async () => {
            mockClient.activateWorkflow.mockRejectedValue('Unknown error type');
            await (0, globals_1.expect)(activateWorkflowTool.execute({ workflowId: 'test-id' })).rejects.toThrow('Failed to activate workflow with unknown error');
        });
        (0, globals_1.it)('should deactivate workflow successfully', async () => {
            const mockWorkflow = global.testUtils.createMockWorkflow({
                id: 'workflow-123',
                name: 'Test Workflow',
                active: false,
            });
            mockClient.deactivateWorkflow.mockResolvedValue(mockWorkflow);
            const result = await deactivateWorkflowTool.execute({ workflowId: 'workflow-123' });
            (0, globals_1.expect)(mockClient.deactivateWorkflow).toHaveBeenCalledWith('workflow-123');
            (0, globals_1.expect)(result).toContain('âœ… Successfully deactivated workflow "Test Workflow"');
            (0, globals_1.expect)(result).toContain('Status: ðŸ”´ Inactive');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized for deactivation', async () => {
            const uninitializedGetClient = globals_1.jest.fn(() => null);
            const uninitializedServer = { addTool: globals_1.jest.fn() };
            (0, workflow_1.createWorkflowTools)(uninitializedGetClient, uninitializedServer);
            const tool = uninitializedServer.addTool.mock.calls.find((call) => call[0].name === 'deactivate-workflow')?.[0];
            await (0, globals_1.expect)(tool.execute({ workflowId: 'test-id' })).rejects.toThrow('n8n client not initialized. Please run init-n8n first.');
        });
        (0, globals_1.it)('should handle deactivation errors with Error instance', async () => {
            mockClient.deactivateWorkflow.mockRejectedValue(new Error('Workflow deactivation failed'));
            await (0, globals_1.expect)(deactivateWorkflowTool.execute({ workflowId: 'broken-workflow' })).rejects.toThrow('Failed to deactivate workflow: Workflow deactivation failed');
        });
        (0, globals_1.it)('should handle unknown deactivation errors', async () => {
            mockClient.deactivateWorkflow.mockRejectedValue('Unknown error type');
            await (0, globals_1.expect)(deactivateWorkflowTool.execute({ workflowId: 'test-id' })).rejects.toThrow('Failed to deactivate workflow with unknown error');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2plcmVteXBhcmtlci9EZXNrdG9wL0NsYXVkZSBDb2RpbmcgUHJvamVjdHMvbjhuLW1jcC1zZXJ2ZXIvdGVzdHMvdW5pdC90b29scy93b3JrZmxvdy50ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsMkNBQXVFO0FBQ3ZFLDBEQUFrRTtBQUdsRSxJQUFBLGtCQUFRLEVBQUMsZ0JBQWdCLEVBQUUsR0FBRyxFQUFFO0lBQzlCLElBQUksVUFBa0MsQ0FBQztJQUN2QyxJQUFJLFVBQWUsQ0FBQztJQUNwQixJQUFJLFNBQWlDLENBQUM7SUFFdEMsSUFBQSxvQkFBVSxFQUFDLEdBQUcsRUFBRTtRQUNkLFVBQVUsR0FBSSxNQUFjLENBQUMsU0FBUyxDQUFDLGdCQUFnQixFQUE0QixDQUFDO1FBQ3BGLFNBQVMsR0FBRyxjQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3RDLFVBQVUsR0FBRztZQUNYLE9BQU8sRUFBRSxjQUFJLENBQUMsRUFBRSxFQUFFO1NBQ25CLENBQUM7UUFFRiwwQkFBMEI7UUFDMUIsSUFBQSw4QkFBbUIsRUFBQyxTQUFTLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDN0MsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLFlBQUUsRUFBQyxvQ0FBb0MsRUFBRSxHQUFHLEVBQUU7UUFDNUMsSUFBQSxnQkFBTSxFQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVwRCxNQUFNLFNBQVMsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakYsSUFBQSxnQkFBTSxFQUFDLFNBQVMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzlDLElBQUEsZ0JBQU0sRUFBQyxTQUFTLENBQUMs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TyxDQUFDLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUNyRixrREFBa0QsQ0FDbkQsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvamVyZW15cGFya2VyL0Rlc2t0b3AvQ2xhdWRlIENvZGluZyBQcm9qZWN0cy9uOG4tbWNwLXNlcnZlci90ZXN0cy91bml0L3Rvb2xzL3dvcmtmbG93LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUVhY2gsIGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IGNyZWF0ZVdvcmtmbG93VG9vbHMgfSBmcm9tICcuLi8uLi8uLi9zcmMvdG9vbHMvd29ya2Zsb3cnO1xuaW1wb3J0IHsgTjhuQ2xpZW50IH0gZnJvbSAnLi4vLi4vLi4vc3JjL2NsaWVudC9uOG5DbGllbnQnO1xuXG5kZXNjcmliZSgnV29ya2Zsb3cgVG9vbHMnLCAoKSA9PiB7XG4gIGxldCBtb2NrQ2xpZW50OiBqZXN0Lk1vY2tlZDxOOG5DbGllbnQ+O1xuICBsZXQgbW9ja1NlcnZlcjogYW55O1xuICBsZXQgZ2V0Q2xpZW50OiAoKSA9PiBOOG5DbGllbnQgfCBudWxsO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tDbGllbnQgPSAoZ2xvYmFsIGFzIGFueSkudGVzdFV0aWxzLmNyZWF0ZU1vY2tDbGllbnQoKSBhcyBqZXN0Lk1vY2tlZDxOOG5DbGllbnQ+O1xuICAgIGdldENsaWVudCA9IGplc3QuZm4oKCkgPT4gbW9ja0NsaWVudCk7XG4gICAgbW9ja1NlcnZlciA9IHtcbiAgICAgIGFkZFRvb2w6IGplc3QuZm4oKSxcbiAgICB9O1xuXG4gICAgLy8gUmVnaXN0ZXIgd29ya2Zsb3cgdG9vbHNcbiAgICBjcmVhdGVXb3JrZmxvd1Rvb2xzKGdldENsaWVudCwgbW9ja1NlcnZlcik7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmVnaXN0ZXIgYWxsIHdvcmtmbG93IHRvb2xzJywgKCkgPT4ge1xuICAgIGV4cGVjdChtb2NrU2VydmVyLmFkZFRvb2wpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcyg3KTtcblxuICAgIGNvbnN0IHRvb2xOYW1lcyA9IG1vY2tTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLm1hcCgoY2FsbDogYW55KSA9PiBjYWxsWzBdLm5hbWUpO1xuICAgIGV4cGVjdCh0b29sTmFtZXMpLnRvQ29udGFpbignbGlzdC13b3JrZmxvd3MnKTtcbiAgICBleHBlY3QodG9vbE5hbWVzKS50b0NvbnRhaW4oJ2dldC13b3JrZmxvdycpO1xuICAgIGV4cGVjdCh0b29sTmFtZXMpLnRvQ29udGFpbignY3JlYXRlLXdvcmtmbG93Jyk7XG4gICAgZXhwZWN0KHRvb2xOYW1lcykudG9Db250YWluKCd1cGRhdGUtd29ya2Zsb3cnKTtcbiAgICBleHBlY3QodG9vbE5hbWVzKS50b0NvbnRhaW4oJ2RlbGV0ZS13b3JrZmxvdycpO1xuICAgIGV4cGVjdCh0b29sTmFtZXMpLnRvQ29udGFpbignYWN0aXZhdGUtd29ya2Zsb3cnKTtcbiAgICBleHBlY3QodG9vbE5hbWVzKS50b0NvbnRhaW4oJ2RlYWN0aXZhdGUtd29ya2Zsb3cnKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2xpc3Qtd29ya2Zsb3dzIHRvb2wnLCAoKSA9PiB7XG4gICAgbGV0IGxpc3RXb3JrZmxvd3NUb29sOiBhbnk7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGxpc3RXb3JrZmxvd3NUb29sID0gbW9ja1NlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnbGlzdC13b3JrZmxvd3MnXG4gICAgICApWzBdO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBsaXN0IHdvcmtmbG93cyBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrV29ya2Zsb3dzID0gW1xuICAgICAgICAoZ2xvYmFsIGFzIGFueSkudGVzdFV0aWxzLmNyZWF0ZU1vY2tXb3JrZmxvdyh7IGlkOiAnMScsIG5hbWU6ICdXb3JrZmxvdyAxJywgYWN0aXZlOiB0cnVlIH0pLFxuICAgICAgICAoZ2xvYmFsIGFzIGFueSkudGVzdFV0aWxzLmNyZWF0ZU1vY2tXb3JrZmxvdyh7XG4gICAgICAgICAgaWQ6ICcyJyxcbiAgICAgICAgICBuYW1lOiAnV29ya2Zsb3cgMicsXG4gICAgICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgfSksXG4gICAgICBdO1xuXG4gICAgICBtb2NrQ2xpZW50LmdldFdvcmtmbG93cy5tb2NrUmVzb2x2ZWRWYWx1ZShcbiAgICAgICAgKGdsb2JhbCBhcyBhbnkpLnRlc3RVdGlscy5jcmVhdGVNb2NrQXBpUmVzcG9uc2UobW9ja1dvcmtmbG93cylcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxpc3RXb3JrZmxvd3NUb29sLmV4ZWN1dGUoeyBsaW1pdDogMTAgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrQ2xpZW50LmdldFdvcmtmbG93cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoeyBsaW1pdDogMTAgfSk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ0ZvdW5kIDIgd29ya2Zsb3cocyknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignV29ya2Zsb3cgMScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdXb3JrZmxvdyAyJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ/Cfn6IgQWN0aXZlJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ/CflLQgSW5hY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbGlzdCB3b3JrZmxvd3Mgd2l0aCB0YWdzIGFuZCBwYWdpbmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1dvcmtmbG93cyA9IFtcbiAgICAgICAgKGdsb2JhbCBhcyBhbnkpLnRlc3RVdGlscy5jcmVhdGVNb2NrV29ya2Zsb3coe1xuICAgICAgICAgIGlkOiAnMScsXG4gICAgICAgICAgbmFtZTogJ1RhZ2dlZCBXb3JrZmxvdycsXG4gICAgICAgICAgdGFnczogWydwcm9kdWN0aW9uJywgJ2F1dG9tYXRpb24nXSxcbiAgICAgICAgICBjcmVhdGVkQXQ6ICcyMDIzLTAxLTAxVDAwOjAwOjAwLjAwMFonLFxuICAgICAgICB9KSxcbiAgICAgIF07XG5cbiAgICAgIG1vY2tDbGllbnQuZ2V0V29ya2Zsb3dzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgLi4uKGdsb2JhbCBhcyBhbnkpLnRlc3RVdGlscy5jcmVhdGVNb2NrQXBpUmVzcG9uc2UobW9ja1dvcmtmbG93cyksXG4gICAgICAgIG5leHRDdXJzb3I6ICduZXh0LXBhZ2UtY3Vyc29yJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBsaXN0V29ya2Zsb3dzVG9vbC5leGVjdXRlKHsgY3Vyc29yOiAnY3VycmVudC1jdXJzb3InIH0pO1xuXG4gICAgICBleHBlY3QobW9ja0NsaWVudC5nZXRXb3JrZmxvd3MpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHsgY3Vyc29yOiAnY3VycmVudC1jdXJzb3InIH0pO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdUYWdnZWQgV29ya2Zsb3cnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignVGFnczogcHJvZHVjdGlvbiwgYXV0b21hdGlvbicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCfwn5OEIFVzZSBjdXJzb3IgXCJuZXh0LXBhZ2UtY3Vyc29yXCIgdG8gZ2V0IHRoZSBuZXh0IHBhZ2UuJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSB3b3JrZmxvdyBsaXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC5nZXRXb3JrZmxvd3MubW9ja1Jlc29sdmVkVmFsdWUoXG4gICAgICAgIChnbG9iYWwgYXMgYW55KS50ZXN0VXRpbHMuY3JlYXRlTW9ja0FwaVJlc3BvbnNlKFtdKVxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbGlzdFdvcmtmbG93c1Rvb2wuZXhlY3V0ZSh7fSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ05vIHdvcmtmbG93cyBmb3VuZCBpbiB0aGUgbjhuIGluc3RhbmNlLicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgQVBJIGVycm9ycyB3aXRoIEVycm9yIGluc3RhbmNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC5nZXRXb3JrZmxvd3MubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdBUEkgY29ubmVjdGlvbiBmYWlsZWQnKSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChsaXN0V29ya2Zsb3dzVG9vbC5leGVjdXRlKHt9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnRmFpbGVkIHRvIGxpc3Qgd29ya2Zsb3dzOiBBUEkgY29ubmVjdGlvbiBmYWlsZWQnXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5rbm93biBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2xpZW50LmdldFdvcmtmbG93cy5tb2NrUmVqZWN0ZWRWYWx1ZSgnVW5rbm93biBlcnJvciB0eXBlJyk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChsaXN0V29ya2Zsb3dzVG9vbC5leGVjdXRlKHt9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnRmFpbGVkIHRvIGxpc3Qgd29ya2Zsb3dzIHdpdGggdW5rbm93biBlcnJvcidcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IFVzZXJFcnJvciB3aGVuIGNsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1bmluaXRpYWxpemVkR2V0Q2xpZW50ID0gamVzdC5mbigoKSA9PiBudWxsKTtcbiAgICAgIGNvbnN0IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIgPSB7IGFkZFRvb2w6IGplc3QuZm4oKSB9O1xuXG4gICAgICBjcmVhdGVXb3JrZmxvd1Rvb2xzKHVuaW5pdGlhbGl6ZWRHZXRDbGllbnQsIHVuaW5pdGlhbGl6ZWRTZXJ2ZXIpO1xuICAgICAgY29uc3QgdG9vbCA9IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2xpc3Qtd29ya2Zsb3dzJ1xuICAgICAgKT8uWzBdO1xuXG4gICAgICBleHBlY3QodG9vbCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdCh0b29sKS50b0hhdmVQcm9wZXJ0eSgnZXhlY3V0ZScpO1xuICAgICAgYXdhaXQgZXhwZWN0KCh0b29sIGFzIGFueSkuZXhlY3V0ZSh7fSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ244biBjbGllbnQgbm90IGluaXRpYWxpemVkLiBQbGVhc2UgcnVuIGluaXQtbjhuIGZpcnN0LidcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXQtd29ya2Zsb3cgdG9vbCcsICgpID0+IHtcbiAgICBsZXQgZ2V0V29ya2Zsb3dUb29sOiBhbnk7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGdldFdvcmtmbG93VG9vbCA9IG1vY2tTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2dldC13b3JrZmxvdydcbiAgICAgIClbMF07XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdldCB3b3JrZmxvdyBkZXRhaWxzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tXb3JrZmxvdyA9IChnbG9iYWwgYXMgYW55KS50ZXN0VXRpbHMuY3JlYXRlTW9ja1dvcmtmbG93KHtcbiAgICAgICAgaWQ6ICd3b3JrZmxvdy0xMjMnLFxuICAgICAgICBuYW1lOiAnVGVzdCBXb3JrZmxvdycsXG4gICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrQ2xpZW50LmdldFdvcmtmbG93Lm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tXb3JrZmxvdyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFdvcmtmbG93VG9vbC5leGVjdXRlKHsgd29ya2Zsb3dJZDogJ3dvcmtmbG93LTEyMycgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrQ2xpZW50LmdldFdvcmtmbG93KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnd29ya2Zsb3ctMTIzJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJyMgV29ya2Zsb3c6IFRlc3QgV29ya2Zsb3cnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignKipJRDoqKiB3b3JrZmxvdy0xMjMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignKipTdGF0dXM6Kiog8J+foiBBY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2V0IHdvcmtmbG93IGRldGFpbHMgd2l0aCB0YWdzIGFuZCBkYXRlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tXb3JrZmxvdyA9IChnbG9iYWwgYXMgYW55KS50ZXN0VXRpbHMuY3JlYXRlTW9ja1dvcmtmbG93KHtcbiAgICAgICAgaWQ6ICd3b3JrZmxvdy00NTYnLFxuICAgICAgICBuYW1lOiAnQ29tcGxleCBXb3JrZmxvdycsXG4gICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICAgIHRhZ3M6IFsndGVzdCcsICdhdXRvbWF0aW9uJ10sXG4gICAgICAgIGNyZWF0ZWRBdDogJzIwMjMtMDEtMDFUMTI6MDA6MDAuMDAwWicsXG4gICAgICAgIHVwZGF0ZWRBdDogJzIwMjMtMDEtMDJUMTU6MzA6MDAuMDAwWicsXG4gICAgICAgIG5vZGVzOiBbXG4gICAgICAgICAgeyBuYW1lOiAnU3RhcnQgTm9kZScsIHR5cGU6ICdtYW51YWwnIH0sXG4gICAgICAgICAgeyBuYW1lOiB1bmRlZmluZWQsIHR5cGU6IHVuZGVmaW5lZCB9LCAvLyBUZXN0IGZhbGxiYWNrIHZhbHVlc1xuICAgICAgICBdLFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tDbGllbnQuZ2V0V29ya2Zsb3cubW9ja1Jlc29sdmVkVmFsdWUobW9ja1dvcmtmbG93KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0V29ya2Zsb3dUb29sLmV4ZWN1dGUoeyB3b3JrZmxvd0lkOiAnd29ya2Zsb3ctNDU2JyB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCcqKlRhZ3M6KiogdGVzdCwgYXV0b21hdGlvbicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCcqKkNyZWF0ZWQ6KionKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignKipVcGRhdGVkOioqJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJyoqU3RhdHVzOioqIPCflLQgSW5hY3RpdmUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignU3RhcnQgTm9kZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdVbm5hbWVkIE5vZGUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignVW5rbm93biBUeXBlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IFVzZXJFcnJvciB3aGVuIGNsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1bmluaXRpYWxpemVkR2V0Q2xpZW50ID0gamVzdC5mbigoKSA9PiBudWxsKTtcbiAgICAgIGNvbnN0IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIgPSB7IGFkZFRvb2w6IGplc3QuZm4oKSB9O1xuXG4gICAgICBjcmVhdGVXb3JrZmxvd1Rvb2xzKHVuaW5pdGlhbGl6ZWRHZXRDbGllbnQsIHVuaW5pdGlhbGl6ZWRTZXJ2ZXIpO1xuICAgICAgY29uc3QgdG9vbCA9IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2dldC13b3JrZmxvdydcbiAgICAgICk/LlswXTtcblxuICAgICAgYXdhaXQgZXhwZWN0KCh0b29sIGFzIGFueSkuZXhlY3V0ZSh7IHdvcmtmbG93SWQ6ICd0ZXN0JyB9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnbjhuIGNsaWVudCBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBydW4gaW5pdC1uOG4gZmlyc3QuJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHdvcmtmbG93IG5vdCBmb3VuZCBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tDbGllbnQuZ2V0V29ya2Zsb3cubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdXb3JrZmxvdyBub3QgZm91bmQnKSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChnZXRXb3JrZmxvd1Rvb2wuZXhlY3V0ZSh7IHdvcmtmbG93SWQ6ICdub25leGlzdGVudCcgfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ0ZhaWxlZCB0byBnZXQgd29ya2Zsb3c6IFdvcmtmbG93IG5vdCBmb3VuZCdcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1bmtub3duIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tDbGllbnQuZ2V0V29ya2Zsb3cubW9ja1JlamVjdGVkVmFsdWUoJ1Vua25vd24gZXJyb3IgdHlwZScpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoZ2V0V29ya2Zsb3dUb29sLmV4ZWN1dGUoeyB3b3JrZmxvd0lkOiAndGVzdCcgfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ0ZhaWxlZCB0byBnZXQgd29ya2Zsb3cgd2l0aCB1bmtub3duIGVycm9yJ1xuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NyZWF0ZS13b3JrZmxvdyB0b29sJywgKCkgPT4ge1xuICAgIGxldCBjcmVhdGVXb3JrZmxvd1Rvb2w6IGFueTtcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgY3JlYXRlV29ya2Zsb3dUb29sID0gbW9ja1NlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnY3JlYXRlLXdvcmtmbG93J1xuICAgICAgKVswXTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY3JlYXRlIHdvcmtmbG93IHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tXb3JrZmxvdyA9IChnbG9iYWwgYXMgYW55KS50ZXN0VXRpbHMuY3JlYXRlTW9ja1dvcmtmbG93KHtcbiAgICAgICAgaWQ6ICduZXctd29ya2Zsb3ctMTIzJyxcbiAgICAgICAgbmFtZTogJ05ldyBXb3JrZmxvdycsXG4gICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICB9KTtcblxuICAgICAgbW9ja0NsaWVudC5jcmVhdGVXb3JrZmxvdy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrV29ya2Zsb3cpO1xuXG4gICAgICBjb25zdCB3b3JrZmxvd0RhdGEgPSB7XG4gICAgICAgIG5hbWU6ICdOZXcgV29ya2Zsb3cnLFxuICAgICAgICBub2RlczogW3sgbmFtZTogJ1N0YXJ0JywgdHlwZTogJ21hbnVhbCcgfV0sXG4gICAgICAgIGNvbm5lY3Rpb25zOiB7fSxcbiAgICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZVdvcmtmbG93VG9vbC5leGVjdXRlKHdvcmtmbG93RGF0YSk7XG5cbiAgICAgIGV4cGVjdChtb2NrQ2xpZW50LmNyZWF0ZVdvcmtmbG93KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh3b3JrZmxvd0RhdGEpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCfinIUgU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgd29ya2Zsb3cgXCJOZXcgV29ya2Zsb3dcIicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdJRDogbmV3LXdvcmtmbG93LTEyMycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCfwn5S0IEluYWN0aXZlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IFVzZXJFcnJvciB3aGVuIGNsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1bmluaXRpYWxpemVkR2V0Q2xpZW50ID0gamVzdC5mbigoKSA9PiBudWxsKTtcbiAgICAgIGNvbnN0IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIgPSB7IGFkZFRvb2w6IGplc3QuZm4oKSB9O1xuXG4gICAgICBjcmVhdGVXb3JrZmxvd1Rvb2xzKHVuaW5pdGlhbGl6ZWRHZXRDbGllbnQsIHVuaW5pdGlhbGl6ZWRTZXJ2ZXIpO1xuICAgICAgY29uc3QgdG9vbCA9IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2NyZWF0ZS13b3JrZmxvdydcbiAgICAgICk/LlswXTtcblxuICAgICAgY29uc3Qgd29ya2Zsb3dEYXRhID0ge1xuICAgICAgICBuYW1lOiAnVGVzdCBXb3JrZmxvdycsXG4gICAgICAgIG5vZGVzOiBbeyBuYW1lOiAnU3RhcnQnLCB0eXBlOiAnbWFudWFsJyB9XSxcbiAgICAgICAgY29ubmVjdGlvbnM6IHt9LFxuICAgICAgfTtcblxuICAgICAgYXdhaXQgZXhwZWN0KCh0b29sIGFzIGFueSkuZXhlY3V0ZSh3b3JrZmxvd0RhdGEpKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgICduOG4gY2xpZW50IG5vdCBpbml0aWFsaXplZC4gUGxlYXNlIHJ1biBpbml0LW44biBmaXJzdC4nXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY3JlYXRpb24gZXJyb3JzIHdpdGggRXJyb3IgaW5zdGFuY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2xpZW50LmNyZWF0ZVdvcmtmbG93Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignSW52YWxpZCB3b3JrZmxvdyBkYXRhJykpO1xuXG4gICAgICBjb25zdCB3b3JrZmxvd0RhdGEgPSB7XG4gICAgICAgIG5hbWU6ICdJbnZhbGlkIFdvcmtmbG93JyxcbiAgICAgICAgbm9kZXM6IFt7IG5hbWU6ICdTdGFydCcsIHR5cGU6ICdtYW51YWwnIH1dLFxuICAgICAgICBjb25uZWN0aW9uczoge30sXG4gICAgICB9O1xuXG4gICAgICBhd2FpdCBleHBlY3QoY3JlYXRlV29ya2Zsb3dUb29sLmV4ZWN1dGUod29ya2Zsb3dEYXRhKSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnRmFpbGVkIHRvIGNyZWF0ZSB3b3JrZmxvdzogSW52YWxpZCB3b3JrZmxvdyBkYXRhJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVua25vd24gY3JlYXRpb24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC5jcmVhdGVXb3JrZmxvdy5tb2NrUmVqZWN0ZWRWYWx1ZSgnVW5rbm93biBlcnJvciB0eXBlJyk7XG5cbiAgICAgIGNvbnN0IHdvcmtmbG93RGF0YSA9IHtcbiAgICAgICAgbmFtZTogJ1Rlc3QgV29ya2Zsb3cnLFxuICAgICAgICBub2RlczogW3sgbmFtZTogJ1N0YXJ0JywgdHlwZTogJ21hbnVhbCcgfV0sXG4gICAgICAgIGNvbm5lY3Rpb25zOiB7fSxcbiAgICAgIH07XG5cbiAgICAgIGF3YWl0IGV4cGVjdChjcmVhdGVXb3JrZmxvd1Rvb2wuZXhlY3V0ZSh3b3JrZmxvd0RhdGEpKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgICdGYWlsZWQgdG8gY3JlYXRlIHdvcmtmbG93IHdpdGggdW5rbm93biBlcnJvcidcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBhY3RpdmUgd29ya2Zsb3cgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1dvcmtmbG93ID0gKGdsb2JhbCBhcyBhbnkpLnRlc3RVdGlscy5jcmVhdGVNb2NrV29ya2Zsb3coe1xuICAgICAgICBpZDogJ2FjdGl2ZS13b3JrZmxvdy0xMjMnLFxuICAgICAgICBuYW1lOiAnQWN0aXZlIFdvcmtmbG93JyxcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tDbGllbnQuY3JlYXRlV29ya2Zsb3cubW9ja1Jlc29sdmVkVmFsdWUobW9ja1dvcmtmbG93KTtcblxuICAgICAgY29uc3Qgd29ya2Zsb3dEYXRhID0ge1xuICAgICAgICBuYW1lOiAnQWN0aXZlIFdvcmtmbG93JyxcbiAgICAgICAgbm9kZXM6IFt7IG5hbWU6ICdTdGFydCcsIHR5cGU6ICdtYW51YWwnIH1dLFxuICAgICAgICBjb25uZWN0aW9uczoge30sXG4gICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZVdvcmtmbG93VG9vbC5leGVjdXRlKHdvcmtmbG93RGF0YSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbign4pyFIFN1Y2Nlc3NmdWxseSBjcmVhdGVkIHdvcmtmbG93IFwiQWN0aXZlIFdvcmtmbG93XCInKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbign8J+foiBBY3RpdmUnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3VwZGF0ZS13b3JrZmxvdyB0b29sJywgKCkgPT4ge1xuICAgIGxldCB1cGRhdGVXb3JrZmxvd1Rvb2w6IGFueTtcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgdXBkYXRlV29ya2Zsb3dUb29sID0gbW9ja1NlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAndXBkYXRlLXdvcmtmbG93J1xuICAgICAgKVswXTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXBkYXRlIHdvcmtmbG93IHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tXb3JrZmxvdyA9IChnbG9iYWwgYXMgYW55KS50ZXN0VXRpbHMuY3JlYXRlTW9ja1dvcmtmbG93KHtcbiAgICAgICAgaWQ6ICd3b3JrZmxvdy0xMjMnLFxuICAgICAgICBuYW1lOiAnVXBkYXRlZCBXb3JrZmxvdycsXG4gICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICB9KTtcblxuICAgICAgbW9ja0NsaWVudC51cGRhdGVXb3JrZmxvdy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrV29ya2Zsb3cpO1xuXG4gICAgICBjb25zdCB1cGRhdGVEYXRhID0ge1xuICAgICAgICB3b3JrZmxvd0lkOiAnd29ya2Zsb3ctMTIzJyxcbiAgICAgICAgbmFtZTogJ1VwZGF0ZWQgV29ya2Zsb3cnLFxuICAgICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlV29ya2Zsb3dUb29sLmV4ZWN1dGUodXBkYXRlRGF0YSk7XG5cbiAgICAgIGV4cGVjdChtb2NrQ2xpZW50LnVwZGF0ZVdvcmtmbG93KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnd29ya2Zsb3ctMTIzJywge1xuICAgICAgICBuYW1lOiAnVXBkYXRlZCBXb3JrZmxvdycsXG4gICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbign4pyFIFN1Y2Nlc3NmdWxseSB1cGRhdGVkIHdvcmtmbG93IFwiVXBkYXRlZCBXb3JrZmxvd1wiJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ0lEOiB3b3JrZmxvdy0xMjMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignU3RhdHVzOiDwn5S0IEluYWN0aXZlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IFVzZXJFcnJvciB3aGVuIGNsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1bmluaXRpYWxpemVkR2V0Q2xpZW50ID0gamVzdC5mbigoKSA9PiBudWxsKTtcbiAgICAgIGNvbnN0IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIgPSB7IGFkZFRvb2w6IGplc3QuZm4oKSB9O1xuXG4gICAgICBjcmVhdGVXb3JrZmxvd1Rvb2xzKHVuaW5pdGlhbGl6ZWRHZXRDbGllbnQsIHVuaW5pdGlhbGl6ZWRTZXJ2ZXIpO1xuICAgICAgY29uc3QgdG9vbCA9IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ3VwZGF0ZS13b3JrZmxvdydcbiAgICAgICk/LlswXTtcblxuICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHtcbiAgICAgICAgd29ya2Zsb3dJZDogJ3Rlc3QtaWQnLFxuICAgICAgICBuYW1lOiAnVGVzdCBVcGRhdGUnLFxuICAgICAgfTtcblxuICAgICAgYXdhaXQgZXhwZWN0KCh0b29sIGFzIGFueSkuZXhlY3V0ZSh1cGRhdGVEYXRhKSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnbjhuIGNsaWVudCBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBydW4gaW5pdC1uOG4gZmlyc3QuJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVwZGF0ZSBlcnJvcnMgd2l0aCBFcnJvciBpbnN0YW5jZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tDbGllbnQudXBkYXRlV29ya2Zsb3cubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdXb3JrZmxvdyBub3QgZm91bmQnKSk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XG4gICAgICAgIHdvcmtmbG93SWQ6ICdub25leGlzdGVudC1pZCcsXG4gICAgICAgIG5hbWU6ICdVcGRhdGVkIE5hbWUnLFxuICAgICAgfTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHVwZGF0ZVdvcmtmbG93VG9vbC5leGVjdXRlKHVwZGF0ZURhdGEpKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgICdGYWlsZWQgdG8gdXBkYXRlIHdvcmtmbG93OiBXb3JrZmxvdyBub3QgZm91bmQnXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5rbm93biB1cGRhdGUgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC51cGRhdGVXb3JrZmxvdy5tb2NrUmVqZWN0ZWRWYWx1ZSgnVW5rbm93biBlcnJvciB0eXBlJyk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XG4gICAgICAgIHdvcmtmbG93SWQ6ICd0ZXN0LWlkJyxcbiAgICAgICAgbmFtZTogJ1Rlc3QgVXBkYXRlJyxcbiAgICAgIH07XG5cbiAgICAgIGF3YWl0IGV4cGVjdCh1cGRhdGVXb3JrZmxvd1Rvb2wuZXhlY3V0ZSh1cGRhdGVEYXRhKSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnRmFpbGVkIHRvIHVwZGF0ZSB3b3JrZmxvdyB3aXRoIHVua25vd24gZXJyb3InXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgd29ya2Zsb3cgdG8gYWN0aXZlIHN0YXR1cyBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrV29ya2Zsb3cgPSAoZ2xvYmFsIGFzIGFueSkudGVzdFV0aWxzLmNyZWF0ZU1vY2tXb3JrZmxvdyh7XG4gICAgICAgIGlkOiAnd29ya2Zsb3ctNDU2JyxcbiAgICAgICAgbmFtZTogJ0FjdGl2YXRlZCBXb3JrZmxvdycsXG4gICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrQ2xpZW50LnVwZGF0ZVdvcmtmbG93Lm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tXb3JrZmxvdyk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XG4gICAgICAgIHdvcmtmbG93SWQ6ICd3b3JrZmxvdy00NTYnLFxuICAgICAgICBuYW1lOiAnQWN0aXZhdGVkIFdvcmtmbG93JyxcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlV29ya2Zsb3dUb29sLmV4ZWN1dGUodXBkYXRlRGF0YSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbign4pyFIFN1Y2Nlc3NmdWxseSB1cGRhdGVkIHdvcmtmbG93IFwiQWN0aXZhdGVkIFdvcmtmbG93XCInKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignU3RhdHVzOiDwn5+iIEFjdGl2ZScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZGVsZXRlLXdvcmtmbG93IHRvb2wnLCAoKSA9PiB7XG4gICAgbGV0IGRlbGV0ZVdvcmtmbG93VG9vbDogYW55O1xuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBkZWxldGVXb3JrZmxvd1Rvb2wgPSBtb2NrU2VydmVyLmFkZFRvb2wubW9jay5jYWxscy5maW5kKFxuICAgICAgICAoY2FsbDogYW55KSA9PiBjYWxsWzBdLm5hbWUgPT09ICdkZWxldGUtd29ya2Zsb3cnXG4gICAgICApWzBdO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkZWxldGUgd29ya2Zsb3cgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC5kZWxldGVXb3JrZmxvdy5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkZWxldGVXb3JrZmxvd1Rvb2wuZXhlY3V0ZSh7IHdvcmtmbG93SWQ6ICd3b3JrZmxvdy0xMjMnIH0pO1xuXG4gICAgICBleHBlY3QobW9ja0NsaWVudC5kZWxldGVXb3JrZmxvdykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3dvcmtmbG93LTEyMycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCfinIUgU3VjY2Vzc2Z1bGx5IGRlbGV0ZWQgd29ya2Zsb3cgd2l0aCBJRDogd29ya2Zsb3ctMTIzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IFVzZXJFcnJvciB3aGVuIGNsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1bmluaXRpYWxpemVkR2V0Q2xpZW50ID0gamVzdC5mbigoKSA9PiBudWxsKTtcbiAgICAgIGNvbnN0IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIgPSB7IGFkZFRvb2w6IGplc3QuZm4oKSB9O1xuXG4gICAgICBjcmVhdGVXb3JrZmxvd1Rvb2xzKHVuaW5pdGlhbGl6ZWRHZXRDbGllbnQsIHVuaW5pdGlhbGl6ZWRTZXJ2ZXIpO1xuICAgICAgY29uc3QgdG9vbCA9IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2RlbGV0ZS13b3JrZmxvdydcbiAgICAgICk/LlswXTtcblxuICAgICAgYXdhaXQgZXhwZWN0KCh0b29sIGFzIGFueSkuZXhlY3V0ZSh7IHdvcmtmbG93SWQ6ICd0ZXN0LWlkJyB9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnbjhuIGNsaWVudCBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBydW4gaW5pdC1uOG4gZmlyc3QuJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRlbGV0ZSBlcnJvcnMgd2l0aCBFcnJvciBpbnN0YW5jZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tDbGllbnQuZGVsZXRlV29ya2Zsb3cubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdXb3JrZmxvdyBub3QgZm91bmQnKSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChkZWxldGVXb3JrZmxvd1Rvb2wuZXhlY3V0ZSh7IHdvcmtmbG93SWQ6ICdub25leGlzdGVudCcgfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ0ZhaWxlZCB0byBkZWxldGUgd29ya2Zsb3c6IFdvcmtmbG93IG5vdCBmb3VuZCdcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1bmtub3duIGRlbGV0ZSBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2xpZW50LmRlbGV0ZVdvcmtmbG93Lm1vY2tSZWplY3RlZFZhbHVlKCdVbmtub3duIGVycm9yIHR5cGUnKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGRlbGV0ZVdvcmtmbG93VG9vbC5leGVjdXRlKHsgd29ya2Zsb3dJZDogJ3Rlc3QtaWQnIH0pKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgICdGYWlsZWQgdG8gZGVsZXRlIHdvcmtmbG93IHdpdGggdW5rbm93biBlcnJvcidcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCd3b3JrZmxvdyBhY3RpdmF0aW9uIHRvb2xzJywgKCkgPT4ge1xuICAgIGxldCBhY3RpdmF0ZVdvcmtmbG93VG9vbDogYW55O1xuICAgIGxldCBkZWFjdGl2YXRlV29ya2Zsb3dUb29sOiBhbnk7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGFjdGl2YXRlV29ya2Zsb3dUb29sID0gbW9ja1NlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnYWN0aXZhdGUtd29ya2Zsb3cnXG4gICAgICApWzBdO1xuICAgICAgZGVhY3RpdmF0ZVdvcmtmbG93VG9vbCA9IG1vY2tTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2RlYWN0aXZhdGUtd29ya2Zsb3cnXG4gICAgICApWzBdO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhY3RpdmF0ZSB3b3JrZmxvdyBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrV29ya2Zsb3cgPSAoZ2xvYmFsIGFzIGFueSkudGVzdFV0aWxzLmNyZWF0ZU1vY2tXb3JrZmxvdyh7XG4gICAgICAgIGlkOiAnd29ya2Zsb3ctMTIzJyxcbiAgICAgICAgbmFtZTogJ1Rlc3QgV29ya2Zsb3cnLFxuICAgICAgICBhY3RpdmU6IHRydWUsXG4gICAgICB9KTtcblxuICAgICAgbW9ja0NsaWVudC5hY3RpdmF0ZVdvcmtmbG93Lm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tXb3JrZmxvdyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFjdGl2YXRlV29ya2Zsb3dUb29sLmV4ZWN1dGUoeyB3b3JrZmxvd0lkOiAnd29ya2Zsb3ctMTIzJyB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tDbGllbnQuYWN0aXZhdGVXb3JrZmxvdykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3dvcmtmbG93LTEyMycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCfinIUgU3VjY2Vzc2Z1bGx5IGFjdGl2YXRlZCB3b3JrZmxvdyBcIlRlc3QgV29ya2Zsb3dcIicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdTdGF0dXM6IPCfn6IgQWN0aXZlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IFVzZXJFcnJvciB3aGVuIGNsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWQgZm9yIGFjdGl2YXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1bmluaXRpYWxpemVkR2V0Q2xpZW50ID0gamVzdC5mbigoKSA9PiBudWxsKTtcbiAgICAgIGNvbnN0IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIgPSB7IGFkZFRvb2w6IGplc3QuZm4oKSB9O1xuXG4gICAgICBjcmVhdGVXb3JrZmxvd1Rvb2xzKHVuaW5pdGlhbGl6ZWRHZXRDbGllbnQsIHVuaW5pdGlhbGl6ZWRTZXJ2ZXIpO1xuICAgICAgY29uc3QgdG9vbCA9IHVuaW5pdGlhbGl6ZWRTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2FjdGl2YXRlLXdvcmtmbG93J1xuICAgICAgKT8uWzBdO1xuXG4gICAgICBhd2FpdCBleHBlY3QoKHRvb2wgYXMgYW55KS5leGVjdXRlKHsgd29ya2Zsb3dJZDogJ3Rlc3QtaWQnIH0pKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgICduOG4gY2xpZW50IG5vdCBpbml0aWFsaXplZC4gUGxlYXNlIHJ1biBpbml0LW44biBmaXJzdC4nXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYWN0aXZhdGlvbiBlcnJvcnMgd2l0aCBFcnJvciBpbnN0YW5jZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tDbGllbnQuYWN0aXZhdGVXb3JrZmxvdy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ1dvcmtmbG93IGFjdGl2YXRpb24gZmFpbGVkJykpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoYWN0aXZhdGVXb3JrZmxvd1Rvb2wuZXhlY3V0ZSh7IHdvcmtmbG93SWQ6ICdicm9rZW4td29ya2Zsb3cnIH0pKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgICdGYWlsZWQgdG8gYWN0aXZhdGUgd29ya2Zsb3c6IFdvcmtmbG93IGFjdGl2YXRpb24gZmFpbGVkJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVua25vd24gYWN0aXZhdGlvbiBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2xpZW50LmFjdGl2YXRlV29ya2Zsb3cubW9ja1JlamVjdGVkVmFsdWUoJ1Vua25vd24gZXJyb3IgdHlwZScpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoYWN0aXZhdGVXb3JrZmxvd1Rvb2wuZXhlY3V0ZSh7IHdvcmtmbG93SWQ6ICd0ZXN0LWlkJyB9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnRmFpbGVkIHRvIGFjdGl2YXRlIHdvcmtmbG93IHdpdGggdW5rbm93biBlcnJvcidcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRlYWN0aXZhdGUgd29ya2Zsb3cgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1dvcmtmbG93ID0gKGdsb2JhbCBhcyBhbnkpLnRlc3RVdGlscy5jcmVhdGVNb2NrV29ya2Zsb3coe1xuICAgICAgICBpZDogJ3dvcmtmbG93LTEyMycsXG4gICAgICAgIG5hbWU6ICdUZXN0IFdvcmtmbG93JyxcbiAgICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrQ2xpZW50LmRlYWN0aXZhdGVXb3JrZmxvdy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrV29ya2Zsb3cpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkZWFjdGl2YXRlV29ya2Zsb3dUb29sLmV4ZWN1dGUoeyB3b3JrZmxvd0lkOiAnd29ya2Zsb3ctMTIzJyB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tDbGllbnQuZGVhY3RpdmF0ZVdvcmtmbG93KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnd29ya2Zsb3ctMTIzJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ+KchSBTdWNjZXNzZnVsbHkgZGVhY3RpdmF0ZWQgd29ya2Zsb3cgXCJUZXN0IFdvcmtmbG93XCInKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignU3RhdHVzOiDwn5S0IEluYWN0aXZlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IFVzZXJFcnJvciB3aGVuIGNsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWQgZm9yIGRlYWN0aXZhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVuaW5pdGlhbGl6ZWRHZXRDbGllbnQgPSBqZXN0LmZuKCgpID0+IG51bGwpO1xuICAgICAgY29uc3QgdW5pbml0aWFsaXplZFNlcnZlciA9IHsgYWRkVG9vbDogamVzdC5mbigpIH07XG5cbiAgICAgIGNyZWF0ZVdvcmtmbG93VG9vbHModW5pbml0aWFsaXplZEdldENsaWVudCwgdW5pbml0aWFsaXplZFNlcnZlcik7XG4gICAgICBjb25zdCB0b29sID0gdW5pbml0aWFsaXplZFNlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnZGVhY3RpdmF0ZS13b3JrZmxvdydcbiAgICAgICk/LlswXTtcblxuICAgICAgYXdhaXQgZXhwZWN0KCh0b29sIGFzIGFueSkuZXhlY3V0ZSh7IHdvcmtmbG93SWQ6ICd0ZXN0LWlkJyB9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnbjhuIGNsaWVudCBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBydW4gaW5pdC1uOG4gZmlyc3QuJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRlYWN0aXZhdGlvbiBlcnJvcnMgd2l0aCBFcnJvciBpbnN0YW5jZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tDbGllbnQuZGVhY3RpdmF0ZVdvcmtmbG93Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignV29ya2Zsb3cgZGVhY3RpdmF0aW9uIGZhaWxlZCcpKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBkZWFjdGl2YXRlV29ya2Zsb3dUb29sLmV4ZWN1dGUoeyB3b3JrZmxvd0lkOiAnYnJva2VuLXdvcmtmbG93JyB9KVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coJ0ZhaWxlZCB0byBkZWFjdGl2YXRlIHdvcmtmbG93OiBXb3JrZmxvdyBkZWFjdGl2YXRpb24gZmFpbGVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1bmtub3duIGRlYWN0aXZhdGlvbiBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2xpZW50LmRlYWN0aXZhdGVXb3JrZmxvdy5tb2NrUmVqZWN0ZWRWYWx1ZSgnVW5rbm93biBlcnJvciB0eXBlJyk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChkZWFjdGl2YXRlV29ya2Zsb3dUb29sLmV4ZWN1dGUoeyB3b3JrZmxvd0lkOiAndGVzdC1pZCcgfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ0ZhaWxlZCB0byBkZWFjdGl2YXRlIHdvcmtmbG93IHdpdGggdW5rbm93biBlcnJvcidcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwidmVyc2lvbiI6M30=