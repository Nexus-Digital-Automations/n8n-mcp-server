{"file":"/Users/jeremyparker/Desktop/Claude Coding Projects/n8n-mcp-server/src/index.ts","mappings":";;;;;;AA0qEA,kCAIC;AA5qED,wEAAmE;AACnE,wEAAiF;AACjF,iEAAmG;AACnG,4DAA+B;AA8F/B,MAAM,SAAS;IAEH;IACA;IAFV,YACU,OAAe,EACf,MAAc;QADd,YAAO,GAAP,OAAO,CAAQ;QACf,WAAM,GAAN,MAAM,CAAQ;QAEtB,mCAAmC;QACnC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;QAC1C,gDAAgD;QAChD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IAEO,KAAK,CAAC,WAAW,CAAI,QAAgB,EAAE,UAAe,EAAE;QAC9D,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,UAAU,QAAQ,EAAE,CAAC;QAChD,MAAM,OAAO,GAAG;YACd,eAAe,EAAE,IAAI,CAAC,MAAM;YAC5B,MAAM,EAAE,kBAAkB;YAC1B,cAAc,EAAE,kBAAkB;SACnC,CAAC;QAEF,IAAI,CAAC;YACH,MAAM,QAAQ,GAAG,MAAM,IAAA,oBAAK,EAAC,GAAG,EAAE;gBAChC,GAAG,OAAO;gBACV,OAAO,EAAE;oBACP,GAAG,OAAO;oBACV,GAAG,OAAO,CAAC,OAAO;iBACnB;aACF,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;gBACjB,MAAM,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;gBACxC,IAAI,YAAoB,CAAC;gBACzB,IAAI,CAAC;oBACH,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;oBACxC,mCAAmC;oBACnC,IAAI,SAAS,CAAC,OAAO,IAAI,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC;wBAC/D,YAAY,GAAG,sGAAsG,SAAS,CAAC,OAAO,EAAE,CAAC;oBAC3I,CAAC;yBAAM,CAAC;wBACN,YAAY,GAAG,SAAS,CAAC,OAAO,IAAI,SAAS,CAAC;oBAChD,CAAC;gBACH,CAAC;gBAAC,MAAM,CAAC;oBACP,YAAY,GAAG,SAAS,CAAC;gBAC3B,CAAC;gBACD,MAAM,IAAI,KAAK,CAAC,kBAAkB,YAAY,EAAE,CAAC,CAAC;YACpD,CAAC;YAED,kCAAkC;YAClC,IAAI,QAAQ,CAAC,MAAM,KAAK,GAAG,EAAE,CAAC;gBAC5B,OAAO,EAAO,CAAC;YACjB,CAAC;YAED,OAAO,CAAC,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAM,CAAC;QACtC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,KAAK,YAAY,KAAK,EAAE,CAAC;gBAC3B,MAAM,IAAI,KAAK,CAAC,6BAA6B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAChE,CAAC;YACD,MAAM,KAAK,CAAC;QACd,CAAC;IACH,CAAC;IAED,KAAK,CAAC,aAAa;QACjB,OAAO,IAAI,CAAC,WAAW,CAAkB,YAAY,CAAC,CAAC;IACzD,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,EAAU;QAC1B,OAAO,IAAI,CAAC,WAAW,CAAc,cAAc,EAAE,EAAE,CAAC,CAAC;IAC3D,CAAC;IAED,KAAK,CAAC,cAAc,CAClB,IAAY,EACZ,QAAe,EAAE,EACjB,cAAmB,EAAE;QAErB,OAAO,IAAI,CAAC,WAAW,CAAc,YAAY,EAAE;YACjD,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC;gBACnB,IAAI;gBACJ,KAAK;gBACL,WAAW;gBACX,QAAQ,EAAE;oBACR,oBAAoB,EAAE,IAAI;oBAC1B,qBAAqB,EAAE,IAAI;iBAC5B;aACF,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,EAAU,EAAE,QAA8B;QAC7D,OAAO,IAAI,CAAC,WAAW,CAAc,cAAc,EAAE,EAAE,EAAE;YACvD,MAAM,EAAE,KAAK;YACb,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;SAC/B,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,EAAU;QAC7B,OAAO,IAAI,CAAC,WAAW,CAAc,cAAc,EAAE,EAAE,EAAE;YACvD,MAAM,EAAE,QAAQ;SACjB,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,EAAU;QAC/B,OAAO,IAAI,CAAC,WAAW,CAAc,cAAc,EAAE,WAAW,EAAE;YAChE,MAAM,EAAE,MAAM;SACf,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,EAAU;QACjC,OAAO,IAAI,CAAC,WAAW,CAAc,cAAc,EAAE,aAAa,EAAE;YAClE,MAAM,EAAE,MAAM;SACf,CAAC,CAAC;IACL,CAAC;IAED,+DAA+D;IAC/D,KAAK,CAAC,YAAY;QAChB,OAAO,IAAI,CAAC,WAAW,CAAiB,WAAW,CAAC,CAAC;IACvD,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,IAAY;QAC9B,OAAO,IAAI,CAAC,WAAW,CAAO,WAAW,EAAE;YACzC,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,CAAC;SAC/B,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,SAAiB;QACnC,OAAO,IAAI,CAAC,WAAW,CAAO,aAAa,SAAS,EAAE,EAAE;YACtD,MAAM,EAAE,QAAQ;SACjB,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,SAAiB,EAAE,IAAY;QACjD,OAAO,IAAI,CAAC,WAAW,CAAO,aAAa,SAAS,EAAE,EAAE;YACtD,MAAM,EAAE,KAAK;YACb,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,CAAC;SAC/B,CAAC,CAAC;IACL,CAAC;IAED,0BAA0B;IAC1B,KAAK,CAAC,SAAS;QACb,OAAO,IAAI,CAAC,WAAW,CAAc,QAAQ,CAAC,CAAC;IACjD,CAAC;IAED,KAAK,CAAC,WAAW,CACf,KAAwE;QAExE,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE;YAChC,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;SAC5B,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,SAAiB;QAC7B,OAAO,IAAI,CAAC,WAAW,CAAU,UAAU,SAAS,EAAE,CAAC,CAAC;IAC1D,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,SAAiB;QAChC,OAAO,IAAI,CAAC,WAAW,CAAO,UAAU,SAAS,EAAE,EAAE;YACnD,MAAM,EAAE,QAAQ;SACjB,CAAC,CAAC;IACL,CAAC;IAED,8BAA8B;IAC9B,KAAK,CAAC,aAAa;QACjB,OAAO,IAAI,CAAC,WAAW,CAAkB,YAAY,CAAC,CAAC;IACzD,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,GAAW,EAAE,KAAa;QAC7C,OAAO,IAAI,CAAC,WAAW,CAAO,YAAY,EAAE;YAC1C,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC;SACrC,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,EAAU;QAC7B,OAAO,IAAI,CAAC,WAAW,CAAO,cAAc,EAAE,EAAE,EAAE;YAChD,MAAM,EAAE,QAAQ;SACjB,CAAC,CAAC;IACL,CAAC;IAED,+BAA+B;IAC/B,KAAK,CAAC,aAAa,CACjB,UAKI,EAAE;QAEN,MAAM,MAAM,GAAG,IAAI,eAAe,EAAE,CAAC;QACrC,IAAI,OAAO,CAAC,WAAW,KAAK,SAAS;YACnC,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QAC5D,IAAI,OAAO,CAAC,MAAM;YAAE,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;QAC5D,IAAI,OAAO,CAAC,UAAU;YAAE,MAAM,CAAC,MAAM,CAAC,YAAY,EAAE,OAAO,CAAC,UAAU,CAAC,CAAC;QACxE,IAAI,OAAO,CAAC,KAAK;YAAE,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QAEjE,OAAO,IAAI,CAAC,WAAW,CAAmB,eAAe,MAAM,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IAChF,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,EAAU,EAAE,cAAuB,KAAK;QACzD,MAAM,MAAM,GAAG,IAAI,eAAe,EAAE,CAAC;QACrC,IAAI,WAAW;YAAE,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAEtD,OAAO,IAAI,CAAC,WAAW,CAAe,eAAe,EAAE,IAAI,MAAM,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IAClF,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,EAAU;QAC9B,OAAO,IAAI,CAAC,WAAW,CAAe,eAAe,EAAE,EAAE,EAAE;YACzD,MAAM,EAAE,QAAQ;SACjB,CAAC,CAAC;IACL,CAAC;IAED,yBAAyB;IACzB,KAAK,CAAC,SAAS,CAAC,IAAY;QAC1B,OAAO,IAAI,CAAC,WAAW,CAAS,OAAO,EAAE;YACvC,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,CAAC;SAC/B,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,UAA8B,EAAE;QAC5C,MAAM,MAAM,GAAG,IAAI,eAAe,EAAE,CAAC;QACrC,IAAI,OAAO,CAAC,KAAK;YAAE,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QAEjE,OAAO,IAAI,CAAC,WAAW,CAAa,SAAS,MAAM,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,EAAU;QACrB,OAAO,IAAI,CAAC,WAAW,CAAS,SAAS,EAAE,EAAE,CAAC,CAAC;IACjD,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,EAAU,EAAE,IAAY;QACtC,OAAO,IAAI,CAAC,WAAW,CAAS,SAAS,EAAE,EAAE,EAAE;YAC7C,MAAM,EAAE,KAAK;YACb,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,CAAC;SAC/B,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,EAAU;QACxB,OAAO,IAAI,CAAC,WAAW,CAAS,SAAS,EAAE,EAAE,EAAE;YAC7C,MAAM,EAAE,QAAQ;SACjB,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,UAAkB;QACtC,OAAO,IAAI,CAAC,WAAW,CAAW,cAAc,UAAU,OAAO,CAAC,CAAC;IACrE,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,UAAkB,EAAE,MAAwB;QACnE,OAAO,IAAI,CAAC,WAAW,CAAW,cAAc,UAAU,OAAO,EAAE;YACjE,MAAM,EAAE,KAAK;YACb,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;SAC7B,CAAC,CAAC;IACL,CAAC;IAED,wBAAwB;IACxB,KAAK,CAAC,aAAa,CACjB,UAGI,EAAE;QAEN,OAAO,IAAI,CAAC,WAAW,CAAiB,QAAQ,EAAE;YAChD,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC;gBACnB,iBAAiB,EAAE;oBACjB,qBAAqB,EAAE,OAAO,CAAC,qBAAqB;oBACpD,UAAU,EAAE,OAAO,CAAC,UAAU;iBAC/B;aACF,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,gCAAgC;IAChC,KAAK,CAAC,gBAAgB,CAAC,IAAY,EAAE,IAAY,EAAE,IAAyB;QAC1E,OAAO,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE;YACtC,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC;gBACnB,IAAI;gBACJ,IAAI;gBACJ,IAAI;aACL,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,EAAU;QAC/B,OAAO,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,EAAE,EAAE;YAC5C,MAAM,EAAE,QAAQ;SACjB,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,kBAA0B;QAClD,OAAO,IAAI,CAAC,WAAW,CAAC,uBAAuB,kBAAkB,EAAE,CAAC,CAAC;IACvE,CAAC;CACF;AAgyDyB,8BAAS;AA9xDnC,uBAAuB;AACvB,MAAM,MAAM,GAAG,IAAI,iBAAM,CACvB;IACE,IAAI,EAAE,iBAAiB;IACvB,OAAO,EAAE,OAAO;CACjB,EACD;IACE,YAAY,EAAE;QACZ,KAAK,EAAE,EAAE;KACV;CACF,CACF,CAAC;AAmxDO,wBAAM;AAjxDf,yBAAyB;AACzB,MAAM,OAAO,GAAG,IAAI,GAAG,EAAqB,CAAC;AAgxD5B,0BAAO;AA9wDxB,qBAAqB;AACrB,MAAM,CAAC,iBAAiB,CAAC,iCAAsB,EAAE,KAAK,IAAI,EAAE;IAC1D,OAAO;QACL,KAAK,EAAE;YACL;gBACE,IAAI,EAAE,UAAU;gBAChB,WAAW,EACT,iOAAiO;gBACnO,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,GAAG,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBACvB,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBAC3B;oBACD,QAAQ,EAAE,CAAC,KAAK,EAAE,QAAQ,CAAC;iBAC5B;aACF;YACD;gBACE,IAAI,EAAE,gBAAgB;gBACtB,WAAW,EACT,gLAAgL;gBAClL,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBAC7B;oBACD,QAAQ,EAAE,CAAC,UAAU,CAAC;iBACvB;aACF;YACD;gBACE,IAAI,EAAE,cAAc;gBACpB,WAAW,EACT,+MAA+M;gBACjN,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBACvB;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC;iBAC7B;aACF;YACD;gBACE,IAAI,EAAE,iBAAiB;gBACvB,WAAW,EACT,uWAAuW;gBACzW,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBACxB,KAAK,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE;wBACxB,WAAW,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBAChC;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,MAAM,CAAC;iBAC/B;aACF;YACD;gBACE,IAAI,EAAE,iBAAiB;gBACvB,WAAW,EACT,yNAAyN;gBAC3N,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBACtB,QAAQ,EAAE;4BACR,IAAI,EAAE,QAAQ;4BACd,UAAU,EAAE;gCACV,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gCACxB,MAAM,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;gCAC3B,KAAK,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE;gCACxB,WAAW,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gCAC/B,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;6BAC7B;yBACF;qBACF;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,IAAI,EAAE,UAAU,CAAC;iBACzC;aACF;YACD;gBACE,IAAI,EAAE,iBAAiB;gBACvB,WAAW,EACT,2JAA2J;gBAC7J,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBACvB;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC;iBAC7B;aACF;YACD;gBACE,IAAI,EAAE,mBAAmB;gBACzB,WAAW,EACT,qKAAqK;gBACvK,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBACvB;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC;iBAC7B;aACF;YACD;gBACE,IAAI,EAAE,qBAAqB;gBAC3B,WAAW,EACT,8KAA8K;gBAChL,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBACvB;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC;iBAC7B;aACF;YACD;gBACE,IAAI,EAAE,eAAe;gBACrB,WAAW,EACT,gNAAgN;gBAClN,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBAC7B;oBACD,QAAQ,EAAE,CAAC,UAAU,CAAC;iBACvB;aACF;YACD;gBACE,IAAI,EAAE,gBAAgB;gBACtB,WAAW,EACT,iNAAiN;gBACnN,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBACzB;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,MAAM,CAAC;iBAC/B;aACF;YACD;gBACE,IAAI,EAAE,gBAAgB;gBACtB,WAAW,EACT,4MAA4M;gBAC9M,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBAC9B;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,WAAW,CAAC;iBACpC;aACF;YACD;gBACE,IAAI,EAAE,gBAAgB;gBACtB,WAAW,EACT,6MAA6M;gBAC/M,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC7B,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBACzB;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,WAAW,EAAE,MAAM,CAAC;iBAC5C;aACF;YACD;gBACE,IAAI,EAAE,YAAY;gBAClB,WAAW,EACT,+EAA+E;gBACjF,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBAC7B;oBACD,QAAQ,EAAE,CAAC,UAAU,CAAC;iBACvB;aACF;YACD;gBACE,IAAI,EAAE,cAAc;gBACpB,WAAW,EAAE,4CAA4C;gBACzD,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,KAAK,EAAE;4BACL,IAAI,EAAE,OAAO;4BACb,KAAK,EAAE;gCACL,IAAI,EAAE,QAAQ;gCACd,UAAU,EAAE;oCACV,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;oCACzB,IAAI,EAAE;wCACJ,IAAI,EAAE,QAAQ;wCACd,IAAI,EAAE,CAAC,cAAc,EAAE,eAAe,CAAC;qCACxC;iCACF;gCACD,QAAQ,EAAE,CAAC,OAAO,CAAC;6BACpB;yBACF;qBACF;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,OAAO,CAAC;iBAChC;aACF;YACD;gBACE,IAAI,EAAE,UAAU;gBAChB,WAAW,EAAE,kCAAkC;gBAC/C,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBAC9B;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,WAAW,CAAC;iBACpC;aACF;YACD;gBACE,IAAI,EAAE,aAAa;gBACnB,WAAW,EAAE,mCAAmC;gBAChD,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBAC9B;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,WAAW,CAAC;iBACpC;aACF;YACD;gBACE,IAAI,EAAE,gBAAgB;gBACtB,WAAW,EACT,iQAAiQ;gBACnQ,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBAC7B;oBACD,QAAQ,EAAE,CAAC,UAAU,CAAC;iBACvB;aACF;YACD;gBACE,IAAI,EAAE,iBAAiB;gBACvB,WAAW,EACT,mRAAmR;gBACrR,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,GAAG,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBACvB,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBAC1B;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,KAAK,EAAE,OAAO,CAAC;iBACvC;aACF;YACD;gBACE,IAAI,EAAE,iBAAiB;gBACvB,WAAW,EACT,8SAA8S;gBAChT,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBACvB;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC;iBAC7B;aACF;YACD;gBACE,IAAI,EAAE,mBAAmB;gBACzB,WAAW,EACT,wTAAwT;gBAC1T,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBACxB,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBACxB,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBACzB;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC;iBAC/C;aACF;YACD;gBACE,IAAI,EAAE,mBAAmB;gBACzB,WAAW,EAAE,sEAAsE;gBACnF,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBACvB;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC;iBAC7B;aACF;YACD;gBACE,IAAI,EAAE,uBAAuB;gBAC7B,WAAW,EACT,sRAAsR;gBACxR,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,kBAAkB,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBACvC;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,oBAAoB,CAAC;iBAC7C;aACF;YACD,6BAA6B;YAC7B;gBACE,IAAI,EAAE,iBAAiB;gBACvB,WAAW,EAAE,qEAAqE;gBAClF,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,WAAW,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;wBAChC,MAAM,EAAE;4BACN,IAAI,EAAE,QAAQ;4BACd,IAAI,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,SAAS,CAAC;yBACtC;wBACD,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC9B,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBAC1B;oBACD,QAAQ,EAAE,CAAC,UAAU,CAAC;iBACvB;aACF;YACD;gBACE,IAAI,EAAE,eAAe;gBACrB,WAAW,EAAE,sCAAsC;gBACnD,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBACtB,WAAW,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;qBACjC;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC;iBAC7B;aACF;YACD;gBACE,IAAI,EAAE,kBAAkB;gBACxB,WAAW,EAAE,oCAAoC;gBACjD,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBACvB;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC;iBAC7B;aACF;YACD,uBAAuB;YACvB;gBACE,IAAI,EAAE,YAAY;gBAClB,WAAW,EAAE,oCAAoC;gBACjD,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBACzB;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,MAAM,CAAC;iBAC/B;aACF;YACD;gBACE,IAAI,EAAE,WAAW;gBACjB,WAAW,EAAE,uCAAuC;gBACpD,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBAC1B;oBACD,QAAQ,EAAE,CAAC,UAAU,CAAC;iBACvB;aACF;YACD;gBACE,IAAI,EAAE,SAAS;gBACf,WAAW,EAAE,gCAAgC;gBAC7C,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBACvB;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC;iBAC7B;aACF;YACD;gBACE,IAAI,EAAE,YAAY;gBAClB,WAAW,EAAE,sBAAsB;gBACnC,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBACtB,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBACzB;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,IAAI,EAAE,MAAM,CAAC;iBACrC;aACF;YACD;gBACE,IAAI,EAAE,YAAY;gBAClB,WAAW,EAAE,qBAAqB;gBAClC,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBACvB;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC;iBAC7B;aACF;YACD;gBACE,IAAI,EAAE,mBAAmB;gBACzB,WAAW,EAAE,sCAAsC;gBACnD,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBAC/B;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,YAAY,CAAC;iBACrC;aACF;YACD;gBACE,IAAI,EAAE,sBAAsB;gBAC5B,WAAW,EAAE,yCAAyC;gBACtD,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC9B,MAAM,EAAE;4BACN,IAAI,EAAE,OAAO;4BACb,KAAK,EAAE;gCACL,IAAI,EAAE,QAAQ;gCACd,UAAU,EAAE;oCACV,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;iCACvB;gCACD,QAAQ,EAAE,CAAC,IAAI,CAAC;6BACjB;yBACF;qBACF;oBACD,QAAQ,EAAE,CAAC,UAAU,EAAE,YAAY,EAAE,QAAQ,CAAC;iBAC/C;aACF;YACD,sBAAsB;YACtB;gBACE,IAAI,EAAE,gBAAgB;gBACtB,WAAW,EAAE,kDAAkD;gBAC/D,WAAW,EAAE;oBACX,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBAC5B,qBAAqB,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wBACzC,UAAU,EAAE;4BACV,IAAI,EAAE,OAAO;4BACb,KAAK,EAAE;gCACL,IAAI,EAAE,QAAQ;gCACd,IAAI,EAAE,CAAC,aAAa,EAAE,UAAU,EAAE,OAAO,EAAE,YAAY,EAAE,UAAU,CAAC;6BACrE;yBACF;qBACF;oBACD,QAAQ,EAAE,CAAC,UAAU,CAAC;iBACvB;aACF;SACF;KACF,CAAC;AACJ,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,MAAM,CAAC,iBAAiB,CAAC,gCAAqB,EAAE,KAAK,EAAC,OAAO,EAAC,EAAE;IAC9D,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC,MAAM,CAAC;IAEjD,QAAQ,IAAI,EAAE,CAAC;QACb,KAAK,UAAU,CAAC,CAAC,CAAC;YAChB,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,IAAuC,CAAC;YAChE,IAAI,CAAC;gBACH,MAAM,MAAM,GAAG,IAAI,SAAS,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;gBAE1C,uCAAuC;gBACvC,MAAM,MAAM,CAAC,aAAa,EAAE,CAAC;gBAE7B,8BAA8B;gBAC9B,MAAM,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBACrD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;gBAE9B,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oCAAoC,GAAG,+CAA+C,QAAQ,EAAE;yBACvG;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,gBAAgB,CAAC,CAAC,CAAC;YACtB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAA4B,CAAC;YAClD,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,SAAS,GAAG,MAAM,MAAM,CAAC,aAAa,EAAE,CAAC;gBAC/C,MAAM,kBAAkB,GAAG,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;oBACnD,EAAE,EAAE,EAAE,CAAC,EAAE;oBACT,IAAI,EAAE,EAAE,CAAC,IAAI;oBACb,MAAM,EAAE,EAAE,CAAC,MAAM;oBACjB,OAAO,EAAE,EAAE,CAAC,SAAS;oBACrB,OAAO,EAAE,EAAE,CAAC,SAAS;oBACrB,IAAI,EAAE,EAAE,CAAC,IAAI;iBACd,CAAC,CAAC,CAAC;gBAEJ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,kBAAkB,EAAE,IAAI,EAAE,CAAC,CAAC;yBAClD;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,cAAc,CAAC,CAAC,CAAC;YACpB,MAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,IAAwC,CAAC;YAClE,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,QAAQ,GAAG,MAAM,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;gBAC9C,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;yBACxC;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,iBAAiB,CAAC,CAAC,CAAC;YACvB,MAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,QAAQ,EAAE,GAAG,IAIlC,CAAC;YAEF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,eAAe,GAAG,MAAM,MAAM,CAAC,cAAc,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;gBAClE,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,mCAAmC,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE;yBACpF;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,iBAAiB,CAAC,CAAC,CAAC;YACvB,MAAM,EACJ,QAAQ,EACR,IAAI,EACJ,KAAK,GAAG,EAAE,EACV,WAAW,GAAG,EAAE,GACjB,GAAG,IAKH,CAAC;YAEF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,QAAQ,GAAG,MAAM,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;gBACvE,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,mCAAmC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE;yBAC7E;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,iBAAiB,CAAC,CAAC,CAAC;YACvB,MAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,IAAwC,CAAC;YAClE,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,QAAQ,GAAG,MAAM,MAAM,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;gBACjD,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,mCAAmC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE;yBAC7E;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,mBAAmB,CAAC,CAAC,CAAC;YACzB,MAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,IAAwC,CAAC;YAClE,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,QAAQ,GAAG,MAAM,MAAM,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;gBACnD,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,qCAAqC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE;yBAC/E;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,qBAAqB,CAAC,CAAC,CAAC;YAC3B,MAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,IAAwC,CAAC;YAClE,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,QAAQ,GAAG,MAAM,MAAM,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;gBACrD,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,uCAAuC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE;yBACjF;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,eAAe,CAAC,CAAC,CAAC;YACrB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAA4B,CAAC;YAClD,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,QAAQ,GAAG,MAAM,MAAM,CAAC,YAAY,EAAE,CAAC;gBAC7C,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;yBAC7C;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,gBAAgB,CAAC,CAAC,CAAC;YACtB,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,IAA0C,CAAC;YACtE,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBACjC,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,iCAAiC,IAAI,EAAE;yBAC9C;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,gBAAgB,CAAC,CAAC,CAAC;YACtB,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAA+C,CAAC;YAChF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBACtC,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,yCAAyC,SAAS,EAAE;yBAC3D;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,gBAAgB,CAAC,CAAC,CAAC;YACtB,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,IAIrC,CAAC;YACF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,MAAM,CAAC,aAAa,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBAC5C,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,gCAAgC,SAAS,mBAAmB,IAAI,EAAE;yBACzE;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,YAAY,CAAC,CAAC,CAAC;YAClB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAA4B,CAAC;YAClD,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,KAAK,GAAG,MAAM,MAAM,CAAC,SAAS,EAAE,CAAC;gBACvC,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;yBAC1C;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,cAAc,CAAC,CAAC,CAAC;YACpB,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,IAM3B,CAAC;YACF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBAC/C,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;yBACtC;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,UAAU,CAAC,CAAC,CAAC;YAChB,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAA+C,CAAC;YAChF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gBAC7C,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;yBACpC;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,aAAa,CAAC,CAAC,CAAC;YACnB,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAA+C,CAAC;YAChF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBACnC,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,8BAA8B,SAAS,EAAE;yBAChD;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,gBAAgB,CAAC,CAAC,CAAC;YACtB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAA4B,CAAC;YAClD,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,SAAS,GAAG,MAAM,MAAM,CAAC,aAAa,EAAE,CAAC;gBAC/C,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;yBAC9C;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,iBAAiB,CAAC,CAAC,CAAC;YACvB,MAAM,EAAE,QAAQ,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,IAAwD,CAAC;YAC1F,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;gBACxC,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,2CAA2C,GAAG,EAAE;yBACvD;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,iBAAiB,CAAC,CAAC,CAAC;YACvB,MAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,IAAwC,CAAC;YAClE,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,MAAM,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;gBAChC,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,0CAA0C,EAAE,EAAE;yBACrD;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,mBAAmB,CAAC,CAAC,CAAC;YACzB,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,IAKtC,CAAC;YACF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,UAAU,GAAG,MAAM,MAAM,CAAC,gBAAgB,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACnE,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,qCAAqC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE;yBACjF;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,mBAAmB,CAAC,CAAC,CAAC;YACzB,MAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,IAAwC,CAAC;YAClE,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;gBACjD,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,qCAAqC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE;yBAC7E;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,uBAAuB,CAAC,CAAC,CAAC;YAC7B,MAAM,EAAE,QAAQ,EAAE,kBAAkB,EAAE,GAAG,IAGxC,CAAC;YACF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,CAAC;gBACpE,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;yBACtC;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,gCAAgC;QAChC,KAAK,iBAAiB,CAAC,CAAC,CAAC;YACvB,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,IAM5D,CAAC;YACF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,UAAU,GAAG,MAAM,MAAM,CAAC,aAAa,CAAC,EAAE,WAAW,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC1F,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;yBAC/C;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,eAAe,CAAC,CAAC,CAAC;YACrB,MAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,WAAW,EAAE,GAAG,IAIrC,CAAC;YACF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,SAAS,GAAG,MAAM,MAAM,CAAC,YAAY,CAAC,EAAE,EAAE,WAAW,CAAC,CAAC;gBAC7D,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;yBACzC;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,kBAAkB,CAAC,CAAC,CAAC;YACxB,MAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,IAAwC,CAAC;YAClE,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,SAAS,GAAG,MAAM,MAAM,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;gBACnD,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oCAAoC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE;yBAC/E;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,0BAA0B;QAC1B,KAAK,YAAY,CAAC,CAAC,CAAC;YAClB,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,IAA0C,CAAC;YACtE,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,GAAG,GAAG,MAAM,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;gBACzC,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,8BAA8B,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE;yBACnE;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,WAAW,CAAC,CAAC,CAAC;YACjB,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,IAA4C,CAAC;YACzE,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC7C,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;yBACzC;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,SAAS,CAAC,CAAC,CAAC;YACf,MAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,IAAwC,CAAC;YAClE,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,GAAG,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;gBACpC,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC;yBACnC;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,YAAY,CAAC,CAAC,CAAC;YAClB,MAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,IAAsD,CAAC;YACtF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,GAAG,GAAG,MAAM,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;gBAC7C,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,8BAA8B,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE;yBACnE;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,YAAY,CAAC,CAAC,CAAC;YAClB,MAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,IAAwC,CAAC;YAClE,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,GAAG,GAAG,MAAM,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;gBACvC,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,8BAA8B,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE;yBACnE;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,mBAAmB,CAAC,CAAC,CAAC;YACzB,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,GAAG,IAAgD,CAAC;YAClF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;gBACtD,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;yBACpC;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,sBAAsB,CAAC,CAAC,CAAC;YAC5B,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,EAAE,GAAG,IAIxC,CAAC;YACF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,kBAAkB,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;gBACjE,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,wCAAwC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE;yBAC9E;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED,KAAK,gBAAgB,CAAC,CAAC,CAAC;YACtB,MAAM,EAAE,QAAQ,EAAE,qBAAqB,EAAE,UAAU,EAAE,GAAG,IAIvD,CAAC;YACF,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,oDAAoD;yBAC3D;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,KAAK,GAAG,MAAM,MAAM,CAAC,aAAa,CAAC,EAAE,qBAAqB,EAAE,UAAU,EAAE,CAAC,CAAC;gBAChF,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;yBACrC;qBACF;iBACF,CAAC;YACJ,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO;oBACL,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB;yBACxE;qBACF;oBACD,OAAO,EAAE,IAAI;iBACd,CAAC;YACJ,CAAC;QACH,CAAC;QAED;YACE,OAAO;gBACL,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,MAAM;wBACZ,IAAI,EAAE,iBAAiB,IAAI,EAAE;qBAC9B;iBACF;gBACD,OAAO,EAAE,IAAI;aACd,CAAC;IACN,CAAC;AACH,CAAC,CAAC,CAAC;AAKH,oCAAoC;AAC7B,KAAK,UAAU,WAAW;IAC/B,MAAM,SAAS,GAAG,IAAI,+BAAoB,EAAE,CAAC;IAC7C,MAAM,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IAChC,OAAO,CAAC,KAAK,CAAC,iCAAiC,CAAC,CAAC;AACnD,CAAC;AAED,uDAAuD;AACvD,yFAAyF;AACzF,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;IACvG,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;QAC5B,OAAO,CAAC,KAAK,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAC;QAChD,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC;AACL,CAAC","names":[],"sources":["/Users/jeremyparker/Desktop/Claude Coding Projects/n8n-mcp-server/src/index.ts"],"sourcesContent":["\n\nimport { Server } from '@modelcontextprotocol/sdk/server/index.js';\nimport { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';\nimport { ListToolsRequestSchema, CallToolRequestSchema } from '@modelcontextprotocol/sdk/types.js';\nimport fetch from 'node-fetch';\n\n// Type definitions for n8n API responses\ninterface N8nUser {\n  id: string;\n  email: string;\n  firstName?: string;\n  lastName?: string;\n  isPending: boolean;\n  role?: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface N8nUserList {\n  data: N8nUser[];\n  nextCursor?: string;\n}\n\ninterface N8nWorkflow {\n  id: number;\n  name: string;\n  active: boolean;\n  createdAt: string;\n  updatedAt: string;\n  tags: string[];\n}\n\ninterface N8nWorkflowList {\n  data: N8nWorkflow[];\n  nextCursor?: string;\n}\n\ninterface N8nProject {\n  id: string;\n  name: string;\n  type?: string;\n}\n\ninterface N8nProjectList {\n  data: N8nProject[];\n  nextCursor?: string;\n}\n\ninterface N8nVariable {\n  id: string;\n  key: string;\n  value: string;\n  type?: string;\n}\n\ninterface N8nVariableList {\n  data: N8nVariable[];\n  nextCursor?: string;\n}\n\ninterface N8nExecution {\n  id: number;\n  data?: any;\n  finished: boolean;\n  mode: string;\n  retryOf?: number;\n  retrySuccessId?: number;\n  startedAt: string;\n  stoppedAt?: string;\n  workflowId: number;\n  waitTill?: string;\n}\n\ninterface N8nExecutionList {\n  data: N8nExecution[];\n  nextCursor?: string;\n}\n\ninterface N8nTag {\n  id: string;\n  name: string;\n  createdAt?: string;\n  updatedAt?: string;\n}\n\ninterface N8nTagList {\n  data: N8nTag[];\n  nextCursor?: string;\n}\n\ninterface N8nAuditResult {\n  'Credentials Risk Report'?: any;\n  'Database Risk Report'?: any;\n  'Filesystem Risk Report'?: any;\n  'Nodes Risk Report'?: any;\n  'Instance Risk Report'?: any;\n}\n\nclass N8nClient {\n  constructor(\n    private baseUrl: string,\n    private apiKey: string\n  ) {\n    // Remove trailing slash if present\n    this.baseUrl = baseUrl.replace(/\\/$/, '');\n    // Ensure apiKey is properly assigned for ESLint\n    this.apiKey = apiKey;\n  }\n\n  private async makeRequest<T>(endpoint: string, options: any = {}): Promise<T> {\n    const url = `${this.baseUrl}/api/v1${endpoint}`;\n    const headers = {\n      'X-N8N-API-KEY': this.apiKey,\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    };\n\n    try {\n      const response = await fetch(url, {\n        ...options,\n        headers: {\n          ...headers,\n          ...options.headers,\n        },\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        let errorMessage: string;\n        try {\n          const errorJson = JSON.parse(errorText);\n          // Check for license-related errors\n          if (errorJson.message && errorJson.message.includes('license')) {\n            errorMessage = `This operation requires an n8n Enterprise license with project management features enabled. Error: ${errorJson.message}`;\n          } else {\n            errorMessage = errorJson.message || errorText;\n          }\n        } catch {\n          errorMessage = errorText;\n        }\n        throw new Error(`N8N API error: ${errorMessage}`);\n      }\n\n      // Handle 204 No Content responses\n      if (response.status === 204) {\n        return {} as T;\n      }\n\n      return (await response.json()) as T;\n    } catch (error) {\n      if (error instanceof Error) {\n        throw new Error(`Failed to connect to n8n: ${error.message}`);\n      }\n      throw error;\n    }\n  }\n\n  async listWorkflows(): Promise<N8nWorkflowList> {\n    return this.makeRequest<N8nWorkflowList>('/workflows');\n  }\n\n  async getWorkflow(id: string): Promise<N8nWorkflow> {\n    return this.makeRequest<N8nWorkflow>(`/workflows/${id}`);\n  }\n\n  async createWorkflow(\n    name: string,\n    nodes: any[] = [],\n    connections: any = {}\n  ): Promise<N8nWorkflow> {\n    return this.makeRequest<N8nWorkflow>('/workflows', {\n      method: 'POST',\n      body: JSON.stringify({\n        name,\n        nodes,\n        connections,\n        settings: {\n          saveManualExecutions: true,\n          saveExecutionProgress: true,\n        },\n      }),\n    });\n  }\n\n  async updateWorkflow(id: string, workflow: Partial<N8nWorkflow>): Promise<N8nWorkflow> {\n    return this.makeRequest<N8nWorkflow>(`/workflows/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(workflow),\n    });\n  }\n\n  async deleteWorkflow(id: string): Promise<N8nWorkflow> {\n    return this.makeRequest<N8nWorkflow>(`/workflows/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  async activateWorkflow(id: string): Promise<N8nWorkflow> {\n    return this.makeRequest<N8nWorkflow>(`/workflows/${id}/activate`, {\n      method: 'POST',\n    });\n  }\n\n  async deactivateWorkflow(id: string): Promise<N8nWorkflow> {\n    return this.makeRequest<N8nWorkflow>(`/workflows/${id}/deactivate`, {\n      method: 'POST',\n    });\n  }\n\n  // Project management methods (requires n8n Enterprise license)\n  async listProjects(): Promise<N8nProjectList> {\n    return this.makeRequest<N8nProjectList>('/projects');\n  }\n\n  async createProject(name: string): Promise<void> {\n    return this.makeRequest<void>('/projects', {\n      method: 'POST',\n      body: JSON.stringify({ name }),\n    });\n  }\n\n  async deleteProject(projectId: string): Promise<void> {\n    return this.makeRequest<void>(`/projects/${projectId}`, {\n      method: 'DELETE',\n    });\n  }\n\n  async updateProject(projectId: string, name: string): Promise<void> {\n    return this.makeRequest<void>(`/projects/${projectId}`, {\n      method: 'PUT',\n      body: JSON.stringify({ name }),\n    });\n  }\n\n  // User management methods\n  async listUsers(): Promise<N8nUserList> {\n    return this.makeRequest<N8nUserList>('/users');\n  }\n\n  async createUsers(\n    users: Array<{ email: string; role?: 'global:admin' | 'global:member' }>\n  ): Promise<any> {\n    return this.makeRequest('/users', {\n      method: 'POST',\n      body: JSON.stringify(users),\n    });\n  }\n\n  async getUser(idOrEmail: string): Promise<N8nUser> {\n    return this.makeRequest<N8nUser>(`/users/${idOrEmail}`);\n  }\n\n  async deleteUser(idOrEmail: string): Promise<void> {\n    return this.makeRequest<void>(`/users/${idOrEmail}`, {\n      method: 'DELETE',\n    });\n  }\n\n  // Variable management methods\n  async listVariables(): Promise<N8nVariableList> {\n    return this.makeRequest<N8nVariableList>('/variables');\n  }\n\n  async createVariable(key: string, value: string): Promise<void> {\n    return this.makeRequest<void>('/variables', {\n      method: 'POST',\n      body: JSON.stringify({ key, value }),\n    });\n  }\n\n  async deleteVariable(id: string): Promise<void> {\n    return this.makeRequest<void>(`/variables/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  // Execution management methods\n  async getExecutions(\n    options: {\n      includeData?: boolean;\n      status?: 'error' | 'success' | 'waiting';\n      workflowId?: string;\n      limit?: number;\n    } = {}\n  ): Promise<N8nExecutionList> {\n    const params = new URLSearchParams();\n    if (options.includeData !== undefined)\n      params.append('includeData', String(options.includeData));\n    if (options.status) params.append('status', options.status);\n    if (options.workflowId) params.append('workflowId', options.workflowId);\n    if (options.limit) params.append('limit', String(options.limit));\n\n    return this.makeRequest<N8nExecutionList>(`/executions?${params.toString()}`);\n  }\n\n  async getExecution(id: number, includeData: boolean = false): Promise<N8nExecution> {\n    const params = new URLSearchParams();\n    if (includeData) params.append('includeData', 'true');\n\n    return this.makeRequest<N8nExecution>(`/executions/${id}?${params.toString()}`);\n  }\n\n  async deleteExecution(id: number): Promise<N8nExecution> {\n    return this.makeRequest<N8nExecution>(`/executions/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  // Tag management methods\n  async createTag(name: string): Promise<N8nTag> {\n    return this.makeRequest<N8nTag>('/tags', {\n      method: 'POST',\n      body: JSON.stringify({ name }),\n    });\n  }\n\n  async getTags(options: { limit?: number } = {}): Promise<N8nTagList> {\n    const params = new URLSearchParams();\n    if (options.limit) params.append('limit', String(options.limit));\n\n    return this.makeRequest<N8nTagList>(`/tags?${params.toString()}`);\n  }\n\n  async getTag(id: string): Promise<N8nTag> {\n    return this.makeRequest<N8nTag>(`/tags/${id}`);\n  }\n\n  async updateTag(id: string, name: string): Promise<N8nTag> {\n    return this.makeRequest<N8nTag>(`/tags/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify({ name }),\n    });\n  }\n\n  async deleteTag(id: string): Promise<N8nTag> {\n    return this.makeRequest<N8nTag>(`/tags/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  async getWorkflowTags(workflowId: string): Promise<N8nTag[]> {\n    return this.makeRequest<N8nTag[]>(`/workflows/${workflowId}/tags`);\n  }\n\n  async updateWorkflowTags(workflowId: string, tagIds: { id: string }[]): Promise<N8nTag[]> {\n    return this.makeRequest<N8nTag[]>(`/workflows/${workflowId}/tags`, {\n      method: 'PUT',\n      body: JSON.stringify(tagIds),\n    });\n  }\n\n  // Security audit method\n  async generateAudit(\n    options: {\n      daysAbandonedWorkflow?: number;\n      categories?: Array<'credentials' | 'database' | 'nodes' | 'filesystem' | 'instance'>;\n    } = {}\n  ): Promise<N8nAuditResult> {\n    return this.makeRequest<N8nAuditResult>('/audit', {\n      method: 'POST',\n      body: JSON.stringify({\n        additionalOptions: {\n          daysAbandonedWorkflow: options.daysAbandonedWorkflow,\n          categories: options.categories,\n        },\n      }),\n    });\n  }\n\n  // Credential management methods\n  async createCredential(name: string, type: string, data: Record<string, any>): Promise<any> {\n    return this.makeRequest('/credentials', {\n      method: 'POST',\n      body: JSON.stringify({\n        name,\n        type,\n        data,\n      }),\n    });\n  }\n\n  async deleteCredential(id: string): Promise<any> {\n    return this.makeRequest(`/credentials/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  async getCredentialSchema(credentialTypeName: string): Promise<any> {\n    return this.makeRequest(`/credentials/schema/${credentialTypeName}`);\n  }\n}\n\n// Create an MCP server\nconst server = new Server(\n  {\n    name: 'n8n-integration',\n    version: '1.0.0',\n  },\n  {\n    capabilities: {\n      tools: {},\n    },\n  }\n);\n\n// Store client instances\nconst clients = new Map<string, N8nClient>();\n\n// List tools handler\nserver.setRequestHandler(ListToolsRequestSchema, async () => {\n  return {\n    tools: [\n      {\n        name: 'init-n8n',\n        description:\n          'Initialize connection to n8n instance. Use this tool whenever an n8n URL and API key are shared to establish the connection. IMPORTANT: Arguments must be provided as compact, single-line JSON without whitespace or newlines.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            url: { type: 'string' },\n            apiKey: { type: 'string' },\n          },\n          required: ['url', 'apiKey'],\n        },\n      },\n      {\n        name: 'list-workflows',\n        description:\n          'List all workflows from n8n. Use after init-n8n to see available workflows. IMPORTANT: Arguments must be provided as compact, single-line JSON without whitespace or newlines.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n          },\n          required: ['clientId'],\n        },\n      },\n      {\n        name: 'get-workflow',\n        description:\n          'Retrieve a workflow by ID. Use after list-workflows to get detailed information about a specific workflow. IMPORTANT: Arguments must be provided as compact, single-line JSON without whitespace or newlines.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            id: { type: 'string' },\n          },\n          required: ['clientId', 'id'],\n        },\n      },\n      {\n        name: 'create-workflow',\n        description:\n          \"Create a new workflow in n8n. Use to set up a new workflow with optional nodes and connections. IMPORTANT: 1) Arguments must be provided as compact, single-line JSON without whitespace or newlines. 2) Must provide full workflow structure including nodes and connections arrays, even if empty. The 'active' property should not be included as it is read-only.\",\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            name: { type: 'string' },\n            nodes: { type: 'array' },\n            connections: { type: 'object' },\n          },\n          required: ['clientId', 'name'],\n        },\n      },\n      {\n        name: 'update-workflow',\n        description:\n          \"Update an existing workflow in n8n. Use after get-workflow to modify a workflow's properties, nodes, or connections. IMPORTANT: Arguments must be provided as compact, single-line JSON without whitespace or newlines.\",\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            id: { type: 'string' },\n            workflow: {\n              type: 'object',\n              properties: {\n                name: { type: 'string' },\n                active: { type: 'boolean' },\n                nodes: { type: 'array' },\n                connections: { type: 'object' },\n                settings: { type: 'object' },\n              },\n            },\n          },\n          required: ['clientId', 'id', 'workflow'],\n        },\n      },\n      {\n        name: 'delete-workflow',\n        description:\n          'Delete a workflow by ID. This action cannot be undone. IMPORTANT: Arguments must be provided as compact, single-line JSON without whitespace or newlines.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            id: { type: 'string' },\n          },\n          required: ['clientId', 'id'],\n        },\n      },\n      {\n        name: 'activate-workflow',\n        description:\n          'Activate a workflow by ID. This will enable the workflow to run. IMPORTANT: Arguments must be provided as compact, single-line JSON without whitespace or newlines.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            id: { type: 'string' },\n          },\n          required: ['clientId', 'id'],\n        },\n      },\n      {\n        name: 'deactivate-workflow',\n        description:\n          'Deactivate a workflow by ID. This will prevent the workflow from running. IMPORTANT: Arguments must be provided as compact, single-line JSON without whitespace or newlines.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            id: { type: 'string' },\n          },\n          required: ['clientId', 'id'],\n        },\n      },\n      {\n        name: 'list-projects',\n        description:\n          'List all projects from n8n. NOTE: Requires n8n Enterprise license with project management features enabled. IMPORTANT: Arguments must be provided as compact, single-line JSON without whitespace or newlines.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n          },\n          required: ['clientId'],\n        },\n      },\n      {\n        name: 'create-project',\n        description:\n          'Create a new project in n8n. NOTE: Requires n8n Enterprise license with project management features enabled. IMPORTANT: Arguments must be provided as compact, single-line JSON without whitespace or newlines.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            name: { type: 'string' },\n          },\n          required: ['clientId', 'name'],\n        },\n      },\n      {\n        name: 'delete-project',\n        description:\n          'Delete a project by ID. NOTE: Requires n8n Enterprise license with project management features enabled. IMPORTANT: Arguments must be provided as compact, single-line JSON without whitespace or newlines.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            projectId: { type: 'string' },\n          },\n          required: ['clientId', 'projectId'],\n        },\n      },\n      {\n        name: 'update-project',\n        description:\n          \"Update a project's name. NOTE: Requires n8n Enterprise license with project management features enabled. IMPORTANT: Arguments must be provided as compact, single-line JSON without whitespace or newlines.\",\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            projectId: { type: 'string' },\n            name: { type: 'string' },\n          },\n          required: ['clientId', 'projectId', 'name'],\n        },\n      },\n      {\n        name: 'list-users',\n        description:\n          'Retrieve all users from your instance. Only available for the instance owner.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n          },\n          required: ['clientId'],\n        },\n      },\n      {\n        name: 'create-users',\n        description: 'Create one or more users in your instance.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            users: {\n              type: 'array',\n              items: {\n                type: 'object',\n                properties: {\n                  email: { type: 'string' },\n                  role: {\n                    type: 'string',\n                    enum: ['global:admin', 'global:member'],\n                  },\n                },\n                required: ['email'],\n              },\n            },\n          },\n          required: ['clientId', 'users'],\n        },\n      },\n      {\n        name: 'get-user',\n        description: 'Get user by ID or email address.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            idOrEmail: { type: 'string' },\n          },\n          required: ['clientId', 'idOrEmail'],\n        },\n      },\n      {\n        name: 'delete-user',\n        description: 'Delete a user from your instance.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            idOrEmail: { type: 'string' },\n          },\n          required: ['clientId', 'idOrEmail'],\n        },\n      },\n      {\n        name: 'list-variables',\n        description:\n          'List all variables from n8n. NOTE: Requires n8n Enterprise license with variable management features enabled. Use after init-n8n to see available variables. IMPORTANT: Arguments must be provided as compact, single-line JSON without whitespace or newlines.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n          },\n          required: ['clientId'],\n        },\n      },\n      {\n        name: 'create-variable',\n        description:\n          'Create a new variable in n8n. NOTE: Requires n8n Enterprise license with variable management features enabled. Variables can be used across workflows to store and share data. IMPORTANT: Arguments must be provided as compact, single-line JSON without whitespace or newlines.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            key: { type: 'string' },\n            value: { type: 'string' },\n          },\n          required: ['clientId', 'key', 'value'],\n        },\n      },\n      {\n        name: 'delete-variable',\n        description:\n          'Delete a variable by ID. NOTE: Requires n8n Enterprise license with variable management features enabled. Use after list-variables to get the ID of the variable to delete. This action cannot be undone. IMPORTANT: Arguments must be provided as compact, single-line JSON without whitespace or newlines.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            id: { type: 'string' },\n          },\n          required: ['clientId', 'id'],\n        },\n      },\n      {\n        name: 'create-credential',\n        description:\n          \"Create a credential that can be used by nodes of the specified type. The credential type name can be found in the n8n UI when creating credentials (e.g., 'cloudflareApi', 'githubApi', 'slackOAuth2Api'). Use get-credential-schema first to see what fields are required for the credential type you want to create.\",\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            name: { type: 'string' },\n            type: { type: 'string' },\n            data: { type: 'object' },\n          },\n          required: ['clientId', 'name', 'type', 'data'],\n        },\n      },\n      {\n        name: 'delete-credential',\n        description: 'Delete a credential by ID. You must be the owner of the credentials.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            id: { type: 'string' },\n          },\n          required: ['clientId', 'id'],\n        },\n      },\n      {\n        name: 'get-credential-schema',\n        description:\n          \"Show credential data schema for a specific credential type. The credential type name can be found in the n8n UI when creating credentials (e.g., 'cloudflareApi', 'githubApi', 'slackOAuth2Api'). This will show you what fields are required for creating credentials of this type.\",\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            credentialTypeName: { type: 'string' },\n          },\n          required: ['clientId', 'credentialTypeName'],\n        },\n      },\n      // Execution Management Tools\n      {\n        name: 'list-executions',\n        description: 'Retrieve all executions from your instance with optional filtering.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            includeData: { type: 'boolean' },\n            status: {\n              type: 'string',\n              enum: ['error', 'success', 'waiting'],\n            },\n            workflowId: { type: 'string' },\n            limit: { type: 'number' },\n          },\n          required: ['clientId'],\n        },\n      },\n      {\n        name: 'get-execution',\n        description: 'Retrieve a specific execution by ID.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            id: { type: 'number' },\n            includeData: { type: 'boolean' },\n          },\n          required: ['clientId', 'id'],\n        },\n      },\n      {\n        name: 'delete-execution',\n        description: 'Delete a specific execution by ID.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            id: { type: 'number' },\n          },\n          required: ['clientId', 'id'],\n        },\n      },\n      // Tag Management Tools\n      {\n        name: 'create-tag',\n        description: 'Create a new tag in your instance.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            name: { type: 'string' },\n          },\n          required: ['clientId', 'name'],\n        },\n      },\n      {\n        name: 'list-tags',\n        description: 'Retrieve all tags from your instance.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            limit: { type: 'number' },\n          },\n          required: ['clientId'],\n        },\n      },\n      {\n        name: 'get-tag',\n        description: 'Retrieve a specific tag by ID.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            id: { type: 'string' },\n          },\n          required: ['clientId', 'id'],\n        },\n      },\n      {\n        name: 'update-tag',\n        description: \"Update a tag's name.\",\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            id: { type: 'string' },\n            name: { type: 'string' },\n          },\n          required: ['clientId', 'id', 'name'],\n        },\n      },\n      {\n        name: 'delete-tag',\n        description: 'Delete a tag by ID.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            id: { type: 'string' },\n          },\n          required: ['clientId', 'id'],\n        },\n      },\n      {\n        name: 'get-workflow-tags',\n        description: 'Get tags associated with a workflow.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            workflowId: { type: 'string' },\n          },\n          required: ['clientId', 'workflowId'],\n        },\n      },\n      {\n        name: 'update-workflow-tags',\n        description: 'Update tags associated with a workflow.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            workflowId: { type: 'string' },\n            tagIds: {\n              type: 'array',\n              items: {\n                type: 'object',\n                properties: {\n                  id: { type: 'string' },\n                },\n                required: ['id'],\n              },\n            },\n          },\n          required: ['clientId', 'workflowId', 'tagIds'],\n        },\n      },\n      // Security Audit Tool\n      {\n        name: 'generate-audit',\n        description: 'Generate a security audit for your n8n instance.',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            clientId: { type: 'string' },\n            daysAbandonedWorkflow: { type: 'number' },\n            categories: {\n              type: 'array',\n              items: {\n                type: 'string',\n                enum: ['credentials', 'database', 'nodes', 'filesystem', 'instance'],\n              },\n            },\n          },\n          required: ['clientId'],\n        },\n      },\n    ],\n  };\n});\n\n// Tool execution handler\nserver.setRequestHandler(CallToolRequestSchema, async request => {\n  const { name, arguments: args } = request.params;\n\n  switch (name) {\n    case 'init-n8n': {\n      const { url, apiKey } = args as { url: string; apiKey: string };\n      try {\n        const client = new N8nClient(url, apiKey);\n\n        // Test connection by listing workflows\n        await client.listWorkflows();\n\n        // Generate a unique client ID\n        const clientId = Buffer.from(url).toString('base64');\n        clients.set(clientId, client);\n\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully connected to n8n at ${url}. Use this client ID for future operations: ${clientId}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'list-workflows': {\n      const { clientId } = args as { clientId: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const workflows = await client.listWorkflows();\n        const formattedWorkflows = workflows.data.map(wf => ({\n          id: wf.id,\n          name: wf.name,\n          active: wf.active,\n          created: wf.createdAt,\n          updated: wf.updatedAt,\n          tags: wf.tags,\n        }));\n\n        return {\n          content: [\n            {\n              type: 'text',\n              text: JSON.stringify(formattedWorkflows, null, 2),\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'get-workflow': {\n      const { clientId, id } = args as { clientId: string; id: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const workflow = await client.getWorkflow(id);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: JSON.stringify(workflow, null, 2),\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'update-workflow': {\n      const { clientId, id, workflow } = args as {\n        clientId: string;\n        id: string;\n        workflow: Partial<N8nWorkflow>;\n      };\n\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const updatedWorkflow = await client.updateWorkflow(id, workflow);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully updated workflow:\\n${JSON.stringify(updatedWorkflow, null, 2)}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'create-workflow': {\n      const {\n        clientId,\n        name,\n        nodes = [],\n        connections = {},\n      } = args as {\n        clientId: string;\n        name: string;\n        nodes?: any[];\n        connections?: Record<string, any>;\n      };\n\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const workflow = await client.createWorkflow(name, nodes, connections);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully created workflow:\\n${JSON.stringify(workflow, null, 2)}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'delete-workflow': {\n      const { clientId, id } = args as { clientId: string; id: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const workflow = await client.deleteWorkflow(id);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully deleted workflow:\\n${JSON.stringify(workflow, null, 2)}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'activate-workflow': {\n      const { clientId, id } = args as { clientId: string; id: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const workflow = await client.activateWorkflow(id);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully activated workflow:\\n${JSON.stringify(workflow, null, 2)}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'deactivate-workflow': {\n      const { clientId, id } = args as { clientId: string; id: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const workflow = await client.deactivateWorkflow(id);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully deactivated workflow:\\n${JSON.stringify(workflow, null, 2)}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'list-projects': {\n      const { clientId } = args as { clientId: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const projects = await client.listProjects();\n        return {\n          content: [\n            {\n              type: 'text',\n              text: JSON.stringify(projects.data, null, 2),\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'create-project': {\n      const { clientId, name } = args as { clientId: string; name: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        await client.createProject(name);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully created project: ${name}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'delete-project': {\n      const { clientId, projectId } = args as { clientId: string; projectId: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        await client.deleteProject(projectId);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully deleted project with ID: ${projectId}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'update-project': {\n      const { clientId, projectId, name } = args as {\n        clientId: string;\n        projectId: string;\n        name: string;\n      };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        await client.updateProject(projectId, name);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully updated project ${projectId} with new name: ${name}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'list-users': {\n      const { clientId } = args as { clientId: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const users = await client.listUsers();\n        return {\n          content: [\n            {\n              type: 'text',\n              text: JSON.stringify(users.data, null, 2),\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'create-users': {\n      const { clientId, users } = args as {\n        clientId: string;\n        users: Array<{\n          email: string;\n          role?: 'global:admin' | 'global:member';\n        }>;\n      };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const result = await client.createUsers(users);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: JSON.stringify(result, null, 2),\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'get-user': {\n      const { clientId, idOrEmail } = args as { clientId: string; idOrEmail: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const user = await client.getUser(idOrEmail);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: JSON.stringify(user, null, 2),\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'delete-user': {\n      const { clientId, idOrEmail } = args as { clientId: string; idOrEmail: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        await client.deleteUser(idOrEmail);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully deleted user: ${idOrEmail}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'list-variables': {\n      const { clientId } = args as { clientId: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const variables = await client.listVariables();\n        return {\n          content: [\n            {\n              type: 'text',\n              text: JSON.stringify(variables.data, null, 2),\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'create-variable': {\n      const { clientId, key, value } = args as { clientId: string; key: string; value: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        await client.createVariable(key, value);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully created variable with key: ${key}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'delete-variable': {\n      const { clientId, id } = args as { clientId: string; id: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        await client.deleteVariable(id);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully deleted variable with ID: ${id}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'create-credential': {\n      const { clientId, name, type, data } = args as {\n        clientId: string;\n        name: string;\n        type: string;\n        data: Record<string, any>;\n      };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const credential = await client.createCredential(name, type, data);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully created credential:\\n${JSON.stringify(credential, null, 2)}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'delete-credential': {\n      const { clientId, id } = args as { clientId: string; id: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const result = await client.deleteCredential(id);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully deleted credential:\\n${JSON.stringify(result, null, 2)}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'get-credential-schema': {\n      const { clientId, credentialTypeName } = args as {\n        clientId: string;\n        credentialTypeName: string;\n      };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const schema = await client.getCredentialSchema(credentialTypeName);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: JSON.stringify(schema, null, 2),\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    // Execution Management Handlers\n    case 'list-executions': {\n      const { clientId, includeData, status, workflowId, limit } = args as {\n        clientId: string;\n        includeData?: boolean;\n        status?: 'error' | 'success' | 'waiting';\n        workflowId?: string;\n        limit?: number;\n      };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const executions = await client.getExecutions({ includeData, status, workflowId, limit });\n        return {\n          content: [\n            {\n              type: 'text',\n              text: JSON.stringify(executions.data, null, 2),\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'get-execution': {\n      const { clientId, id, includeData } = args as {\n        clientId: string;\n        id: number;\n        includeData?: boolean;\n      };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const execution = await client.getExecution(id, includeData);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: JSON.stringify(execution, null, 2),\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'delete-execution': {\n      const { clientId, id } = args as { clientId: string; id: number };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const execution = await client.deleteExecution(id);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully deleted execution:\\n${JSON.stringify(execution, null, 2)}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    // Tag Management Handlers\n    case 'create-tag': {\n      const { clientId, name } = args as { clientId: string; name: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const tag = await client.createTag(name);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully created tag:\\n${JSON.stringify(tag, null, 2)}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'list-tags': {\n      const { clientId, limit } = args as { clientId: string; limit?: number };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const tags = await client.getTags({ limit });\n        return {\n          content: [\n            {\n              type: 'text',\n              text: JSON.stringify(tags.data, null, 2),\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'get-tag': {\n      const { clientId, id } = args as { clientId: string; id: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const tag = await client.getTag(id);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: JSON.stringify(tag, null, 2),\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'update-tag': {\n      const { clientId, id, name } = args as { clientId: string; id: string; name: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const tag = await client.updateTag(id, name);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully updated tag:\\n${JSON.stringify(tag, null, 2)}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'delete-tag': {\n      const { clientId, id } = args as { clientId: string; id: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const tag = await client.deleteTag(id);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully deleted tag:\\n${JSON.stringify(tag, null, 2)}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'get-workflow-tags': {\n      const { clientId, workflowId } = args as { clientId: string; workflowId: string };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const tags = await client.getWorkflowTags(workflowId);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: JSON.stringify(tags, null, 2),\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'update-workflow-tags': {\n      const { clientId, workflowId, tagIds } = args as {\n        clientId: string;\n        workflowId: string;\n        tagIds: { id: string }[];\n      };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const tags = await client.updateWorkflowTags(workflowId, tagIds);\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Successfully updated workflow tags:\\n${JSON.stringify(tags, null, 2)}`,\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    case 'generate-audit': {\n      const { clientId, daysAbandonedWorkflow, categories } = args as {\n        clientId: string;\n        daysAbandonedWorkflow?: number;\n        categories?: Array<'credentials' | 'database' | 'nodes' | 'filesystem' | 'instance'>;\n      };\n      const client = clients.get(clientId);\n      if (!client) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: 'Client not initialized. Please run init-n8n first.',\n            },\n          ],\n          isError: true,\n        };\n      }\n\n      try {\n        const audit = await client.generateAudit({ daysAbandonedWorkflow, categories });\n        return {\n          content: [\n            {\n              type: 'text',\n              text: JSON.stringify(audit, null, 2),\n            },\n          ],\n        };\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: error instanceof Error ? error.message : 'Unknown error occurred',\n            },\n          ],\n          isError: true,\n        };\n      }\n    }\n\n    default:\n      return {\n        content: [\n          {\n            type: 'text',\n            text: `Unknown tool: ${name}`,\n          },\n        ],\n        isError: true,\n      };\n  }\n});\n\n// Export the server and initialization function for testing\nexport { server, clients, N8nClient };\n\n// Main function to start the server\nexport async function startServer() {\n  const transport = new StdioServerTransport();\n  await server.connect(transport);\n  console.error('N8N MCP Server running on stdio');\n}\n\n// Start the server only if this module is run directly\n// Note: import.meta.url check is replaced with process.argv check for Jest compatibility\nif (process.argv[1] && process.argv[1].includes('index.js') && !process.env.NODE_ENV?.includes('test')) {\n  startServer().catch((error) => {\n    console.error('Failed to start server:', error);\n    process.exit(1);\n  });\n}\n"],"version":3}