5f4614d4fd9e00becf40d933f089eda9
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("@jest/globals");
const variables_1 = require("../../../src/tools/variables");
const fastmcp_1 = require("fastmcp");
(0, globals_1.describe)('Variable Tools', () => {
    let mockClient;
    let mockServer;
    let getClient;
    (0, globals_1.beforeEach)(() => {
        mockClient = global.testUtils.createMockClient();
        getClient = globals_1.jest.fn(() => mockClient);
        mockServer = {
            addTool: globals_1.jest.fn(),
        };
        // Register variable tools
        (0, variables_1.createVariableTools)(getClient, mockServer);
    });
    (0, globals_1.it)('should register all variable tools', () => {
        (0, globals_1.expect)(mockServer.addTool).toHaveBeenCalledTimes(3);
        const toolNames = mockServer.addTool.mock.calls.map((call) => call[0].name);
        (0, globals_1.expect)(toolNames).toContain('list-variables');
        (0, globals_1.expect)(toolNames).toContain('create-variable');
        (0, globals_1.expect)(toolNames).toContain('delete-variable');
    });
    (0, globals_1.describe)('list-variables tool', () => {
        let listVariablesTool;
        (0, globals_1.beforeEach)(() => {
            listVariablesTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'list-variables')[0];
        });
        (0, globals_1.it)('should have correct tool configuration', () => {
            (0, globals_1.expect)(listVariablesTool.name).toBe('list-variables');
            (0, globals_1.expect)(listVariablesTool.description).toContain('List all environment variables in n8n');
            (0, globals_1.expect)(listVariablesTool.description).toContain('n8n Enterprise license');
            (0, globals_1.expect)(listVariablesTool.annotations).toEqual({
                title: 'List n8n Variables',
                readOnlyHint: true,
                destructiveHint: false,
                idempotentHint: true,
                openWorldHint: true,
            });
        });
        (0, globals_1.it)('should list variables successfully with full data', async () => {
            const mockVariables = [
                {
                    id: 'var-1',
                    key: 'API_KEY',
                    value: 'secret-api-key',
                    type: 'string',
                    createdAt: '2023-01-01T00:00:00.000Z',
                    updatedAt: '2023-01-02T00:00:00.000Z',
                },
                {
                    id: 'var-2',
                    key: 'DEBUG_MODE',
                    value: 'true',
                    type: 'boolean',
                    createdAt: '2023-01-01T00:00:00.000Z',
                    updatedAt: '2023-01-03T00:00:00.000Z',
                },
            ];
            mockClient.getVariables.mockResolvedValue({
                data: mockVariables,
                nextCursor: 'next-cursor',
            });
            const result = await listVariablesTool.execute({ limit: 10 });
            (0, globals_1.expect)(mockClient.getVariables).toHaveBeenCalledWith({ limit: 10 });
            (0, globals_1.expect)(result).toContain('Found 2 variable(s)');
            (0, globals_1.expect)(result).toContain('**API_KEY**');
            (0, globals_1.expect)(result).toContain('ID: var-1');
            (0, globals_1.expect)(result).toContain('Type: string');
            (0, globals_1.expect)(result).toContain('Value: [HIDDEN]');
            // Use more flexible date matching to handle timezone differences
            (0, globals_1.expect)(result).toMatch(/Created: (12\/31\/2022|1\/1\/2023)/);
            (0, globals_1.expect)(result).toMatch(/Updated: (1\/1\/2023|1\/2\/2023|1\/3\/2023)/);
            (0, globals_1.expect)(result).toContain('**DEBUG_MODE**');
            (0, globals_1.expect)(result).toContain('ID: var-2');
            (0, globals_1.expect)(result).toContain('Type: boolean');
            (0, globals_1.expect)(result).toContain('Use cursor "next-cursor" to get the next page');
            // Ensure actual values are hidden for security
            (0, globals_1.expect)(result).not.toContain('secret-api-key');
            (0, globals_1.expect)(result).not.toContain('true');
        });
        (0, globals_1.it)('should list variables with minimal data', async () => {
            const mockVariables = [
                {
                    id: 'var-1',
                    key: 'SIMPLE_VAR',
                    value: 'simple-value',
                    type: 'string',
                    createdAt: '2024-01-01T00:00:00Z',
                    updatedAt: '2024-01-01T00:00:00Z',
                    // Test with dates but we'll modify the data after creation
                },
            ];
            // Remove the date fields to test the optional behavior
            delete mockVariables[0].createdAt;
            delete mockVariables[0].updatedAt;
            mockClient.getVariables.mockResolvedValue({
                data: mockVariables,
            });
            const result = await listVariablesTool.execute({});
            (0, globals_1.expect)(mockClient.getVariables).toHaveBeenCalledWith({});
            (0, globals_1.expect)(result).toContain('Found 1 variable(s)');
            (0, globals_1.expect)(result).toContain('**SIMPLE_VAR**');
            (0, globals_1.expect)(result).toContain('ID: var-1');
            (0, globals_1.expect)(result).toContain('Type: string'); // Default type
            (0, globals_1.expect)(result).toContain('Value: [HIDDEN]');
            // When no createdAt/updatedAt provided, these lines should not appear
            (0, globals_1.expect)(result).not.toContain('Created:');
            (0, globals_1.expect)(result).not.toContain('Updated:');
            (0, globals_1.expect)(result).not.toContain('cursor');
            // Ensure actual value is hidden
            (0, globals_1.expect)(result).not.toContain('simple-value');
        });
        (0, globals_1.it)('should handle empty variable list', async () => {
            mockClient.getVariables.mockResolvedValue({
                data: [],
            });
            const result = await listVariablesTool.execute({});
            (0, globals_1.expect)(result).toBe('No variables found in the n8n instance.');
        });
        (0, globals_1.it)('should handle pagination parameters', async () => {
            mockClient.getVariables.mockResolvedValue({ data: [] });
            await listVariablesTool.execute({ limit: 50, cursor: 'test-cursor' });
            (0, globals_1.expect)(mockClient.getVariables).toHaveBeenCalledWith({
                limit: 50,
                cursor: 'test-cursor',
            });
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const getClientNull = globals_1.jest.fn(() => null);
            const nullClientServer = { addTool: globals_1.jest.fn() };
            (0, variables_1.createVariableTools)(getClientNull, nullClientServer);
            const listVariablesToolWithNullClient = nullClientServer.addTool.mock.calls.find((call) => call[0].name === 'list-variables')?.[0];
            (0, globals_1.expect)(listVariablesToolWithNullClient).toBeDefined();
            await (0, globals_1.expect)(listVariablesToolWithNullClient.execute({})).rejects.toThrow(new fastmcp_1.UserError('n8n client not initialized. Please run init-n8n first.'));
        });
        (0, globals_1.it)('should handle license-related errors', async () => {
            const licenseError = new Error('license required');
            mockClient.getVariables.mockRejectedValue(licenseError);
            await (0, globals_1.expect)(listVariablesTool.execute({})).rejects.toThrow(new fastmcp_1.UserError('This operation requires an n8n Enterprise license with variable management features enabled. Error: license required'));
        });
        (0, globals_1.it)('should handle general API errors', async () => {
            const apiError = new Error('API request failed');
            mockClient.getVariables.mockRejectedValue(apiError);
            await (0, globals_1.expect)(listVariablesTool.execute({})).rejects.toThrow(new fastmcp_1.UserError('Failed to list variables: API request failed'));
        });
        (0, globals_1.it)('should handle unknown errors', async () => {
            mockClient.getVariables.mockRejectedValue('Unknown error string');
            await (0, globals_1.expect)(listVariablesTool.execute({})).rejects.toThrow(new fastmcp_1.UserError('Failed to list variables with unknown error'));
        });
    });
    (0, globals_1.describe)('create-variable tool', () => {
        let createVariableTool;
        (0, globals_1.beforeEach)(() => {
            createVariableTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'create-variable')[0];
        });
        (0, globals_1.it)('should have correct tool configuration', () => {
            (0, globals_1.expect)(createVariableTool.name).toBe('create-variable');
            (0, globals_1.expect)(createVariableTool.description).toContain('Create a new environment variable in n8n');
            (0, globals_1.expect)(createVariableTool.description).toContain('n8n Enterprise license');
            (0, globals_1.expect)(createVariableTool.annotations).toEqual({
                title: 'Create New Variable',
                readOnlyHint: false,
                destructiveHint: false,
                idempotentHint: false,
                openWorldHint: true,
            });
        });
        (0, globals_1.it)('should create variable successfully with type', async () => {
            const mockVariable = {
                id: 'var-new',
                key: 'NEW_API_KEY',
                value: 'new-secret-value',
                type: 'string',
                createdAt: '2024-01-01T00:00:00Z',
                updatedAt: '2024-01-01T00:00:00Z',
            };
            mockClient.createVariable.mockResolvedValue(mockVariable);
            const result = await createVariableTool.execute({
                key: 'NEW_API_KEY',
                value: 'new-secret-value',
                type: 'string',
            });
            (0, globals_1.expect)(mockClient.createVariable).toHaveBeenCalledWith({
                key: 'NEW_API_KEY',
                value: 'new-secret-value',
                type: 'string',
            });
            (0, globals_1.expect)(result).toContain('✅ Successfully created variable "NEW_API_KEY" with ID: var-new');
            (0, globals_1.expect)(result).toContain('Type: string');
            (0, globals_1.expect)(result).toContain('Value: [HIDDEN for security]');
            // Ensure actual value is hidden
            (0, globals_1.expect)(result).not.toContain('new-secret-value');
        });
        (0, globals_1.it)('should create variable successfully with default type', async () => {
            const mockVariable = {
                id: 'var-new',
                key: 'SIMPLE_VAR',
                value: 'simple-value',
                type: 'string',
                createdAt: '2024-01-01T00:00:00Z',
                updatedAt: '2024-01-01T00:00:00Z',
            };
            mockClient.createVariable.mockResolvedValue(mockVariable);
            const result = await createVariableTool.execute({
                key: 'SIMPLE_VAR',
                value: 'simple-value',
                // Note: type parameter not provided, should default to 'string'
            });
            // The implementation should handle undefined type by defaulting to 'string'
            (0, globals_1.expect)(mockClient.createVariable).toHaveBeenCalledWith({
                key: 'SIMPLE_VAR',
                value: 'simple-value',
                type: undefined, // This is what actually gets passed
            });
            (0, globals_1.expect)(result).toContain('✅ Successfully created variable "SIMPLE_VAR" with ID: var-new');
            (0, globals_1.expect)(result).toContain('Type: string');
            (0, globals_1.expect)(result).toContain('Value: [HIDDEN for security]');
        });
        (0, globals_1.it)('should create variable with different types', async () => {
            const mockVariable = {
                id: 'var-new',
                key: 'DEBUG_FLAG',
                value: 'true',
                type: 'boolean',
                createdAt: '2024-01-01T00:00:00Z',
                updatedAt: '2024-01-01T00:00:00Z',
            };
            mockClient.createVariable.mockResolvedValue(mockVariable);
            const result = await createVariableTool.execute({
                key: 'DEBUG_FLAG',
                value: 'true',
                type: 'boolean',
            });
            (0, globals_1.expect)(mockClient.createVariable).toHaveBeenCalledWith({
                key: 'DEBUG_FLAG',
                value: 'true',
                type: 'boolean',
            });
            (0, globals_1.expect)(result).toContain('Type: boolean');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const getClientNull = globals_1.jest.fn(() => null);
            const nullClientServer = { addTool: globals_1.jest.fn() };
            (0, variables_1.createVariableTools)(getClientNull, nullClientServer);
            const createVariableToolWithNullClient = nullClientServer.addTool.mock.calls.find((call) => call[0].name === 'create-variable')?.[0];
            (0, globals_1.expect)(createVariableToolWithNullClient).toBeDefined();
            await (0, globals_1.expect)(createVariableToolWithNullClient.execute({ key: 'TEST_VAR', value: 'test-value' })).rejects.toThrow(new fastmcp_1.UserError('n8n client not initialized. Please run init-n8n first.'));
        });
        (0, globals_1.it)('should handle license-related errors', async () => {
            const licenseError = new Error('license required');
            mockClient.createVariable.mockRejectedValue(licenseError);
            await (0, globals_1.expect)(createVariableTool.execute({ key: 'TEST_VAR', value: 'test-value' })).rejects.toThrow(new fastmcp_1.UserError('This operation requires an n8n Enterprise license with variable management features enabled. Error: license required'));
        });
        (0, globals_1.it)('should handle general API errors', async () => {
            const apiError = new Error('Variable key already exists');
            mockClient.createVariable.mockRejectedValue(apiError);
            await (0, globals_1.expect)(createVariableTool.execute({ key: 'DUPLICATE_VAR', value: 'test-value' })).rejects.toThrow(new fastmcp_1.UserError('Failed to create variable: Variable key already exists'));
        });
        (0, globals_1.it)('should handle unknown errors', async () => {
            mockClient.createVariable.mockRejectedValue('Unknown error string');
            await (0, globals_1.expect)(createVariableTool.execute({ key: 'TEST_VAR', value: 'test-value' })).rejects.toThrow(new fastmcp_1.UserError('Failed to create variable with unknown error'));
        });
    });
    (0, globals_1.describe)('delete-variable tool', () => {
        let deleteVariableTool;
        (0, globals_1.beforeEach)(() => {
            deleteVariableTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'delete-variable')[0];
        });
        (0, globals_1.it)('should have correct tool configuration', () => {
            (0, globals_1.expect)(deleteVariableTool.name).toBe('delete-variable');
            (0, globals_1.expect)(deleteVariableTool.description).toContain('Delete an environment variable from n8n permanently');
            (0, globals_1.expect)(deleteVariableTool.description).toContain('n8n Enterprise license');
            (0, globals_1.expect)(deleteVariableTool.annotations).toEqual({
                title: 'Delete Variable',
                readOnlyHint: false,
                destructiveHint: true,
                idempotentHint: true,
                openWorldHint: true,
            });
        });
        (0, globals_1.it)('should delete variable successfully', async () => {
            mockClient.deleteVariable.mockResolvedValue(undefined);
            const result = await deleteVariableTool.execute({
                variableId: 'var-1',
            });
            (0, globals_1.expect)(mockClient.deleteVariable).toHaveBeenCalledWith('var-1');
            (0, globals_1.expect)(result).toBe('✅ Successfully deleted variable with ID: var-1');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const getClientNull = globals_1.jest.fn(() => null);
            const nullClientServer = { addTool: globals_1.jest.fn() };
            (0, variables_1.createVariableTools)(getClientNull, nullClientServer);
            const deleteVariableToolWithNullClient = nullClientServer.addTool.mock.calls.find((call) => call[0].name === 'delete-variable')?.[0];
            (0, globals_1.expect)(deleteVariableToolWithNullClient).toBeDefined();
            await (0, globals_1.expect)(deleteVariableToolWithNullClient.execute({ variableId: 'var-1' })).rejects.toThrow(new fastmcp_1.UserError('n8n client not initialized. Please run init-n8n first.'));
        });
        (0, globals_1.it)('should handle license-related errors', async () => {
            const licenseError = new Error('license required');
            mockClient.deleteVariable.mockRejectedValue(licenseError);
            await (0, globals_1.expect)(deleteVariableTool.execute({ variableId: 'var-1' })).rejects.toThrow(new fastmcp_1.UserError('This operation requires an n8n Enterprise license with variable management features enabled. Error: license required'));
        });
        (0, globals_1.it)('should handle general API errors', async () => {
            const apiError = new Error('Variable not found');
            mockClient.deleteVariable.mockRejectedValue(apiError);
            await (0, globals_1.expect)(deleteVariableTool.execute({ variableId: 'invalid-id' })).rejects.toThrow(new fastmcp_1.UserError('Failed to delete variable: Variable not found'));
        });
        (0, globals_1.it)('should handle unknown errors', async () => {
            mockClient.deleteVariable.mockRejectedValue('Unknown error string');
            await (0, globals_1.expect)(deleteVariableTool.execute({ variableId: 'var-1' })).rejects.toThrow(new fastmcp_1.UserError('Failed to delete variable with unknown error'));
        });
    });
    (0, globals_1.describe)('parameter validation', () => {
        (0, globals_1.it)('should validate variable ID parameters', () => {
            const deleteVariableTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'delete-variable')[0];
            (0, globals_1.expect)(deleteVariableTool.parameters).toBeDefined();
            // Zod validation would be handled at runtime
        });
        (0, globals_1.it)('should validate create variable parameters', () => {
            const createVariableTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'create-variable')[0];
            (0, globals_1.expect)(createVariableTool.parameters).toBeDefined();
            // Zod validation would be handled at runtime
        });
        (0, globals_1.it)('should validate list variables parameters', () => {
            const listVariablesTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'list-variables')[0];
            (0, globals_1.expect)(listVariablesTool.parameters).toBeDefined();
            // Zod validation would be handled at runtime
        });
    });
    (0, globals_1.describe)('security considerations', () => {
        (0, globals_1.it)('should never expose actual variable values in list output', async () => {
            const mockVariables = [
                {
                    id: 'var-1',
                    key: 'SECRET_KEY',
                    value: 'super-secret-password-123',
                    type: 'string',
                    createdAt: '2024-01-01T00:00:00Z',
                    updatedAt: '2024-01-01T00:00:00Z',
                },
                {
                    id: 'var-2',
                    key: 'API_TOKEN',
                    value: 'sk-1234567890abcdef',
                    type: 'string',
                    createdAt: '2024-01-01T00:00:00Z',
                    updatedAt: '2024-01-01T00:00:00Z',
                },
            ];
            mockClient.getVariables.mockResolvedValue({
                data: mockVariables,
            });
            const result = await mockServer.addTool.mock.calls
                .find((call) => call[0].name === 'list-variables')[0]
                .execute({});
            // Ensure no actual values are leaked
            (0, globals_1.expect)(result).not.toContain('super-secret-password-123');
            (0, globals_1.expect)(result).not.toContain('sk-1234567890abcdef');
            (0, globals_1.expect)(result).toContain('[HIDDEN]');
        });
        (0, globals_1.it)('should never expose actual variable values in create output', async () => {
            const mockVariable = {
                id: 'var-new',
                key: 'NEW_SECRET',
                value: 'extremely-secret-value',
                type: 'string',
                createdAt: '2024-01-01T00:00:00Z',
                updatedAt: '2024-01-01T00:00:00Z',
            };
            mockClient.createVariable.mockResolvedValue(mockVariable);
            const result = await mockServer.addTool.mock.calls
                .find((call) => call[0].name === 'create-variable')[0]
                .execute({
                key: 'NEW_SECRET',
                value: 'extremely-secret-value',
                type: 'string',
            });
            // Ensure no actual value is leaked
            (0, globals_1.expect)(result).not.toContain('extremely-secret-value');
            (0, globals_1.expect)(result).toContain('[HIDDEN for security]');
        });
        (0, globals_1.it)('should handle different variable types securely', async () => {
            const mockVariables = [
                {
                    id: 'var-1',
                    key: 'STRING_VAR',
                    value: 'secret-string',
                    type: 'string',
                    createdAt: '2024-01-01T00:00:00Z',
                    updatedAt: '2024-01-01T00:00:00Z',
                },
                {
                    id: 'var-2',
                    key: 'NUMBER_VAR',
                    value: '12345',
                    type: 'number',
                    createdAt: '2024-01-01T00:00:00Z',
                    updatedAt: '2024-01-01T00:00:00Z',
                },
                {
                    id: 'var-3',
                    key: 'BOOLEAN_VAR',
                    value: 'true',
                    type: 'boolean',
                    createdAt: '2024-01-01T00:00:00Z',
                    updatedAt: '2024-01-01T00:00:00Z',
                },
                {
                    id: 'var-4',
                    key: 'JSON_VAR',
                    value: '{"secret": "value"}',
                    type: 'json',
                    createdAt: '2024-01-01T00:00:00Z',
                    updatedAt: '2024-01-01T00:00:00Z',
                },
            ];
            mockClient.getVariables.mockResolvedValue({
                data: mockVariables,
            });
            const result = await mockServer.addTool.mock.calls
                .find((call) => call[0].name === 'list-variables')[0]
                .execute({});
            // Ensure no actual values are leaked for any type
            (0, globals_1.expect)(result).not.toContain('secret-string');
            (0, globals_1.expect)(result).not.toContain('12345');
            (0, globals_1.expect)(result).not.toContain('true');
            (0, globals_1.expect)(result).not.toContain('{"secret": "value"}');
            // But types should be shown
            (0, globals_1.expect)(result).toContain('Type: string');
            (0, globals_1.expect)(result).toContain('Type: number');
            (0, globals_1.expect)(result).toContain('Type: boolean');
            (0, globals_1.expect)(result).toContain('Type: json');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2plcmVteXBhcmtlci9EZXNrdG9wL0NsYXVkZSBDb2RpbmcgUHJvamVjdHMvbjhuLW1jcC1zZXJ2ZXIvdGVzdHMvdW5pdC90b29scy92YXJpYWJsZXMudGVzdC50cyIsIm1hcHBpbmdzIjoiOztBQUFBLDJDQUF1RTtBQUN2RSw0REFBbUU7QUFHbkUscUNBQW9DO0FBRXBDLElBQUEsa0JBQVEsRUFBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7SUFDOUIsSUFBSSxVQUFrQyxDQUFDO0lBQ3ZDLElBQUksVUFBZSxDQUFDO0lBQ3BCLElBQUksU0FBaUMsQ0FBQztJQUV0QyxJQUFBLG9CQUFVLEVBQUMsR0FBRyxFQUFFO1FBQ2QsVUFBVSxHQUFJLE1BQWMsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLEVBQTRCLENBQUM7UUFDcEYsU0FBUyxHQUFHLGNBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdEMsVUFBVSxHQUFHO1lBQ1gsT0FBTyxFQUFFLGNBQUksQ0FBQyxFQUFFLEVBQUU7U0FDbkIsQ0FBQztRQUVGLDBCQUEwQjtRQUMxQixJQUFBLCtCQUFtQixFQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUM3QyxDQUFDLENBQUMsQ0FBQztJQUVILElBQUEsWUFBRSxFQUFDLG9DQUFvQyxFQUFFLEdBQUcsRUFBRTtRQUM1QyxJQUFBLGdCQUFNLEVBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXBELE1BQU0sU0FBUyxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqRixJQUFBLGdCQUFNLEVBQUMsU0FBUyxDQUFDLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDOUMsSUFBQSxnQkFBTSxF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LE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN6QyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2plcmVteXBhcmtlci9EZXNrdG9wL0NsYXVkZSBDb2RpbmcgUHJvamVjdHMvbjhuLW1jcC1zZXJ2ZXIvdGVzdHMvdW5pdC90b29scy92YXJpYWJsZXMudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCwgYmVmb3JlRWFjaCwgamVzdCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xuaW1wb3J0IHsgY3JlYXRlVmFyaWFibGVUb29scyB9IGZyb20gJy4uLy4uLy4uL3NyYy90b29scy92YXJpYWJsZXMnO1xuaW1wb3J0IHsgTjhuQ2xpZW50IH0gZnJvbSAnLi4vLi4vLi4vc3JjL2NsaWVudC9uOG5DbGllbnQnO1xuaW1wb3J0IHsgTjhuVmFyaWFibGUsIENyZWF0ZVZhcmlhYmxlUmVxdWVzdCB9IGZyb20gJy4uLy4uLy4uL3NyYy90eXBlcy9uOG4nO1xuaW1wb3J0IHsgVXNlckVycm9yIH0gZnJvbSAnZmFzdG1jcCc7XG5cbmRlc2NyaWJlKCdWYXJpYWJsZSBUb29scycsICgpID0+IHtcbiAgbGV0IG1vY2tDbGllbnQ6IGplc3QuTW9ja2VkPE44bkNsaWVudD47XG4gIGxldCBtb2NrU2VydmVyOiBhbnk7XG4gIGxldCBnZXRDbGllbnQ6ICgpID0+IE44bkNsaWVudCB8IG51bGw7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgbW9ja0NsaWVudCA9IChnbG9iYWwgYXMgYW55KS50ZXN0VXRpbHMuY3JlYXRlTW9ja0NsaWVudCgpIGFzIGplc3QuTW9ja2VkPE44bkNsaWVudD47XG4gICAgZ2V0Q2xpZW50ID0gamVzdC5mbigoKSA9PiBtb2NrQ2xpZW50KTtcbiAgICBtb2NrU2VydmVyID0ge1xuICAgICAgYWRkVG9vbDogamVzdC5mbigpLFxuICAgIH07XG5cbiAgICAvLyBSZWdpc3RlciB2YXJpYWJsZSB0b29sc1xuICAgIGNyZWF0ZVZhcmlhYmxlVG9vbHMoZ2V0Q2xpZW50LCBtb2NrU2VydmVyKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZWdpc3RlciBhbGwgdmFyaWFibGUgdG9vbHMnLCAoKSA9PiB7XG4gICAgZXhwZWN0KG1vY2tTZXJ2ZXIuYWRkVG9vbCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDMpO1xuXG4gICAgY29uc3QgdG9vbE5hbWVzID0gbW9ja1NlcnZlci5hZGRUb29sLm1vY2suY2FsbHMubWFwKChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSk7XG4gICAgZXhwZWN0KHRvb2xOYW1lcykudG9Db250YWluKCdsaXN0LXZhcmlhYmxlcycpO1xuICAgIGV4cGVjdCh0b29sTmFtZXMpLnRvQ29udGFpbignY3JlYXRlLXZhcmlhYmxlJyk7XG4gICAgZXhwZWN0KHRvb2xOYW1lcykudG9Db250YWluKCdkZWxldGUtdmFyaWFibGUnKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2xpc3QtdmFyaWFibGVzIHRvb2wnLCAoKSA9PiB7XG4gICAgbGV0IGxpc3RWYXJpYWJsZXNUb29sOiBhbnk7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGxpc3RWYXJpYWJsZXNUb29sID0gbW9ja1NlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnbGlzdC12YXJpYWJsZXMnXG4gICAgICApWzBdO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGNvcnJlY3QgdG9vbCBjb25maWd1cmF0aW9uJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGxpc3RWYXJpYWJsZXNUb29sLm5hbWUpLnRvQmUoJ2xpc3QtdmFyaWFibGVzJyk7XG4gICAgICBleHBlY3QobGlzdFZhcmlhYmxlc1Rvb2wuZGVzY3JpcHRpb24pLnRvQ29udGFpbignTGlzdCBhbGwgZW52aXJvbm1lbnQgdmFyaWFibGVzIGluIG44bicpO1xuICAgICAgZXhwZWN0KGxpc3RWYXJpYWJsZXNUb29sLmRlc2NyaXB0aW9uKS50b0NvbnRhaW4oJ244biBFbnRlcnByaXNlIGxpY2Vuc2UnKTtcbiAgICAgIGV4cGVjdChsaXN0VmFyaWFibGVzVG9vbC5hbm5vdGF0aW9ucykudG9FcXVhbCh7XG4gICAgICAgIHRpdGxlOiAnTGlzdCBuOG4gVmFyaWFibGVzJyxcbiAgICAgICAgcmVhZE9ubHlIaW50OiB0cnVlLFxuICAgICAgICBkZXN0cnVjdGl2ZUhpbnQ6IGZhbHNlLFxuICAgICAgICBpZGVtcG90ZW50SGludDogdHJ1ZSxcbiAgICAgICAgb3BlbldvcmxkSGludDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBsaXN0IHZhcmlhYmxlcyBzdWNjZXNzZnVsbHkgd2l0aCBmdWxsIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrVmFyaWFibGVzOiBOOG5WYXJpYWJsZVtdID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICd2YXItMScsXG4gICAgICAgICAga2V5OiAnQVBJX0tFWScsXG4gICAgICAgICAgdmFsdWU6ICdzZWNyZXQtYXBpLWtleScsXG4gICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgY3JlYXRlZEF0OiAnMjAyMy0wMS0wMVQwMDowMDowMC4wMDBaJyxcbiAgICAgICAgICB1cGRhdGVkQXQ6ICcyMDIzLTAxLTAyVDAwOjAwOjAwLjAwMFonLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICd2YXItMicsXG4gICAgICAgICAga2V5OiAnREVCVUdfTU9ERScsXG4gICAgICAgICAgdmFsdWU6ICd0cnVlJyxcbiAgICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgICAgY3JlYXRlZEF0OiAnMjAyMy0wMS0wMVQwMDowMDowMC4wMDBaJyxcbiAgICAgICAgICB1cGRhdGVkQXQ6ICcyMDIzLTAxLTAzVDAwOjAwOjAwLjAwMFonLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0NsaWVudC5nZXRWYXJpYWJsZXMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBtb2NrVmFyaWFibGVzLFxuICAgICAgICBuZXh0Q3Vyc29yOiAnbmV4dC1jdXJzb3InLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxpc3RWYXJpYWJsZXNUb29sLmV4ZWN1dGUoeyBsaW1pdDogMTAgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrQ2xpZW50LmdldFZhcmlhYmxlcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoeyBsaW1pdDogMTAgfSk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ0ZvdW5kIDIgdmFyaWFibGUocyknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignKipBUElfS0VZKionKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignSUQ6IHZhci0xJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1R5cGU6IHN0cmluZycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdWYWx1ZTogW0hJRERFTl0nKTtcbiAgICAgIC8vIFVzZSBtb3JlIGZsZXhpYmxlIGRhdGUgbWF0Y2hpbmcgdG8gaGFuZGxlIHRpbWV6b25lIGRpZmZlcmVuY2VzXG4gICAgICBleHBlY3QocmVzdWx0KS50b01hdGNoKC9DcmVhdGVkOiAoMTJcXC8zMVxcLzIwMjJ8MVxcLzFcXC8yMDIzKS8pO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9NYXRjaCgvVXBkYXRlZDogKDFcXC8xXFwvMjAyM3wxXFwvMlxcLzIwMjN8MVxcLzNcXC8yMDIzKS8pO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCcqKkRFQlVHX01PREUqKicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdJRDogdmFyLTInKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignVHlwZTogYm9vbGVhbicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdVc2UgY3Vyc29yIFwibmV4dC1jdXJzb3JcIiB0byBnZXQgdGhlIG5leHQgcGFnZScpO1xuICAgICAgLy8gRW5zdXJlIGFjdHVhbCB2YWx1ZXMgYXJlIGhpZGRlbiBmb3Igc2VjdXJpdHlcbiAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0NvbnRhaW4oJ3NlY3JldC1hcGkta2V5Jyk7XG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9Db250YWluKCd0cnVlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGxpc3QgdmFyaWFibGVzIHdpdGggbWluaW1hbCBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1ZhcmlhYmxlczogTjhuVmFyaWFibGVbXSA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAndmFyLTEnLFxuICAgICAgICAgIGtleTogJ1NJTVBMRV9WQVInLFxuICAgICAgICAgIHZhbHVlOiAnc2ltcGxlLXZhbHVlJyxcbiAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIC8vIFRlc3Qgd2l0aCBkYXRlcyBidXQgd2UnbGwgbW9kaWZ5IHRoZSBkYXRhIGFmdGVyIGNyZWF0aW9uXG4gICAgICAgIH0gYXMgTjhuVmFyaWFibGUsXG4gICAgICBdO1xuXG4gICAgICAvLyBSZW1vdmUgdGhlIGRhdGUgZmllbGRzIHRvIHRlc3QgdGhlIG9wdGlvbmFsIGJlaGF2aW9yXG4gICAgICBkZWxldGUgKG1vY2tWYXJpYWJsZXNbMF0gYXMgYW55KS5jcmVhdGVkQXQ7XG4gICAgICBkZWxldGUgKG1vY2tWYXJpYWJsZXNbMF0gYXMgYW55KS51cGRhdGVkQXQ7XG5cbiAgICAgIG1vY2tDbGllbnQuZ2V0VmFyaWFibGVzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogbW9ja1ZhcmlhYmxlcyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBsaXN0VmFyaWFibGVzVG9vbC5leGVjdXRlKHt9KTtcblxuICAgICAgZXhwZWN0KG1vY2tDbGllbnQuZ2V0VmFyaWFibGVzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7fSk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ0ZvdW5kIDEgdmFyaWFibGUocyknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignKipTSU1QTEVfVkFSKionKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignSUQ6IHZhci0xJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1R5cGU6IHN0cmluZycpOyAvLyBEZWZhdWx0IHR5cGVcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignVmFsdWU6IFtISURERU5dJyk7XG4gICAgICAvLyBXaGVuIG5vIGNyZWF0ZWRBdC91cGRhdGVkQXQgcHJvdmlkZWQsIHRoZXNlIGxpbmVzIHNob3VsZCBub3QgYXBwZWFyXG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9Db250YWluKCdDcmVhdGVkOicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQ29udGFpbignVXBkYXRlZDonKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0NvbnRhaW4oJ2N1cnNvcicpO1xuICAgICAgLy8gRW5zdXJlIGFjdHVhbCB2YWx1ZSBpcyBoaWRkZW5cbiAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0NvbnRhaW4oJ3NpbXBsZS12YWx1ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgdmFyaWFibGUgbGlzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tDbGllbnQuZ2V0VmFyaWFibGVzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogW10sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbGlzdFZhcmlhYmxlc1Rvb2wuZXhlY3V0ZSh7fSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ05vIHZhcmlhYmxlcyBmb3VuZCBpbiB0aGUgbjhuIGluc3RhbmNlLicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGFnaW5hdGlvbiBwYXJhbWV0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC5nZXRWYXJpYWJsZXMubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBbXSB9KTtcblxuICAgICAgYXdhaXQgbGlzdFZhcmlhYmxlc1Rvb2wuZXhlY3V0ZSh7IGxpbWl0OiA1MCwgY3Vyc29yOiAndGVzdC1jdXJzb3InIH0pO1xuXG4gICAgICBleHBlY3QobW9ja0NsaWVudC5nZXRWYXJpYWJsZXMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgbGltaXQ6IDUwLFxuICAgICAgICBjdXJzb3I6ICd0ZXN0LWN1cnNvcicsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdGhyb3cgVXNlckVycm9yIHdoZW4gY2xpZW50IGlzIG5vdCBpbml0aWFsaXplZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGdldENsaWVudE51bGwgPSBqZXN0LmZuKCgpID0+IG51bGwpO1xuICAgICAgY29uc3QgbnVsbENsaWVudFNlcnZlciA9IHsgYWRkVG9vbDogamVzdC5mbigpIH07XG4gICAgICBjcmVhdGVWYXJpYWJsZVRvb2xzKGdldENsaWVudE51bGwsIG51bGxDbGllbnRTZXJ2ZXIpO1xuXG4gICAgICBjb25zdCBsaXN0VmFyaWFibGVzVG9vbFdpdGhOdWxsQ2xpZW50ID0gbnVsbENsaWVudFNlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnbGlzdC12YXJpYWJsZXMnXG4gICAgICApPy5bMF07XG5cbiAgICAgIGV4cGVjdChsaXN0VmFyaWFibGVzVG9vbFdpdGhOdWxsQ2xpZW50KS50b0JlRGVmaW5lZCgpO1xuICAgICAgYXdhaXQgZXhwZWN0KChsaXN0VmFyaWFibGVzVG9vbFdpdGhOdWxsQ2xpZW50IGFzIGFueSkuZXhlY3V0ZSh7fSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgbmV3IFVzZXJFcnJvcignbjhuIGNsaWVudCBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBydW4gaW5pdC1uOG4gZmlyc3QuJylcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsaWNlbnNlLXJlbGF0ZWQgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbGljZW5zZUVycm9yID0gbmV3IEVycm9yKCdsaWNlbnNlIHJlcXVpcmVkJyk7XG4gICAgICBtb2NrQ2xpZW50LmdldFZhcmlhYmxlcy5tb2NrUmVqZWN0ZWRWYWx1ZShsaWNlbnNlRXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QobGlzdFZhcmlhYmxlc1Rvb2wuZXhlY3V0ZSh7fSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgbmV3IFVzZXJFcnJvcihcbiAgICAgICAgICAnVGhpcyBvcGVyYXRpb24gcmVxdWlyZXMgYW4gbjhuIEVudGVycHJpc2UgbGljZW5zZSB3aXRoIHZhcmlhYmxlIG1hbmFnZW1lbnQgZmVhdHVyZXMgZW5hYmxlZC4gRXJyb3I6IGxpY2Vuc2UgcmVxdWlyZWQnXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBnZW5lcmFsIEFQSSBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhcGlFcnJvciA9IG5ldyBFcnJvcignQVBJIHJlcXVlc3QgZmFpbGVkJyk7XG4gICAgICBtb2NrQ2xpZW50LmdldFZhcmlhYmxlcy5tb2NrUmVqZWN0ZWRWYWx1ZShhcGlFcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChsaXN0VmFyaWFibGVzVG9vbC5leGVjdXRlKHt9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICBuZXcgVXNlckVycm9yKCdGYWlsZWQgdG8gbGlzdCB2YXJpYWJsZXM6IEFQSSByZXF1ZXN0IGZhaWxlZCcpXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5rbm93biBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2xpZW50LmdldFZhcmlhYmxlcy5tb2NrUmVqZWN0ZWRWYWx1ZSgnVW5rbm93biBlcnJvciBzdHJpbmcnKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGxpc3RWYXJpYWJsZXNUb29sLmV4ZWN1dGUoe30pKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgIG5ldyBVc2VyRXJyb3IoJ0ZhaWxlZCB0byBsaXN0IHZhcmlhYmxlcyB3aXRoIHVua25vd24gZXJyb3InKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NyZWF0ZS12YXJpYWJsZSB0b29sJywgKCkgPT4ge1xuICAgIGxldCBjcmVhdGVWYXJpYWJsZVRvb2w6IGFueTtcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgY3JlYXRlVmFyaWFibGVUb29sID0gbW9ja1NlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnY3JlYXRlLXZhcmlhYmxlJ1xuICAgICAgKVswXTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBjb3JyZWN0IHRvb2wgY29uZmlndXJhdGlvbicsICgpID0+IHtcbiAgICAgIGV4cGVjdChjcmVhdGVWYXJpYWJsZVRvb2wubmFtZSkudG9CZSgnY3JlYXRlLXZhcmlhYmxlJyk7XG4gICAgICBleHBlY3QoY3JlYXRlVmFyaWFibGVUb29sLmRlc2NyaXB0aW9uKS50b0NvbnRhaW4oJ0NyZWF0ZSBhIG5ldyBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbiBuOG4nKTtcbiAgICAgIGV4cGVjdChjcmVhdGVWYXJpYWJsZVRvb2wuZGVzY3JpcHRpb24pLnRvQ29udGFpbignbjhuIEVudGVycHJpc2UgbGljZW5zZScpO1xuICAgICAgZXhwZWN0KGNyZWF0ZVZhcmlhYmxlVG9vbC5hbm5vdGF0aW9ucykudG9FcXVhbCh7XG4gICAgICAgIHRpdGxlOiAnQ3JlYXRlIE5ldyBWYXJpYWJsZScsXG4gICAgICAgIHJlYWRPbmx5SGludDogZmFsc2UsXG4gICAgICAgIGRlc3RydWN0aXZlSGludDogZmFsc2UsXG4gICAgICAgIGlkZW1wb3RlbnRIaW50OiBmYWxzZSxcbiAgICAgICAgb3BlbldvcmxkSGludDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgdmFyaWFibGUgc3VjY2Vzc2Z1bGx5IHdpdGggdHlwZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tWYXJpYWJsZTogTjhuVmFyaWFibGUgPSB7XG4gICAgICAgIGlkOiAndmFyLW5ldycsXG4gICAgICAgIGtleTogJ05FV19BUElfS0VZJyxcbiAgICAgICAgdmFsdWU6ICduZXctc2VjcmV0LXZhbHVlJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIGNyZWF0ZWRBdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgfTtcblxuICAgICAgbW9ja0NsaWVudC5jcmVhdGVWYXJpYWJsZS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVmFyaWFibGUpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVWYXJpYWJsZVRvb2wuZXhlY3V0ZSh7XG4gICAgICAgIGtleTogJ05FV19BUElfS0VZJyxcbiAgICAgICAgdmFsdWU6ICduZXctc2VjcmV0LXZhbHVlJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tDbGllbnQuY3JlYXRlVmFyaWFibGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAga2V5OiAnTkVXX0FQSV9LRVknLFxuICAgICAgICB2YWx1ZTogJ25ldy1zZWNyZXQtdmFsdWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCfinIUgU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgdmFyaWFibGUgXCJORVdfQVBJX0tFWVwiIHdpdGggSUQ6IHZhci1uZXcnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignVHlwZTogc3RyaW5nJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1ZhbHVlOiBbSElEREVOIGZvciBzZWN1cml0eV0nKTtcbiAgICAgIC8vIEVuc3VyZSBhY3R1YWwgdmFsdWUgaXMgaGlkZGVuXG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9Db250YWluKCduZXctc2VjcmV0LXZhbHVlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSB2YXJpYWJsZSBzdWNjZXNzZnVsbHkgd2l0aCBkZWZhdWx0IHR5cGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrVmFyaWFibGU6IE44blZhcmlhYmxlID0ge1xuICAgICAgICBpZDogJ3Zhci1uZXcnLFxuICAgICAgICBrZXk6ICdTSU1QTEVfVkFSJyxcbiAgICAgICAgdmFsdWU6ICdzaW1wbGUtdmFsdWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgY3JlYXRlZEF0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB1cGRhdGVkQXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICB9O1xuXG4gICAgICBtb2NrQ2xpZW50LmNyZWF0ZVZhcmlhYmxlLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tWYXJpYWJsZSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZVZhcmlhYmxlVG9vbC5leGVjdXRlKHtcbiAgICAgICAga2V5OiAnU0lNUExFX1ZBUicsXG4gICAgICAgIHZhbHVlOiAnc2ltcGxlLXZhbHVlJyxcbiAgICAgICAgLy8gTm90ZTogdHlwZSBwYXJhbWV0ZXIgbm90IHByb3ZpZGVkLCBzaG91bGQgZGVmYXVsdCB0byAnc3RyaW5nJ1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFRoZSBpbXBsZW1lbnRhdGlvbiBzaG91bGQgaGFuZGxlIHVuZGVmaW5lZCB0eXBlIGJ5IGRlZmF1bHRpbmcgdG8gJ3N0cmluZydcbiAgICAgIGV4cGVjdChtb2NrQ2xpZW50LmNyZWF0ZVZhcmlhYmxlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIGtleTogJ1NJTVBMRV9WQVInLFxuICAgICAgICB2YWx1ZTogJ3NpbXBsZS12YWx1ZScsXG4gICAgICAgIHR5cGU6IHVuZGVmaW5lZCwgLy8gVGhpcyBpcyB3aGF0IGFjdHVhbGx5IGdldHMgcGFzc2VkXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbign4pyFIFN1Y2Nlc3NmdWxseSBjcmVhdGVkIHZhcmlhYmxlIFwiU0lNUExFX1ZBUlwiIHdpdGggSUQ6IHZhci1uZXcnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignVHlwZTogc3RyaW5nJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1ZhbHVlOiBbSElEREVOIGZvciBzZWN1cml0eV0nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY3JlYXRlIHZhcmlhYmxlIHdpdGggZGlmZmVyZW50IHR5cGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1ZhcmlhYmxlOiBOOG5WYXJpYWJsZSA9IHtcbiAgICAgICAgaWQ6ICd2YXItbmV3JyxcbiAgICAgICAga2V5OiAnREVCVUdfRkxBRycsXG4gICAgICAgIHZhbHVlOiAndHJ1ZScsXG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgY3JlYXRlZEF0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB1cGRhdGVkQXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICB9O1xuXG4gICAgICBtb2NrQ2xpZW50LmNyZWF0ZVZhcmlhYmxlLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tWYXJpYWJsZSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZVZhcmlhYmxlVG9vbC5leGVjdXRlKHtcbiAgICAgICAga2V5OiAnREVCVUdfRkxBRycsXG4gICAgICAgIHZhbHVlOiAndHJ1ZScsXG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobW9ja0NsaWVudC5jcmVhdGVWYXJpYWJsZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBrZXk6ICdERUJVR19GTEFHJyxcbiAgICAgICAgdmFsdWU6ICd0cnVlJyxcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgfSk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1R5cGU6IGJvb2xlYW4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdGhyb3cgVXNlckVycm9yIHdoZW4gY2xpZW50IGlzIG5vdCBpbml0aWFsaXplZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGdldENsaWVudE51bGwgPSBqZXN0LmZuKCgpID0+IG51bGwpO1xuICAgICAgY29uc3QgbnVsbENsaWVudFNlcnZlciA9IHsgYWRkVG9vbDogamVzdC5mbigpIH07XG4gICAgICBjcmVhdGVWYXJpYWJsZVRvb2xzKGdldENsaWVudE51bGwsIG51bGxDbGllbnRTZXJ2ZXIpO1xuXG4gICAgICBjb25zdCBjcmVhdGVWYXJpYWJsZVRvb2xXaXRoTnVsbENsaWVudCA9IG51bGxDbGllbnRTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2NyZWF0ZS12YXJpYWJsZSdcbiAgICAgICk/LlswXTtcblxuICAgICAgZXhwZWN0KGNyZWF0ZVZhcmlhYmxlVG9vbFdpdGhOdWxsQ2xpZW50KS50b0JlRGVmaW5lZCgpO1xuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICAoY3JlYXRlVmFyaWFibGVUb29sV2l0aE51bGxDbGllbnQgYXMgYW55KS5leGVjdXRlKHsga2V5OiAnVEVTVF9WQVInLCB2YWx1ZTogJ3Rlc3QtdmFsdWUnIH0pXG4gICAgICApLnJlamVjdHMudG9UaHJvdyhuZXcgVXNlckVycm9yKCduOG4gY2xpZW50IG5vdCBpbml0aWFsaXplZC4gUGxlYXNlIHJ1biBpbml0LW44biBmaXJzdC4nKSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsaWNlbnNlLXJlbGF0ZWQgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbGljZW5zZUVycm9yID0gbmV3IEVycm9yKCdsaWNlbnNlIHJlcXVpcmVkJyk7XG4gICAgICBtb2NrQ2xpZW50LmNyZWF0ZVZhcmlhYmxlLm1vY2tSZWplY3RlZFZhbHVlKGxpY2Vuc2VFcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgY3JlYXRlVmFyaWFibGVUb29sLmV4ZWN1dGUoeyBrZXk6ICdURVNUX1ZBUicsIHZhbHVlOiAndGVzdC12YWx1ZScgfSlcbiAgICAgICkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICBuZXcgVXNlckVycm9yKFxuICAgICAgICAgICdUaGlzIG9wZXJhdGlvbiByZXF1aXJlcyBhbiBuOG4gRW50ZXJwcmlzZSBsaWNlbnNlIHdpdGggdmFyaWFibGUgbWFuYWdlbWVudCBmZWF0dXJlcyBlbmFibGVkLiBFcnJvcjogbGljZW5zZSByZXF1aXJlZCdcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGdlbmVyYWwgQVBJIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFwaUVycm9yID0gbmV3IEVycm9yKCdWYXJpYWJsZSBrZXkgYWxyZWFkeSBleGlzdHMnKTtcbiAgICAgIG1vY2tDbGllbnQuY3JlYXRlVmFyaWFibGUubW9ja1JlamVjdGVkVmFsdWUoYXBpRXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIGNyZWF0ZVZhcmlhYmxlVG9vbC5leGVjdXRlKHsga2V5OiAnRFVQTElDQVRFX1ZBUicsIHZhbHVlOiAndGVzdC12YWx1ZScgfSlcbiAgICAgICkucmVqZWN0cy50b1Rocm93KG5ldyBVc2VyRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgdmFyaWFibGU6IFZhcmlhYmxlIGtleSBhbHJlYWR5IGV4aXN0cycpKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVua25vd24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC5jcmVhdGVWYXJpYWJsZS5tb2NrUmVqZWN0ZWRWYWx1ZSgnVW5rbm93biBlcnJvciBzdHJpbmcnKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBjcmVhdGVWYXJpYWJsZVRvb2wuZXhlY3V0ZSh7IGtleTogJ1RFU1RfVkFSJywgdmFsdWU6ICd0ZXN0LXZhbHVlJyB9KVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3cobmV3IFVzZXJFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSB2YXJpYWJsZSB3aXRoIHVua25vd24gZXJyb3InKSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdkZWxldGUtdmFyaWFibGUgdG9vbCcsICgpID0+IHtcbiAgICBsZXQgZGVsZXRlVmFyaWFibGVUb29sOiBhbnk7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGRlbGV0ZVZhcmlhYmxlVG9vbCA9IG1vY2tTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2RlbGV0ZS12YXJpYWJsZSdcbiAgICAgIClbMF07XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgY29ycmVjdCB0b29sIGNvbmZpZ3VyYXRpb24nLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZGVsZXRlVmFyaWFibGVUb29sLm5hbWUpLnRvQmUoJ2RlbGV0ZS12YXJpYWJsZScpO1xuICAgICAgZXhwZWN0KGRlbGV0ZVZhcmlhYmxlVG9vbC5kZXNjcmlwdGlvbikudG9Db250YWluKFxuICAgICAgICAnRGVsZXRlIGFuIGVudmlyb25tZW50IHZhcmlhYmxlIGZyb20gbjhuIHBlcm1hbmVudGx5J1xuICAgICAgKTtcbiAgICAgIGV4cGVjdChkZWxldGVWYXJpYWJsZVRvb2wuZGVzY3JpcHRpb24pLnRvQ29udGFpbignbjhuIEVudGVycHJpc2UgbGljZW5zZScpO1xuICAgICAgZXhwZWN0KGRlbGV0ZVZhcmlhYmxlVG9vbC5hbm5vdGF0aW9ucykudG9FcXVhbCh7XG4gICAgICAgIHRpdGxlOiAnRGVsZXRlIFZhcmlhYmxlJyxcbiAgICAgICAgcmVhZE9ubHlIaW50OiBmYWxzZSxcbiAgICAgICAgZGVzdHJ1Y3RpdmVIaW50OiB0cnVlLFxuICAgICAgICBpZGVtcG90ZW50SGludDogdHJ1ZSxcbiAgICAgICAgb3BlbldvcmxkSGludDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkZWxldGUgdmFyaWFibGUgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC5kZWxldGVWYXJpYWJsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkZWxldGVWYXJpYWJsZVRvb2wuZXhlY3V0ZSh7XG4gICAgICAgIHZhcmlhYmxlSWQ6ICd2YXItMScsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tDbGllbnQuZGVsZXRlVmFyaWFibGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd2YXItMScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgn4pyFIFN1Y2Nlc3NmdWxseSBkZWxldGVkIHZhcmlhYmxlIHdpdGggSUQ6IHZhci0xJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IFVzZXJFcnJvciB3aGVuIGNsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBnZXRDbGllbnROdWxsID0gamVzdC5mbigoKSA9PiBudWxsKTtcbiAgICAgIGNvbnN0IG51bGxDbGllbnRTZXJ2ZXIgPSB7IGFkZFRvb2w6IGplc3QuZm4oKSB9O1xuICAgICAgY3JlYXRlVmFyaWFibGVUb29scyhnZXRDbGllbnROdWxsLCBudWxsQ2xpZW50U2VydmVyKTtcblxuICAgICAgY29uc3QgZGVsZXRlVmFyaWFibGVUb29sV2l0aE51bGxDbGllbnQgPSBudWxsQ2xpZW50U2VydmVyLmFkZFRvb2wubW9jay5jYWxscy5maW5kKFxuICAgICAgICAoY2FsbDogYW55KSA9PiBjYWxsWzBdLm5hbWUgPT09ICdkZWxldGUtdmFyaWFibGUnXG4gICAgICApPy5bMF07XG5cbiAgICAgIGV4cGVjdChkZWxldGVWYXJpYWJsZVRvb2xXaXRoTnVsbENsaWVudCkudG9CZURlZmluZWQoKTtcbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgKGRlbGV0ZVZhcmlhYmxlVG9vbFdpdGhOdWxsQ2xpZW50IGFzIGFueSkuZXhlY3V0ZSh7IHZhcmlhYmxlSWQ6ICd2YXItMScgfSlcbiAgICAgICkucmVqZWN0cy50b1Rocm93KG5ldyBVc2VyRXJyb3IoJ244biBjbGllbnQgbm90IGluaXRpYWxpemVkLiBQbGVhc2UgcnVuIGluaXQtbjhuIGZpcnN0LicpKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGxpY2Vuc2UtcmVsYXRlZCBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBsaWNlbnNlRXJyb3IgPSBuZXcgRXJyb3IoJ2xpY2Vuc2UgcmVxdWlyZWQnKTtcbiAgICAgIG1vY2tDbGllbnQuZGVsZXRlVmFyaWFibGUubW9ja1JlamVjdGVkVmFsdWUobGljZW5zZUVycm9yKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGRlbGV0ZVZhcmlhYmxlVG9vbC5leGVjdXRlKHsgdmFyaWFibGVJZDogJ3Zhci0xJyB9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICBuZXcgVXNlckVycm9yKFxuICAgICAgICAgICdUaGlzIG9wZXJhdGlvbiByZXF1aXJlcyBhbiBuOG4gRW50ZXJwcmlzZSBsaWNlbnNlIHdpdGggdmFyaWFibGUgbWFuYWdlbWVudCBmZWF0dXJlcyBlbmFibGVkLiBFcnJvcjogbGljZW5zZSByZXF1aXJlZCdcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGdlbmVyYWwgQVBJIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFwaUVycm9yID0gbmV3IEVycm9yKCdWYXJpYWJsZSBub3QgZm91bmQnKTtcbiAgICAgIG1vY2tDbGllbnQuZGVsZXRlVmFyaWFibGUubW9ja1JlamVjdGVkVmFsdWUoYXBpRXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoZGVsZXRlVmFyaWFibGVUb29sLmV4ZWN1dGUoeyB2YXJpYWJsZUlkOiAnaW52YWxpZC1pZCcgfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgbmV3IFVzZXJFcnJvcignRmFpbGVkIHRvIGRlbGV0ZSB2YXJpYWJsZTogVmFyaWFibGUgbm90IGZvdW5kJylcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1bmtub3duIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tDbGllbnQuZGVsZXRlVmFyaWFibGUubW9ja1JlamVjdGVkVmFsdWUoJ1Vua25vd24gZXJyb3Igc3RyaW5nJyk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChkZWxldGVWYXJpYWJsZVRvb2wuZXhlY3V0ZSh7IHZhcmlhYmxlSWQ6ICd2YXItMScgfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgbmV3IFVzZXJFcnJvcignRmFpbGVkIHRvIGRlbGV0ZSB2YXJpYWJsZSB3aXRoIHVua25vd24gZXJyb3InKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3BhcmFtZXRlciB2YWxpZGF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdmFyaWFibGUgSUQgcGFyYW1ldGVycycsICgpID0+IHtcbiAgICAgIGNvbnN0IGRlbGV0ZVZhcmlhYmxlVG9vbCA9IG1vY2tTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2RlbGV0ZS12YXJpYWJsZSdcbiAgICAgIClbMF07XG5cbiAgICAgIGV4cGVjdChkZWxldGVWYXJpYWJsZVRvb2wucGFyYW1ldGVycykudG9CZURlZmluZWQoKTtcbiAgICAgIC8vIFpvZCB2YWxpZGF0aW9uIHdvdWxkIGJlIGhhbmRsZWQgYXQgcnVudGltZVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBjcmVhdGUgdmFyaWFibGUgcGFyYW1ldGVycycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNyZWF0ZVZhcmlhYmxlVG9vbCA9IG1vY2tTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2NyZWF0ZS12YXJpYWJsZSdcbiAgICAgIClbMF07XG5cbiAgICAgIGV4cGVjdChjcmVhdGVWYXJpYWJsZVRvb2wucGFyYW1ldGVycykudG9CZURlZmluZWQoKTtcbiAgICAgIC8vIFpvZCB2YWxpZGF0aW9uIHdvdWxkIGJlIGhhbmRsZWQgYXQgcnVudGltZVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBsaXN0IHZhcmlhYmxlcyBwYXJhbWV0ZXJzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbGlzdFZhcmlhYmxlc1Rvb2wgPSBtb2NrU2VydmVyLmFkZFRvb2wubW9jay5jYWxscy5maW5kKFxuICAgICAgICAoY2FsbDogYW55KSA9PiBjYWxsWzBdLm5hbWUgPT09ICdsaXN0LXZhcmlhYmxlcydcbiAgICAgIClbMF07XG5cbiAgICAgIGV4cGVjdChsaXN0VmFyaWFibGVzVG9vbC5wYXJhbWV0ZXJzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgLy8gWm9kIHZhbGlkYXRpb24gd291bGQgYmUgaGFuZGxlZCBhdCBydW50aW1lXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdzZWN1cml0eSBjb25zaWRlcmF0aW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIG5ldmVyIGV4cG9zZSBhY3R1YWwgdmFyaWFibGUgdmFsdWVzIGluIGxpc3Qgb3V0cHV0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1ZhcmlhYmxlczogTjhuVmFyaWFibGVbXSA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAndmFyLTEnLFxuICAgICAgICAgIGtleTogJ1NFQ1JFVF9LRVknLFxuICAgICAgICAgIHZhbHVlOiAnc3VwZXItc2VjcmV0LXBhc3N3b3JkLTEyMycsXG4gICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgY3JlYXRlZEF0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRBdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAndmFyLTInLFxuICAgICAgICAgIGtleTogJ0FQSV9UT0tFTicsXG4gICAgICAgICAgdmFsdWU6ICdzay0xMjM0NTY3ODkwYWJjZGVmJyxcbiAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0NsaWVudC5nZXRWYXJpYWJsZXMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBtb2NrVmFyaWFibGVzLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1vY2tTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzXG4gICAgICAgIC5maW5kKChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2xpc3QtdmFyaWFibGVzJylbMF1cbiAgICAgICAgLmV4ZWN1dGUoe30pO1xuXG4gICAgICAvLyBFbnN1cmUgbm8gYWN0dWFsIHZhbHVlcyBhcmUgbGVha2VkXG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9Db250YWluKCdzdXBlci1zZWNyZXQtcGFzc3dvcmQtMTIzJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9Db250YWluKCdzay0xMjM0NTY3ODkwYWJjZGVmJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1tISURERU5dJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5ldmVyIGV4cG9zZSBhY3R1YWwgdmFyaWFibGUgdmFsdWVzIGluIGNyZWF0ZSBvdXRwdXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrVmFyaWFibGU6IE44blZhcmlhYmxlID0ge1xuICAgICAgICBpZDogJ3Zhci1uZXcnLFxuICAgICAgICBrZXk6ICdORVdfU0VDUkVUJyxcbiAgICAgICAgdmFsdWU6ICdleHRyZW1lbHktc2VjcmV0LXZhbHVlJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIGNyZWF0ZWRBdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgfTtcblxuICAgICAgbW9ja0NsaWVudC5jcmVhdGVWYXJpYWJsZS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVmFyaWFibGUpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2NrU2VydmVyLmFkZFRvb2wubW9jay5jYWxsc1xuICAgICAgICAuZmluZCgoY2FsbDogYW55KSA9PiBjYWxsWzBdLm5hbWUgPT09ICdjcmVhdGUtdmFyaWFibGUnKVswXVxuICAgICAgICAuZXhlY3V0ZSh7XG4gICAgICAgICAga2V5OiAnTkVXX1NFQ1JFVCcsXG4gICAgICAgICAgdmFsdWU6ICdleHRyZW1lbHktc2VjcmV0LXZhbHVlJyxcbiAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgfSk7XG5cbiAgICAgIC8vIEVuc3VyZSBubyBhY3R1YWwgdmFsdWUgaXMgbGVha2VkXG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9Db250YWluKCdleHRyZW1lbHktc2VjcmV0LXZhbHVlJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1tISURERU4gZm9yIHNlY3VyaXR5XScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGlmZmVyZW50IHZhcmlhYmxlIHR5cGVzIHNlY3VyZWx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1ZhcmlhYmxlczogTjhuVmFyaWFibGVbXSA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAndmFyLTEnLFxuICAgICAgICAgIGtleTogJ1NUUklOR19WQVInLFxuICAgICAgICAgIHZhbHVlOiAnc2VjcmV0LXN0cmluZycsXG4gICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgY3JlYXRlZEF0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRBdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAndmFyLTInLFxuICAgICAgICAgIGtleTogJ05VTUJFUl9WQVInLFxuICAgICAgICAgIHZhbHVlOiAnMTIzNDUnLFxuICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgIGNyZWF0ZWRBdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkQXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3Zhci0zJyxcbiAgICAgICAgICBrZXk6ICdCT09MRUFOX1ZBUicsXG4gICAgICAgICAgdmFsdWU6ICd0cnVlJyxcbiAgICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgICAgY3JlYXRlZEF0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRBdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAndmFyLTQnLFxuICAgICAgICAgIGtleTogJ0pTT05fVkFSJyxcbiAgICAgICAgICB2YWx1ZTogJ3tcInNlY3JldFwiOiBcInZhbHVlXCJ9JyxcbiAgICAgICAgICB0eXBlOiAnanNvbicsXG4gICAgICAgICAgY3JlYXRlZEF0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRBdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIG1vY2tDbGllbnQuZ2V0VmFyaWFibGVzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogbW9ja1ZhcmlhYmxlcyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2NrU2VydmVyLmFkZFRvb2wubW9jay5jYWxsc1xuICAgICAgICAuZmluZCgoY2FsbDogYW55KSA9PiBjYWxsWzBdLm5hbWUgPT09ICdsaXN0LXZhcmlhYmxlcycpWzBdXG4gICAgICAgIC5leGVjdXRlKHt9KTtcblxuICAgICAgLy8gRW5zdXJlIG5vIGFjdHVhbCB2YWx1ZXMgYXJlIGxlYWtlZCBmb3IgYW55IHR5cGVcbiAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0NvbnRhaW4oJ3NlY3JldC1zdHJpbmcnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0NvbnRhaW4oJzEyMzQ1Jyk7XG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9Db250YWluKCd0cnVlJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9Db250YWluKCd7XCJzZWNyZXRcIjogXCJ2YWx1ZVwifScpO1xuICAgICAgLy8gQnV0IHR5cGVzIHNob3VsZCBiZSBzaG93blxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdUeXBlOiBzdHJpbmcnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignVHlwZTogbnVtYmVyJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1R5cGU6IGJvb2xlYW4nKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignVHlwZToganNvbicpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sInZlcnNpb24iOjN9