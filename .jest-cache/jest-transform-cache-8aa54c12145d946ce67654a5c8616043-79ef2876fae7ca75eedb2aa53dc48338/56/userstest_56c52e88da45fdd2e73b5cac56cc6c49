e5a8a6d835ec2698e605cd0e33b56b62
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("@jest/globals");
const users_1 = require("../../../src/tools/users");
const fastmcp_1 = require("fastmcp");
(0, globals_1.describe)('User Tools', () => {
    let mockClient;
    let mockServer;
    let getClient;
    (0, globals_1.beforeEach)(() => {
        mockClient = global.testUtils.createMockClient();
        getClient = globals_1.jest.fn(() => mockClient);
        mockServer = {
            addTool: globals_1.jest.fn(),
        };
        // Register user tools
        (0, users_1.createUserTools)(getClient, mockServer);
    });
    (0, globals_1.it)('should register all user tools', () => {
        (0, globals_1.expect)(mockServer.addTool).toHaveBeenCalledTimes(5);
        const toolNames = mockServer.addTool.mock.calls.map((call) => call[0].name);
        (0, globals_1.expect)(toolNames).toContain('list-users');
        (0, globals_1.expect)(toolNames).toContain('get-user');
        (0, globals_1.expect)(toolNames).toContain('create-user');
        (0, globals_1.expect)(toolNames).toContain('update-user');
        (0, globals_1.expect)(toolNames).toContain('delete-user');
    });
    (0, globals_1.describe)('list-users tool', () => {
        let listUsersTool;
        (0, globals_1.beforeEach)(() => {
            listUsersTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'list-users')[0];
        });
        (0, globals_1.it)('should have correct tool configuration', () => {
            (0, globals_1.expect)(listUsersTool.name).toBe('list-users');
            (0, globals_1.expect)(listUsersTool.description).toContain('List all users in the n8n instance');
            (0, globals_1.expect)(listUsersTool.annotations).toEqual({
                title: 'List n8n Users',
                readOnlyHint: true,
                destructiveHint: false,
                idempotentHint: true,
                openWorldHint: true,
            });
        });
        (0, globals_1.it)('should list users successfully with full data', async () => {
            const mockUsers = [
                {
                    id: 'user-1',
                    email: 'john.doe@example.com',
                    firstName: 'John',
                    lastName: 'Doe',
                    role: 'admin',
                    disabled: false,
                    createdAt: '2023-01-01T00:00:00.000Z',
                    lastSeenAt: '2023-01-15T00:00:00.000Z',
                },
                {
                    id: 'user-2',
                    email: 'jane.smith@example.com',
                    firstName: 'Jane',
                    lastName: 'Smith',
                    role: 'member',
                    disabled: true,
                    createdAt: '2023-01-02T00:00:00.000Z',
                },
            ];
            mockClient.getUsers.mockResolvedValue({
                data: mockUsers,
                nextCursor: 'next-cursor',
            });
            const result = await listUsersTool.execute({ limit: 10 });
            (0, globals_1.expect)(mockClient.getUsers).toHaveBeenCalledWith({ limit: 10 });
            (0, globals_1.expect)(result).toContain('Found 2 user(s)');
            (0, globals_1.expect)(result).toContain('**John Doe**');
            (0, globals_1.expect)(result).toContain('ID: user-1');
            (0, globals_1.expect)(result).toContain('Email: john.doe@example.com');
            (0, globals_1.expect)(result).toContain('Role: admin');
            (0, globals_1.expect)(result).toContain('Status: ðŸŸ¢ Active');
            // Use more flexible date matching to handle timezone differences
            (0, globals_1.expect)(result).toMatch(/Created: (12\/31\/2022|1\/1\/2023)/);
            (0, globals_1.expect)(result).toMatch(/Last Seen: (1\/14\/2023|1\/15\/2023)/);
            (0, globals_1.expect)(result).toContain('**Jane Smith**');
            (0, globals_1.expect)(result).toContain('ID: user-2');
            (0, globals_1.expect)(result).toContain('Email: jane.smith@example.com');
            (0, globals_1.expect)(result).toContain('Role: member');
            (0, globals_1.expect)(result).toContain('Status: ðŸ”´ Disabled');
            (0, globals_1.expect)(result).toContain('Use cursor "next-cursor" to get the next page');
        });
        (0, globals_1.it)('should list users with minimal data', async () => {
            const mockUsers = [
                {
                    id: 'user-1',
                    email: 'simple@example.com',
                    firstName: 'Simple',
                    lastName: 'User',
                    role: 'member',
                    disabled: false,
                },
            ];
            mockClient.getUsers.mockResolvedValue({
                data: mockUsers,
            });
            const result = await listUsersTool.execute({});
            (0, globals_1.expect)(mockClient.getUsers).toHaveBeenCalledWith({});
            (0, globals_1.expect)(result).toContain('Found 1 user(s)');
            (0, globals_1.expect)(result).toContain('**Simple User**');
            (0, globals_1.expect)(result).toContain('ID: user-1');
            (0, globals_1.expect)(result).toContain('Email: simple@example.com');
            (0, globals_1.expect)(result).toContain('Role: member');
            (0, globals_1.expect)(result).toContain('Status: ðŸŸ¢ Active');
            (0, globals_1.expect)(result).not.toContain('Created:');
            (0, globals_1.expect)(result).not.toContain('Last Seen:');
            (0, globals_1.expect)(result).not.toContain('cursor');
        });
        (0, globals_1.it)('should handle empty user list', async () => {
            mockClient.getUsers.mockResolvedValue({
                data: [],
            });
            const result = await listUsersTool.execute({});
            (0, globals_1.expect)(result).toBe('No users found in the n8n instance.');
        });
        (0, globals_1.it)('should handle pagination parameters', async () => {
            mockClient.getUsers.mockResolvedValue({ data: [] });
            await listUsersTool.execute({ limit: 50, cursor: 'test-cursor' });
            (0, globals_1.expect)(mockClient.getUsers).toHaveBeenCalledWith({
                limit: 50,
                cursor: 'test-cursor',
            });
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const getClientNull = globals_1.jest.fn(() => null);
            const nullClientServer = { addTool: globals_1.jest.fn() };
            (0, users_1.createUserTools)(getClientNull, nullClientServer);
            const listUsersToolWithNullClient = nullClientServer.addTool.mock.calls.find((call) => call[0].name === 'list-users')?.[0];
            (0, globals_1.expect)(listUsersToolWithNullClient).toBeDefined();
            await (0, globals_1.expect)(listUsersToolWithNullClient.execute({})).rejects.toThrow(new fastmcp_1.UserError('n8n client not initialized. Please run init-n8n first.'));
        });
        (0, globals_1.it)('should handle API errors', async () => {
            const apiError = new Error('API request failed');
            mockClient.getUsers.mockRejectedValue(apiError);
            await (0, globals_1.expect)(listUsersTool.execute({})).rejects.toThrow(new fastmcp_1.UserError('Failed to list users: API request failed'));
        });
        (0, globals_1.it)('should handle unknown errors', async () => {
            mockClient.getUsers.mockRejectedValue('Unknown error string');
            await (0, globals_1.expect)(listUsersTool.execute({})).rejects.toThrow(new fastmcp_1.UserError('Failed to list users with unknown error'));
        });
    });
    (0, globals_1.describe)('get-user tool', () => {
        let getUserTool;
        (0, globals_1.beforeEach)(() => {
            getUserTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'get-user')[0];
        });
        (0, globals_1.it)('should have correct tool configuration', () => {
            (0, globals_1.expect)(getUserTool.name).toBe('get-user');
            (0, globals_1.expect)(getUserTool.description).toContain('Get detailed information about a specific user');
            (0, globals_1.expect)(getUserTool.annotations).toEqual({
                title: 'Get User Details',
                readOnlyHint: true,
                destructiveHint: false,
                idempotentHint: true,
                openWorldHint: true,
            });
        });
        (0, globals_1.it)('should get user successfully with full data', async () => {
            const mockUser = {
                id: 'user-1',
                email: 'john.doe@example.com',
                firstName: 'John',
                lastName: 'Doe',
                role: 'admin',
                disabled: false,
                createdAt: '2023-01-01T00:00:00.000Z',
                updatedAt: '2023-01-02T00:00:00.000Z',
                lastSeenAt: '2023-01-15T00:00:00.000Z',
            };
            mockClient.getUser.mockResolvedValue(mockUser);
            const result = await getUserTool.execute({ userId: 'user-1' });
            (0, globals_1.expect)(mockClient.getUser).toHaveBeenCalledWith('user-1');
            (0, globals_1.expect)(result).toContain('# User: John Doe');
            (0, globals_1.expect)(result).toContain('**ID:** user-1');
            (0, globals_1.expect)(result).toContain('**Email:** john.doe@example.com');
            (0, globals_1.expect)(result).toContain('**Role:** admin');
            (0, globals_1.expect)(result).toContain('**Status:** ðŸŸ¢ Active');
            (0, globals_1.expect)(result).toContain('**Created:**');
            (0, globals_1.expect)(result).toContain('**Updated:**');
            (0, globals_1.expect)(result).toContain('**Last Seen:**');
        });
        (0, globals_1.it)('should get user with minimal data', async () => {
            const mockUser = {
                id: 'user-1',
                email: 'simple@example.com',
                firstName: 'Simple',
                lastName: 'User',
                role: 'member',
                disabled: true,
            };
            mockClient.getUser.mockResolvedValue(mockUser);
            const result = await getUserTool.execute({ userId: 'user-1' });
            (0, globals_1.expect)(result).toContain('# User: Simple User');
            (0, globals_1.expect)(result).toContain('**ID:** user-1');
            (0, globals_1.expect)(result).toContain('**Email:** simple@example.com');
            (0, globals_1.expect)(result).toContain('**Role:** member');
            (0, globals_1.expect)(result).toContain('**Status:** ðŸ”´ Disabled');
            (0, globals_1.expect)(result).not.toContain('**Created:**');
            (0, globals_1.expect)(result).not.toContain('**Updated:**');
            (0, globals_1.expect)(result).not.toContain('**Last Seen:**');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const getClientNull = globals_1.jest.fn(() => null);
            const nullClientServer = { addTool: globals_1.jest.fn() };
            (0, users_1.createUserTools)(getClientNull, nullClientServer);
            const getUserToolWithNullClient = nullClientServer.addTool.mock.calls.find((call) => call[0].name === 'get-user')?.[0];
            (0, globals_1.expect)(getUserToolWithNullClient).toBeDefined();
            await (0, globals_1.expect)(getUserToolWithNullClient.execute({ userId: 'user-1' })).rejects.toThrow(new fastmcp_1.UserError('n8n client not initialized. Please run init-n8n first.'));
        });
        (0, globals_1.it)('should handle API errors', async () => {
            const apiError = new Error('User not found');
            mockClient.getUser.mockRejectedValue(apiError);
            await (0, globals_1.expect)(getUserTool.execute({ userId: 'invalid-id' })).rejects.toThrow(new fastmcp_1.UserError('Failed to get user: User not found'));
        });
        (0, globals_1.it)('should handle unknown errors', async () => {
            mockClient.getUser.mockRejectedValue('Unknown error string');
            await (0, globals_1.expect)(getUserTool.execute({ userId: 'user-1' })).rejects.toThrow(new fastmcp_1.UserError('Failed to get user with unknown error'));
        });
    });
    (0, globals_1.describe)('create-user tool', () => {
        let createUserTool;
        (0, globals_1.beforeEach)(() => {
            createUserTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'create-user')[0];
        });
        (0, globals_1.it)('should have correct tool configuration', () => {
            (0, globals_1.expect)(createUserTool.name).toBe('create-user');
            (0, globals_1.expect)(createUserTool.description).toContain('Create a new user in n8n');
            (0, globals_1.expect)(createUserTool.annotations).toEqual({
                title: 'Create New User',
                readOnlyHint: false,
                destructiveHint: false,
                idempotentHint: false,
                openWorldHint: true,
            });
        });
        (0, globals_1.it)('should create user successfully with all fields', async () => {
            const mockUser = {
                id: 'user-new',
                email: 'new.user@example.com',
                firstName: 'New',
                lastName: 'User',
                role: 'admin',
                disabled: false,
            };
            mockClient.createUser.mockResolvedValue(mockUser);
            const result = await createUserTool.execute({
                email: 'new.user@example.com',
                firstName: 'New',
                lastName: 'User',
                password: 'password123',
                role: 'admin',
            });
            (0, globals_1.expect)(mockClient.createUser).toHaveBeenCalledWith({
                email: 'new.user@example.com',
                firstName: 'New',
                lastName: 'User',
                password: 'password123',
                role: 'admin',
            });
            (0, globals_1.expect)(result).toContain('âœ… Successfully created user "New User" with ID: user-new');
            (0, globals_1.expect)(result).toContain('Email: new.user@example.com');
            (0, globals_1.expect)(result).toContain('Role: admin');
        });
        (0, globals_1.it)('should create user successfully with default role', async () => {
            const mockUser = {
                id: 'user-new',
                email: 'simple.user@example.com',
                firstName: 'Simple',
                lastName: 'User',
                role: 'member',
                disabled: false,
            };
            mockClient.createUser.mockResolvedValue(mockUser);
            const result = await createUserTool.execute({
                email: 'simple.user@example.com',
                firstName: 'Simple',
                lastName: 'User',
                password: 'password123',
            });
            // The implementation should handle undefined role by defaulting to 'member'
            (0, globals_1.expect)(mockClient.createUser).toHaveBeenCalledWith({
                email: 'simple.user@example.com',
                firstName: 'Simple',
                lastName: 'User',
                password: 'password123',
                role: undefined, // This is what actually gets passed
            });
            (0, globals_1.expect)(result).toContain('âœ… Successfully created user "Simple User" with ID: user-new');
            (0, globals_1.expect)(result).toContain('Email: simple.user@example.com');
            (0, globals_1.expect)(result).toContain('Role: member');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const getClientNull = globals_1.jest.fn(() => null);
            const nullClientServer = { addTool: globals_1.jest.fn() };
            (0, users_1.createUserTools)(getClientNull, nullClientServer);
            const createUserToolWithNullClient = nullClientServer.addTool.mock.calls.find((call) => call[0].name === 'create-user')?.[0];
            (0, globals_1.expect)(createUserToolWithNullClient).toBeDefined();
            await (0, globals_1.expect)(createUserToolWithNullClient.execute({
                email: 'test@example.com',
                firstName: 'Test',
                lastName: 'User',
                password: 'password123',
            })).rejects.toThrow(new fastmcp_1.UserError('n8n client not initialized. Please run init-n8n first.'));
        });
        (0, globals_1.it)('should handle API errors', async () => {
            const apiError = new Error('Email already exists');
            mockClient.createUser.mockRejectedValue(apiError);
            await (0, globals_1.expect)(createUserTool.execute({
                email: 'duplicate@example.com',
                firstName: 'Duplicate',
                lastName: 'User',
                password: 'password123',
            })).rejects.toThrow(new fastmcp_1.UserError('Failed to create user: Email already exists'));
        });
        (0, globals_1.it)('should handle unknown errors', async () => {
            mockClient.createUser.mockRejectedValue('Unknown error string');
            await (0, globals_1.expect)(createUserTool.execute({
                email: 'test@example.com',
                firstName: 'Test',
                lastName: 'User',
                password: 'password123',
            })).rejects.toThrow(new fastmcp_1.UserError('Failed to create user with unknown error'));
        });
    });
    (0, globals_1.describe)('update-user tool', () => {
        let updateUserTool;
        (0, globals_1.beforeEach)(() => {
            updateUserTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'update-user')[0];
        });
        (0, globals_1.it)('should have correct tool configuration', () => {
            (0, globals_1.expect)(updateUserTool.name).toBe('update-user');
            (0, globals_1.expect)(updateUserTool.description).toContain("Update a user's information");
            (0, globals_1.expect)(updateUserTool.annotations).toEqual({
                title: 'Update User',
                readOnlyHint: false,
                destructiveHint: false,
                idempotentHint: true,
                openWorldHint: true,
            });
        });
        (0, globals_1.it)('should update user successfully with all fields', async () => {
            const mockUser = {
                id: 'user-1',
                email: 'updated@example.com',
                firstName: 'Updated',
                lastName: 'User',
                role: 'admin',
                disabled: true,
            };
            mockClient.updateUser.mockResolvedValue(mockUser);
            const result = await updateUserTool.execute({
                userId: 'user-1',
                email: 'updated@example.com',
                firstName: 'Updated',
                lastName: 'User',
                role: 'admin',
                disabled: true,
            });
            (0, globals_1.expect)(mockClient.updateUser).toHaveBeenCalledWith('user-1', {
                email: 'updated@example.com',
                firstName: 'Updated',
                lastName: 'User',
                role: 'admin',
                disabled: true,
            });
            (0, globals_1.expect)(result).toContain('âœ… Successfully updated user "Updated User" (ID: user-1)');
            (0, globals_1.expect)(result).toContain('Email: updated@example.com');
            (0, globals_1.expect)(result).toContain('Role: admin');
            (0, globals_1.expect)(result).toContain('Status: ðŸ”´ Disabled');
        });
        (0, globals_1.it)('should update user successfully with partial fields', async () => {
            const mockUser = {
                id: 'user-1',
                email: 'original@example.com',
                firstName: 'Updated',
                lastName: 'Name',
                role: 'member',
                disabled: false,
            };
            mockClient.updateUser.mockResolvedValue(mockUser);
            const result = await updateUserTool.execute({
                userId: 'user-1',
                firstName: 'Updated',
                lastName: 'Name',
            });
            (0, globals_1.expect)(mockClient.updateUser).toHaveBeenCalledWith('user-1', {
                firstName: 'Updated',
                lastName: 'Name',
            });
            (0, globals_1.expect)(result).toContain('âœ… Successfully updated user "Updated Name" (ID: user-1)');
            (0, globals_1.expect)(result).toContain('Email: original@example.com');
            (0, globals_1.expect)(result).toContain('Role: member');
            (0, globals_1.expect)(result).toContain('Status: ðŸŸ¢ Active');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const getClientNull = globals_1.jest.fn(() => null);
            const nullClientServer = { addTool: globals_1.jest.fn() };
            (0, users_1.createUserTools)(getClientNull, nullClientServer);
            const updateUserToolWithNullClient = nullClientServer.addTool.mock.calls.find((call) => call[0].name === 'update-user')?.[0];
            (0, globals_1.expect)(updateUserToolWithNullClient).toBeDefined();
            await (0, globals_1.expect)(updateUserToolWithNullClient.execute({ userId: 'user-1', firstName: 'Updated' })).rejects.toThrow(new fastmcp_1.UserError('n8n client not initialized. Please run init-n8n first.'));
        });
        (0, globals_1.it)('should handle API errors', async () => {
            const apiError = new Error('User not found');
            mockClient.updateUser.mockRejectedValue(apiError);
            await (0, globals_1.expect)(updateUserTool.execute({ userId: 'invalid-id', firstName: 'Updated' })).rejects.toThrow(new fastmcp_1.UserError('Failed to update user: User not found'));
        });
        (0, globals_1.it)('should handle unknown errors', async () => {
            mockClient.updateUser.mockRejectedValue('Unknown error string');
            await (0, globals_1.expect)(updateUserTool.execute({ userId: 'user-1', firstName: 'Updated' })).rejects.toThrow(new fastmcp_1.UserError('Failed to update user with unknown error'));
        });
    });
    (0, globals_1.describe)('delete-user tool', () => {
        let deleteUserTool;
        (0, globals_1.beforeEach)(() => {
            deleteUserTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'delete-user')[0];
        });
        (0, globals_1.it)('should have correct tool configuration', () => {
            (0, globals_1.expect)(deleteUserTool.name).toBe('delete-user');
            (0, globals_1.expect)(deleteUserTool.description).toContain('Delete a user from n8n permanently');
            (0, globals_1.expect)(deleteUserTool.annotations).toEqual({
                title: 'Delete User',
                readOnlyHint: false,
                destructiveHint: true,
                idempotentHint: true,
                openWorldHint: true,
            });
        });
        (0, globals_1.it)('should delete user successfully', async () => {
            mockClient.deleteUser.mockResolvedValue(undefined);
            const result = await deleteUserTool.execute({
                userId: 'user-1',
            });
            (0, globals_1.expect)(mockClient.deleteUser).toHaveBeenCalledWith('user-1');
            (0, globals_1.expect)(result).toBe('âœ… Successfully deleted user with ID: user-1');
        });
        (0, globals_1.it)('should throw UserError when client is not initialized', async () => {
            const getClientNull = globals_1.jest.fn(() => null);
            const nullClientServer = { addTool: globals_1.jest.fn() };
            (0, users_1.createUserTools)(getClientNull, nullClientServer);
            const deleteUserToolWithNullClient = nullClientServer.addTool.mock.calls.find((call) => call[0].name === 'delete-user')?.[0];
            (0, globals_1.expect)(deleteUserToolWithNullClient).toBeDefined();
            await (0, globals_1.expect)(deleteUserToolWithNullClient.execute({ userId: 'user-1' })).rejects.toThrow(new fastmcp_1.UserError('n8n client not initialized. Please run init-n8n first.'));
        });
        (0, globals_1.it)('should handle API errors', async () => {
            const apiError = new Error('User not found');
            mockClient.deleteUser.mockRejectedValue(apiError);
            await (0, globals_1.expect)(deleteUserTool.execute({ userId: 'invalid-id' })).rejects.toThrow(new fastmcp_1.UserError('Failed to delete user: User not found'));
        });
        (0, globals_1.it)('should handle unknown errors', async () => {
            mockClient.deleteUser.mockRejectedValue('Unknown error string');
            await (0, globals_1.expect)(deleteUserTool.execute({ userId: 'user-1' })).rejects.toThrow(new fastmcp_1.UserError('Failed to delete user with unknown error'));
        });
    });
    (0, globals_1.describe)('parameter validation', () => {
        (0, globals_1.it)('should validate user ID parameters', () => {
            const getUserTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'get-user')[0];
            (0, globals_1.expect)(getUserTool.parameters).toBeDefined();
            // Zod validation would be handled at runtime
        });
        (0, globals_1.it)('should validate create user parameters', () => {
            const createUserTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'create-user')[0];
            (0, globals_1.expect)(createUserTool.parameters).toBeDefined();
            // Zod validation would be handled at runtime
        });
        (0, globals_1.it)('should validate update user parameters', () => {
            const updateUserTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'update-user')[0];
            (0, globals_1.expect)(updateUserTool.parameters).toBeDefined();
            // Zod validation would be handled at runtime
        });
        (0, globals_1.it)('should validate list users parameters', () => {
            const listUsersTool = mockServer.addTool.mock.calls.find((call) => call[0].name === 'list-users')[0];
            (0, globals_1.expect)(listUsersTool.parameters).toBeDefined();
            // Zod validation would be handled at runtime
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2plcmVteXBhcmtlci9EZXNrdG9wL0NsYXVkZSBDb2RpbmcgUHJvamVjdHMvbjhuLW1jcC1zZXJ2ZXIvdGVzdHMvdW5pdC90b29scy91c2Vycy50ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsMkNBQXVFO0FBQ3ZFLG9EQUEyRDtBQUczRCxxQ0FBb0M7QUFFcEMsSUFBQSxrQkFBUSxFQUFDLFlBQVksRUFBRSxHQUFHLEVBQUU7SUFDMUIsSUFBSSxVQUFrQyxDQUFDO0lBQ3ZDLElBQUksVUFBZSxDQUFDO0lBQ3BCLElBQUksU0FBaUMsQ0FBQztJQUV0QyxJQUFBLG9CQUFVLEVBQUMsR0FBRyxFQUFFO1FBQ2QsVUFBVSxHQUFJLE1BQWMsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLEVBQTRCLENBQUM7UUFDcEYsU0FBUyxHQUFHLGNBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdEMsVUFBVSxHQUFHO1lBQ1gsT0FBTyxFQUFFLGNBQUksQ0FBQyxFQUFFLEVBQUU7U0FDbkIsQ0FBQztRQUVGLHNCQUFzQjtRQUN0QixJQUFBLHVCQUFlLEVBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ3pDLENBQUMsQ0FBQyxDQUFDO0lBRUgsSUFBQSxZQUFFLEVBQUMsZ0NBQWdDLEVBQUUsR0FBRyxFQUFFO1FBQ3hDLElBQUEsZ0JBQU0sRUFBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFcEQsTUFBTSxTQUFTLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pGLElBQUEsZ0JBQU0sRUFBQyxTQUFTLENBQUMsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDMUMsSUFBQSxnQkFBTSxFQUFDLFNBQVMs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VyxFQUFFLENBQUM7WUFDaEQsNkNBQTZDO1FBQy9DLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBQSxZQUFFLEVBQUMsdUNBQXVDLEVBQUUsR0FBRyxFQUFFO1lBQy9DLE1BQU0sYUFBYSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQ3RELENBQUMsSUFBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLFlBQVksQ0FDN0MsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVMLElBQUEsZ0JBQU0sRUFBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDL0MsNkNBQTZDO1FBQy9DLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvamVyZW15cGFya2VyL0Rlc2t0b3AvQ2xhdWRlIENvZGluZyBQcm9qZWN0cy9uOG4tbWNwLXNlcnZlci90ZXN0cy91bml0L3Rvb2xzL3VzZXJzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUVhY2gsIGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IGNyZWF0ZVVzZXJUb29scyB9IGZyb20gJy4uLy4uLy4uL3NyYy90b29scy91c2Vycyc7XG5pbXBvcnQgeyBOOG5DbGllbnQgfSBmcm9tICcuLi8uLi8uLi9zcmMvY2xpZW50L244bkNsaWVudCc7XG5pbXBvcnQgeyBOOG5Vc2VyLCBDcmVhdGVVc2VyUmVxdWVzdCwgVXBkYXRlVXNlclJlcXVlc3QgfSBmcm9tICcuLi8uLi8uLi9zcmMvdHlwZXMvbjhuJztcbmltcG9ydCB7IFVzZXJFcnJvciB9IGZyb20gJ2Zhc3RtY3AnO1xuXG5kZXNjcmliZSgnVXNlciBUb29scycsICgpID0+IHtcbiAgbGV0IG1vY2tDbGllbnQ6IGplc3QuTW9ja2VkPE44bkNsaWVudD47XG4gIGxldCBtb2NrU2VydmVyOiBhbnk7XG4gIGxldCBnZXRDbGllbnQ6ICgpID0+IE44bkNsaWVudCB8IG51bGw7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgbW9ja0NsaWVudCA9IChnbG9iYWwgYXMgYW55KS50ZXN0VXRpbHMuY3JlYXRlTW9ja0NsaWVudCgpIGFzIGplc3QuTW9ja2VkPE44bkNsaWVudD47XG4gICAgZ2V0Q2xpZW50ID0gamVzdC5mbigoKSA9PiBtb2NrQ2xpZW50KTtcbiAgICBtb2NrU2VydmVyID0ge1xuICAgICAgYWRkVG9vbDogamVzdC5mbigpLFxuICAgIH07XG5cbiAgICAvLyBSZWdpc3RlciB1c2VyIHRvb2xzXG4gICAgY3JlYXRlVXNlclRvb2xzKGdldENsaWVudCwgbW9ja1NlcnZlcik7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmVnaXN0ZXIgYWxsIHVzZXIgdG9vbHMnLCAoKSA9PiB7XG4gICAgZXhwZWN0KG1vY2tTZXJ2ZXIuYWRkVG9vbCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDUpO1xuXG4gICAgY29uc3QgdG9vbE5hbWVzID0gbW9ja1NlcnZlci5hZGRUb29sLm1vY2suY2FsbHMubWFwKChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSk7XG4gICAgZXhwZWN0KHRvb2xOYW1lcykudG9Db250YWluKCdsaXN0LXVzZXJzJyk7XG4gICAgZXhwZWN0KHRvb2xOYW1lcykudG9Db250YWluKCdnZXQtdXNlcicpO1xuICAgIGV4cGVjdCh0b29sTmFtZXMpLnRvQ29udGFpbignY3JlYXRlLXVzZXInKTtcbiAgICBleHBlY3QodG9vbE5hbWVzKS50b0NvbnRhaW4oJ3VwZGF0ZS11c2VyJyk7XG4gICAgZXhwZWN0KHRvb2xOYW1lcykudG9Db250YWluKCdkZWxldGUtdXNlcicpO1xuICB9KTtcblxuICBkZXNjcmliZSgnbGlzdC11c2VycyB0b29sJywgKCkgPT4ge1xuICAgIGxldCBsaXN0VXNlcnNUb29sOiBhbnk7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGxpc3RVc2Vyc1Rvb2wgPSBtb2NrU2VydmVyLmFkZFRvb2wubW9jay5jYWxscy5maW5kKFxuICAgICAgICAoY2FsbDogYW55KSA9PiBjYWxsWzBdLm5hbWUgPT09ICdsaXN0LXVzZXJzJ1xuICAgICAgKVswXTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBjb3JyZWN0IHRvb2wgY29uZmlndXJhdGlvbicsICgpID0+IHtcbiAgICAgIGV4cGVjdChsaXN0VXNlcnNUb29sLm5hbWUpLnRvQmUoJ2xpc3QtdXNlcnMnKTtcbiAgICAgIGV4cGVjdChsaXN0VXNlcnNUb29sLmRlc2NyaXB0aW9uKS50b0NvbnRhaW4oJ0xpc3QgYWxsIHVzZXJzIGluIHRoZSBuOG4gaW5zdGFuY2UnKTtcbiAgICAgIGV4cGVjdChsaXN0VXNlcnNUb29sLmFubm90YXRpb25zKS50b0VxdWFsKHtcbiAgICAgICAgdGl0bGU6ICdMaXN0IG44biBVc2VycycsXG4gICAgICAgIHJlYWRPbmx5SGludDogdHJ1ZSxcbiAgICAgICAgZGVzdHJ1Y3RpdmVIaW50OiBmYWxzZSxcbiAgICAgICAgaWRlbXBvdGVudEhpbnQ6IHRydWUsXG4gICAgICAgIG9wZW5Xb3JsZEhpbnQ6IHRydWUsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbGlzdCB1c2VycyBzdWNjZXNzZnVsbHkgd2l0aCBmdWxsIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrVXNlcnM6IE44blVzZXJbXSA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAndXNlci0xJyxcbiAgICAgICAgICBlbWFpbDogJ2pvaG4uZG9lQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBmaXJzdE5hbWU6ICdKb2huJyxcbiAgICAgICAgICBsYXN0TmFtZTogJ0RvZScsXG4gICAgICAgICAgcm9sZTogJ2FkbWluJyxcbiAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICAgICAgY3JlYXRlZEF0OiAnMjAyMy0wMS0wMVQwMDowMDowMC4wMDBaJyxcbiAgICAgICAgICBsYXN0U2VlbkF0OiAnMjAyMy0wMS0xNVQwMDowMDowMC4wMDBaJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAndXNlci0yJyxcbiAgICAgICAgICBlbWFpbDogJ2phbmUuc21pdGhAZXhhbXBsZS5jb20nLFxuICAgICAgICAgIGZpcnN0TmFtZTogJ0phbmUnLFxuICAgICAgICAgIGxhc3ROYW1lOiAnU21pdGgnLFxuICAgICAgICAgIHJvbGU6ICdtZW1iZXInLFxuICAgICAgICAgIGRpc2FibGVkOiB0cnVlLFxuICAgICAgICAgIGNyZWF0ZWRBdDogJzIwMjMtMDEtMDJUMDA6MDA6MDAuMDAwWicsXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBtb2NrQ2xpZW50LmdldFVzZXJzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogbW9ja1VzZXJzLFxuICAgICAgICBuZXh0Q3Vyc29yOiAnbmV4dC1jdXJzb3InLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxpc3RVc2Vyc1Rvb2wuZXhlY3V0ZSh7IGxpbWl0OiAxMCB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tDbGllbnQuZ2V0VXNlcnMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHsgbGltaXQ6IDEwIH0pO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdGb3VuZCAyIHVzZXIocyknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignKipKb2huIERvZSoqJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ0lEOiB1c2VyLTEnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignRW1haWw6IGpvaG4uZG9lQGV4YW1wbGUuY29tJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1JvbGU6IGFkbWluJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1N0YXR1czog8J+foiBBY3RpdmUnKTtcbiAgICAgIC8vIFVzZSBtb3JlIGZsZXhpYmxlIGRhdGUgbWF0Y2hpbmcgdG8gaGFuZGxlIHRpbWV6b25lIGRpZmZlcmVuY2VzXG4gICAgICBleHBlY3QocmVzdWx0KS50b01hdGNoKC9DcmVhdGVkOiAoMTJcXC8zMVxcLzIwMjJ8MVxcLzFcXC8yMDIzKS8pO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9NYXRjaCgvTGFzdCBTZWVuOiAoMVxcLzE0XFwvMjAyM3wxXFwvMTVcXC8yMDIzKS8pO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCcqKkphbmUgU21pdGgqKicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdJRDogdXNlci0yJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ0VtYWlsOiBqYW5lLnNtaXRoQGV4YW1wbGUuY29tJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1JvbGU6IG1lbWJlcicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdTdGF0dXM6IPCflLQgRGlzYWJsZWQnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignVXNlIGN1cnNvciBcIm5leHQtY3Vyc29yXCIgdG8gZ2V0IHRoZSBuZXh0IHBhZ2UnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbGlzdCB1c2VycyB3aXRoIG1pbmltYWwgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tVc2VyczogTjhuVXNlcltdID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICd1c2VyLTEnLFxuICAgICAgICAgIGVtYWlsOiAnc2ltcGxlQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBmaXJzdE5hbWU6ICdTaW1wbGUnLFxuICAgICAgICAgIGxhc3ROYW1lOiAnVXNlcicsXG4gICAgICAgICAgcm9sZTogJ21lbWJlcicsXG4gICAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0NsaWVudC5nZXRVc2Vycy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IG1vY2tVc2VycyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBsaXN0VXNlcnNUb29sLmV4ZWN1dGUoe30pO1xuXG4gICAgICBleHBlY3QobW9ja0NsaWVudC5nZXRVc2VycykudG9IYXZlQmVlbkNhbGxlZFdpdGgoe30pO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdGb3VuZCAxIHVzZXIocyknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignKipTaW1wbGUgVXNlcioqJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ0lEOiB1c2VyLTEnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignRW1haWw6IHNpbXBsZUBleGFtcGxlLmNvbScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdSb2xlOiBtZW1iZXInKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignU3RhdHVzOiDwn5+iIEFjdGl2ZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQ29udGFpbignQ3JlYXRlZDonKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0NvbnRhaW4oJ0xhc3QgU2VlbjonKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0NvbnRhaW4oJ2N1cnNvcicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgdXNlciBsaXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC5nZXRVc2Vycy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxpc3RVc2Vyc1Rvb2wuZXhlY3V0ZSh7fSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ05vIHVzZXJzIGZvdW5kIGluIHRoZSBuOG4gaW5zdGFuY2UuJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwYWdpbmF0aW9uIHBhcmFtZXRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2xpZW50LmdldFVzZXJzLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogW10gfSk7XG5cbiAgICAgIGF3YWl0IGxpc3RVc2Vyc1Rvb2wuZXhlY3V0ZSh7IGxpbWl0OiA1MCwgY3Vyc29yOiAndGVzdC1jdXJzb3InIH0pO1xuXG4gICAgICBleHBlY3QobW9ja0NsaWVudC5nZXRVc2VycykudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBsaW1pdDogNTAsXG4gICAgICAgIGN1cnNvcjogJ3Rlc3QtY3Vyc29yJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBVc2VyRXJyb3Igd2hlbiBjbGllbnQgaXMgbm90IGluaXRpYWxpemVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZ2V0Q2xpZW50TnVsbCA9IGplc3QuZm4oKCkgPT4gbnVsbCk7XG4gICAgICBjb25zdCBudWxsQ2xpZW50U2VydmVyID0geyBhZGRUb29sOiBqZXN0LmZuKCkgfTtcbiAgICAgIGNyZWF0ZVVzZXJUb29scyhnZXRDbGllbnROdWxsLCBudWxsQ2xpZW50U2VydmVyKTtcblxuICAgICAgY29uc3QgbGlzdFVzZXJzVG9vbFdpdGhOdWxsQ2xpZW50ID0gbnVsbENsaWVudFNlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnbGlzdC11c2VycydcbiAgICAgICk/LlswXTtcblxuICAgICAgZXhwZWN0KGxpc3RVc2Vyc1Rvb2xXaXRoTnVsbENsaWVudCkudG9CZURlZmluZWQoKTtcbiAgICAgIGF3YWl0IGV4cGVjdCgobGlzdFVzZXJzVG9vbFdpdGhOdWxsQ2xpZW50IGFzIGFueSkuZXhlY3V0ZSh7fSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgbmV3IFVzZXJFcnJvcignbjhuIGNsaWVudCBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBydW4gaW5pdC1uOG4gZmlyc3QuJylcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBBUEkgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYXBpRXJyb3IgPSBuZXcgRXJyb3IoJ0FQSSByZXF1ZXN0IGZhaWxlZCcpO1xuICAgICAgbW9ja0NsaWVudC5nZXRVc2Vycy5tb2NrUmVqZWN0ZWRWYWx1ZShhcGlFcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChsaXN0VXNlcnNUb29sLmV4ZWN1dGUoe30pKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgIG5ldyBVc2VyRXJyb3IoJ0ZhaWxlZCB0byBsaXN0IHVzZXJzOiBBUEkgcmVxdWVzdCBmYWlsZWQnKVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVua25vd24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC5nZXRVc2Vycy5tb2NrUmVqZWN0ZWRWYWx1ZSgnVW5rbm93biBlcnJvciBzdHJpbmcnKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGxpc3RVc2Vyc1Rvb2wuZXhlY3V0ZSh7fSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgbmV3IFVzZXJFcnJvcignRmFpbGVkIHRvIGxpc3QgdXNlcnMgd2l0aCB1bmtub3duIGVycm9yJylcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXQtdXNlciB0b29sJywgKCkgPT4ge1xuICAgIGxldCBnZXRVc2VyVG9vbDogYW55O1xuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBnZXRVc2VyVG9vbCA9IG1vY2tTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2dldC11c2VyJ1xuICAgICAgKVswXTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBjb3JyZWN0IHRvb2wgY29uZmlndXJhdGlvbicsICgpID0+IHtcbiAgICAgIGV4cGVjdChnZXRVc2VyVG9vbC5uYW1lKS50b0JlKCdnZXQtdXNlcicpO1xuICAgICAgZXhwZWN0KGdldFVzZXJUb29sLmRlc2NyaXB0aW9uKS50b0NvbnRhaW4oJ0dldCBkZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCBhIHNwZWNpZmljIHVzZXInKTtcbiAgICAgIGV4cGVjdChnZXRVc2VyVG9vbC5hbm5vdGF0aW9ucykudG9FcXVhbCh7XG4gICAgICAgIHRpdGxlOiAnR2V0IFVzZXIgRGV0YWlscycsXG4gICAgICAgIHJlYWRPbmx5SGludDogdHJ1ZSxcbiAgICAgICAgZGVzdHJ1Y3RpdmVIaW50OiBmYWxzZSxcbiAgICAgICAgaWRlbXBvdGVudEhpbnQ6IHRydWUsXG4gICAgICAgIG9wZW5Xb3JsZEhpbnQ6IHRydWUsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2V0IHVzZXIgc3VjY2Vzc2Z1bGx5IHdpdGggZnVsbCBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1VzZXI6IE44blVzZXIgPSB7XG4gICAgICAgIGlkOiAndXNlci0xJyxcbiAgICAgICAgZW1haWw6ICdqb2huLmRvZUBleGFtcGxlLmNvbScsXG4gICAgICAgIGZpcnN0TmFtZTogJ0pvaG4nLFxuICAgICAgICBsYXN0TmFtZTogJ0RvZScsXG4gICAgICAgIHJvbGU6ICdhZG1pbicsXG4gICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgY3JlYXRlZEF0OiAnMjAyMy0wMS0wMVQwMDowMDowMC4wMDBaJyxcbiAgICAgICAgdXBkYXRlZEF0OiAnMjAyMy0wMS0wMlQwMDowMDowMC4wMDBaJyxcbiAgICAgICAgbGFzdFNlZW5BdDogJzIwMjMtMDEtMTVUMDA6MDA6MDAuMDAwWicsXG4gICAgICB9O1xuXG4gICAgICBtb2NrQ2xpZW50LmdldFVzZXIubW9ja1Jlc29sdmVkVmFsdWUobW9ja1VzZXIpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRVc2VyVG9vbC5leGVjdXRlKHsgdXNlcklkOiAndXNlci0xJyB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tDbGllbnQuZ2V0VXNlcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3VzZXItMScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCcjIFVzZXI6IEpvaG4gRG9lJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJyoqSUQ6KiogdXNlci0xJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJyoqRW1haWw6Kiogam9obi5kb2VAZXhhbXBsZS5jb20nKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignKipSb2xlOioqIGFkbWluJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJyoqU3RhdHVzOioqIPCfn6IgQWN0aXZlJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJyoqQ3JlYXRlZDoqKicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCcqKlVwZGF0ZWQ6KionKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignKipMYXN0IFNlZW46KionKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2V0IHVzZXIgd2l0aCBtaW5pbWFsIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrVXNlcjogTjhuVXNlciA9IHtcbiAgICAgICAgaWQ6ICd1c2VyLTEnLFxuICAgICAgICBlbWFpbDogJ3NpbXBsZUBleGFtcGxlLmNvbScsXG4gICAgICAgIGZpcnN0TmFtZTogJ1NpbXBsZScsXG4gICAgICAgIGxhc3ROYW1lOiAnVXNlcicsXG4gICAgICAgIHJvbGU6ICdtZW1iZXInLFxuICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tDbGllbnQuZ2V0VXNlci5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVXNlcik7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFVzZXJUb29sLmV4ZWN1dGUoeyB1c2VySWQ6ICd1c2VyLTEnIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJyMgVXNlcjogU2ltcGxlIFVzZXInKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignKipJRDoqKiB1c2VyLTEnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignKipFbWFpbDoqKiBzaW1wbGVAZXhhbXBsZS5jb20nKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignKipSb2xlOioqIG1lbWJlcicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCcqKlN0YXR1czoqKiDwn5S0IERpc2FibGVkJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9Db250YWluKCcqKkNyZWF0ZWQ6KionKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0NvbnRhaW4oJyoqVXBkYXRlZDoqKicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQ29udGFpbignKipMYXN0IFNlZW46KionKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdGhyb3cgVXNlckVycm9yIHdoZW4gY2xpZW50IGlzIG5vdCBpbml0aWFsaXplZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGdldENsaWVudE51bGwgPSBqZXN0LmZuKCgpID0+IG51bGwpO1xuICAgICAgY29uc3QgbnVsbENsaWVudFNlcnZlciA9IHsgYWRkVG9vbDogamVzdC5mbigpIH07XG4gICAgICBjcmVhdGVVc2VyVG9vbHMoZ2V0Q2xpZW50TnVsbCwgbnVsbENsaWVudFNlcnZlcik7XG5cbiAgICAgIGNvbnN0IGdldFVzZXJUb29sV2l0aE51bGxDbGllbnQgPSBudWxsQ2xpZW50U2VydmVyLmFkZFRvb2wubW9jay5jYWxscy5maW5kKFxuICAgICAgICAoY2FsbDogYW55KSA9PiBjYWxsWzBdLm5hbWUgPT09ICdnZXQtdXNlcidcbiAgICAgICk/LlswXTtcblxuICAgICAgZXhwZWN0KGdldFVzZXJUb29sV2l0aE51bGxDbGllbnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIChnZXRVc2VyVG9vbFdpdGhOdWxsQ2xpZW50IGFzIGFueSkuZXhlY3V0ZSh7IHVzZXJJZDogJ3VzZXItMScgfSlcbiAgICAgICkucmVqZWN0cy50b1Rocm93KG5ldyBVc2VyRXJyb3IoJ244biBjbGllbnQgbm90IGluaXRpYWxpemVkLiBQbGVhc2UgcnVuIGluaXQtbjhuIGZpcnN0LicpKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIEFQSSBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhcGlFcnJvciA9IG5ldyBFcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICAgIG1vY2tDbGllbnQuZ2V0VXNlci5tb2NrUmVqZWN0ZWRWYWx1ZShhcGlFcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChnZXRVc2VyVG9vbC5leGVjdXRlKHsgdXNlcklkOiAnaW52YWxpZC1pZCcgfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgbmV3IFVzZXJFcnJvcignRmFpbGVkIHRvIGdldCB1c2VyOiBVc2VyIG5vdCBmb3VuZCcpXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5rbm93biBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2xpZW50LmdldFVzZXIubW9ja1JlamVjdGVkVmFsdWUoJ1Vua25vd24gZXJyb3Igc3RyaW5nJyk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChnZXRVc2VyVG9vbC5leGVjdXRlKHsgdXNlcklkOiAndXNlci0xJyB9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICBuZXcgVXNlckVycm9yKCdGYWlsZWQgdG8gZ2V0IHVzZXIgd2l0aCB1bmtub3duIGVycm9yJylcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjcmVhdGUtdXNlciB0b29sJywgKCkgPT4ge1xuICAgIGxldCBjcmVhdGVVc2VyVG9vbDogYW55O1xuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBjcmVhdGVVc2VyVG9vbCA9IG1vY2tTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2NyZWF0ZS11c2VyJ1xuICAgICAgKVswXTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBjb3JyZWN0IHRvb2wgY29uZmlndXJhdGlvbicsICgpID0+IHtcbiAgICAgIGV4cGVjdChjcmVhdGVVc2VyVG9vbC5uYW1lKS50b0JlKCdjcmVhdGUtdXNlcicpO1xuICAgICAgZXhwZWN0KGNyZWF0ZVVzZXJUb29sLmRlc2NyaXB0aW9uKS50b0NvbnRhaW4oJ0NyZWF0ZSBhIG5ldyB1c2VyIGluIG44bicpO1xuICAgICAgZXhwZWN0KGNyZWF0ZVVzZXJUb29sLmFubm90YXRpb25zKS50b0VxdWFsKHtcbiAgICAgICAgdGl0bGU6ICdDcmVhdGUgTmV3IFVzZXInLFxuICAgICAgICByZWFkT25seUhpbnQ6IGZhbHNlLFxuICAgICAgICBkZXN0cnVjdGl2ZUhpbnQ6IGZhbHNlLFxuICAgICAgICBpZGVtcG90ZW50SGludDogZmFsc2UsXG4gICAgICAgIG9wZW5Xb3JsZEhpbnQ6IHRydWUsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY3JlYXRlIHVzZXIgc3VjY2Vzc2Z1bGx5IHdpdGggYWxsIGZpZWxkcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tVc2VyOiBOOG5Vc2VyID0ge1xuICAgICAgICBpZDogJ3VzZXItbmV3JyxcbiAgICAgICAgZW1haWw6ICduZXcudXNlckBleGFtcGxlLmNvbScsXG4gICAgICAgIGZpcnN0TmFtZTogJ05ldycsXG4gICAgICAgIGxhc3ROYW1lOiAnVXNlcicsXG4gICAgICAgIHJvbGU6ICdhZG1pbicsXG4gICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tDbGllbnQuY3JlYXRlVXNlci5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVXNlcik7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZVVzZXJUb29sLmV4ZWN1dGUoe1xuICAgICAgICBlbWFpbDogJ25ldy51c2VyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgZmlyc3ROYW1lOiAnTmV3JyxcbiAgICAgICAgbGFzdE5hbWU6ICdVc2VyJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycsXG4gICAgICAgIHJvbGU6ICdhZG1pbicsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tDbGllbnQuY3JlYXRlVXNlcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBlbWFpbDogJ25ldy51c2VyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgZmlyc3ROYW1lOiAnTmV3JyxcbiAgICAgICAgbGFzdE5hbWU6ICdVc2VyJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycsXG4gICAgICAgIHJvbGU6ICdhZG1pbicsXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbign4pyFIFN1Y2Nlc3NmdWxseSBjcmVhdGVkIHVzZXIgXCJOZXcgVXNlclwiIHdpdGggSUQ6IHVzZXItbmV3Jyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ0VtYWlsOiBuZXcudXNlckBleGFtcGxlLmNvbScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdSb2xlOiBhZG1pbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgdXNlciBzdWNjZXNzZnVsbHkgd2l0aCBkZWZhdWx0IHJvbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrVXNlcjogTjhuVXNlciA9IHtcbiAgICAgICAgaWQ6ICd1c2VyLW5ldycsXG4gICAgICAgIGVtYWlsOiAnc2ltcGxlLnVzZXJAZXhhbXBsZS5jb20nLFxuICAgICAgICBmaXJzdE5hbWU6ICdTaW1wbGUnLFxuICAgICAgICBsYXN0TmFtZTogJ1VzZXInLFxuICAgICAgICByb2xlOiAnbWVtYmVyJyxcbiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgfTtcblxuICAgICAgbW9ja0NsaWVudC5jcmVhdGVVc2VyLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tVc2VyKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY3JlYXRlVXNlclRvb2wuZXhlY3V0ZSh7XG4gICAgICAgIGVtYWlsOiAnc2ltcGxlLnVzZXJAZXhhbXBsZS5jb20nLFxuICAgICAgICBmaXJzdE5hbWU6ICdTaW1wbGUnLFxuICAgICAgICBsYXN0TmFtZTogJ1VzZXInLFxuICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBUaGUgaW1wbGVtZW50YXRpb24gc2hvdWxkIGhhbmRsZSB1bmRlZmluZWQgcm9sZSBieSBkZWZhdWx0aW5nIHRvICdtZW1iZXInXG4gICAgICBleHBlY3QobW9ja0NsaWVudC5jcmVhdGVVc2VyKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIGVtYWlsOiAnc2ltcGxlLnVzZXJAZXhhbXBsZS5jb20nLFxuICAgICAgICBmaXJzdE5hbWU6ICdTaW1wbGUnLFxuICAgICAgICBsYXN0TmFtZTogJ1VzZXInLFxuICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJyxcbiAgICAgICAgcm9sZTogdW5kZWZpbmVkLCAvLyBUaGlzIGlzIHdoYXQgYWN0dWFsbHkgZ2V0cyBwYXNzZWRcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCfinIUgU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgdXNlciBcIlNpbXBsZSBVc2VyXCIgd2l0aCBJRDogdXNlci1uZXcnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignRW1haWw6IHNpbXBsZS51c2VyQGV4YW1wbGUuY29tJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1JvbGU6IG1lbWJlcicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBVc2VyRXJyb3Igd2hlbiBjbGllbnQgaXMgbm90IGluaXRpYWxpemVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZ2V0Q2xpZW50TnVsbCA9IGplc3QuZm4oKCkgPT4gbnVsbCk7XG4gICAgICBjb25zdCBudWxsQ2xpZW50U2VydmVyID0geyBhZGRUb29sOiBqZXN0LmZuKCkgfTtcbiAgICAgIGNyZWF0ZVVzZXJUb29scyhnZXRDbGllbnROdWxsLCBudWxsQ2xpZW50U2VydmVyKTtcblxuICAgICAgY29uc3QgY3JlYXRlVXNlclRvb2xXaXRoTnVsbENsaWVudCA9IG51bGxDbGllbnRTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2NyZWF0ZS11c2VyJ1xuICAgICAgKT8uWzBdO1xuXG4gICAgICBleHBlY3QoY3JlYXRlVXNlclRvb2xXaXRoTnVsbENsaWVudCkudG9CZURlZmluZWQoKTtcbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgKGNyZWF0ZVVzZXJUb29sV2l0aE51bGxDbGllbnQgYXMgYW55KS5leGVjdXRlKHtcbiAgICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgICAgIGZpcnN0TmFtZTogJ1Rlc3QnLFxuICAgICAgICAgIGxhc3ROYW1lOiAnVXNlcicsXG4gICAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycsXG4gICAgICAgIH0pXG4gICAgICApLnJlamVjdHMudG9UaHJvdyhuZXcgVXNlckVycm9yKCduOG4gY2xpZW50IG5vdCBpbml0aWFsaXplZC4gUGxlYXNlIHJ1biBpbml0LW44biBmaXJzdC4nKSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBBUEkgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYXBpRXJyb3IgPSBuZXcgRXJyb3IoJ0VtYWlsIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgICBtb2NrQ2xpZW50LmNyZWF0ZVVzZXIubW9ja1JlamVjdGVkVmFsdWUoYXBpRXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIGNyZWF0ZVVzZXJUb29sLmV4ZWN1dGUoe1xuICAgICAgICAgIGVtYWlsOiAnZHVwbGljYXRlQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBmaXJzdE5hbWU6ICdEdXBsaWNhdGUnLFxuICAgICAgICAgIGxhc3ROYW1lOiAnVXNlcicsXG4gICAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycsXG4gICAgICAgIH0pXG4gICAgICApLnJlamVjdHMudG9UaHJvdyhuZXcgVXNlckVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIHVzZXI6IEVtYWlsIGFscmVhZHkgZXhpc3RzJykpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5rbm93biBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2xpZW50LmNyZWF0ZVVzZXIubW9ja1JlamVjdGVkVmFsdWUoJ1Vua25vd24gZXJyb3Igc3RyaW5nJyk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgY3JlYXRlVXNlclRvb2wuZXhlY3V0ZSh7XG4gICAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBmaXJzdE5hbWU6ICdUZXN0JyxcbiAgICAgICAgICBsYXN0TmFtZTogJ1VzZXInLFxuICAgICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnLFxuICAgICAgICB9KVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3cobmV3IFVzZXJFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSB1c2VyIHdpdGggdW5rbm93biBlcnJvcicpKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3VwZGF0ZS11c2VyIHRvb2wnLCAoKSA9PiB7XG4gICAgbGV0IHVwZGF0ZVVzZXJUb29sOiBhbnk7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIHVwZGF0ZVVzZXJUb29sID0gbW9ja1NlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAndXBkYXRlLXVzZXInXG4gICAgICApWzBdO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGNvcnJlY3QgdG9vbCBjb25maWd1cmF0aW9uJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KHVwZGF0ZVVzZXJUb29sLm5hbWUpLnRvQmUoJ3VwZGF0ZS11c2VyJyk7XG4gICAgICBleHBlY3QodXBkYXRlVXNlclRvb2wuZGVzY3JpcHRpb24pLnRvQ29udGFpbihcIlVwZGF0ZSBhIHVzZXIncyBpbmZvcm1hdGlvblwiKTtcbiAgICAgIGV4cGVjdCh1cGRhdGVVc2VyVG9vbC5hbm5vdGF0aW9ucykudG9FcXVhbCh7XG4gICAgICAgIHRpdGxlOiAnVXBkYXRlIFVzZXInLFxuICAgICAgICByZWFkT25seUhpbnQ6IGZhbHNlLFxuICAgICAgICBkZXN0cnVjdGl2ZUhpbnQ6IGZhbHNlLFxuICAgICAgICBpZGVtcG90ZW50SGludDogdHJ1ZSxcbiAgICAgICAgb3BlbldvcmxkSGludDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgdXNlciBzdWNjZXNzZnVsbHkgd2l0aCBhbGwgZmllbGRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1VzZXI6IE44blVzZXIgPSB7XG4gICAgICAgIGlkOiAndXNlci0xJyxcbiAgICAgICAgZW1haWw6ICd1cGRhdGVkQGV4YW1wbGUuY29tJyxcbiAgICAgICAgZmlyc3ROYW1lOiAnVXBkYXRlZCcsXG4gICAgICAgIGxhc3ROYW1lOiAnVXNlcicsXG4gICAgICAgIHJvbGU6ICdhZG1pbicsXG4gICAgICAgIGRpc2FibGVkOiB0cnVlLFxuICAgICAgfTtcblxuICAgICAgbW9ja0NsaWVudC51cGRhdGVVc2VyLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tVc2VyKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlVXNlclRvb2wuZXhlY3V0ZSh7XG4gICAgICAgIHVzZXJJZDogJ3VzZXItMScsXG4gICAgICAgIGVtYWlsOiAndXBkYXRlZEBleGFtcGxlLmNvbScsXG4gICAgICAgIGZpcnN0TmFtZTogJ1VwZGF0ZWQnLFxuICAgICAgICBsYXN0TmFtZTogJ1VzZXInLFxuICAgICAgICByb2xlOiAnYWRtaW4nLFxuICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobW9ja0NsaWVudC51cGRhdGVVc2VyKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndXNlci0xJywge1xuICAgICAgICBlbWFpbDogJ3VwZGF0ZWRAZXhhbXBsZS5jb20nLFxuICAgICAgICBmaXJzdE5hbWU6ICdVcGRhdGVkJyxcbiAgICAgICAgbGFzdE5hbWU6ICdVc2VyJyxcbiAgICAgICAgcm9sZTogJ2FkbWluJyxcbiAgICAgICAgZGlzYWJsZWQ6IHRydWUsXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbign4pyFIFN1Y2Nlc3NmdWxseSB1cGRhdGVkIHVzZXIgXCJVcGRhdGVkIFVzZXJcIiAoSUQ6IHVzZXItMSknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignRW1haWw6IHVwZGF0ZWRAZXhhbXBsZS5jb20nKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignUm9sZTogYWRtaW4nKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignU3RhdHVzOiDwn5S0IERpc2FibGVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSB1c2VyIHN1Y2Nlc3NmdWxseSB3aXRoIHBhcnRpYWwgZmllbGRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1VzZXI6IE44blVzZXIgPSB7XG4gICAgICAgIGlkOiAndXNlci0xJyxcbiAgICAgICAgZW1haWw6ICdvcmlnaW5hbEBleGFtcGxlLmNvbScsXG4gICAgICAgIGZpcnN0TmFtZTogJ1VwZGF0ZWQnLFxuICAgICAgICBsYXN0TmFtZTogJ05hbWUnLFxuICAgICAgICByb2xlOiAnbWVtYmVyJyxcbiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgfTtcblxuICAgICAgbW9ja0NsaWVudC51cGRhdGVVc2VyLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tVc2VyKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlVXNlclRvb2wuZXhlY3V0ZSh7XG4gICAgICAgIHVzZXJJZDogJ3VzZXItMScsXG4gICAgICAgIGZpcnN0TmFtZTogJ1VwZGF0ZWQnLFxuICAgICAgICBsYXN0TmFtZTogJ05hbWUnLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrQ2xpZW50LnVwZGF0ZVVzZXIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd1c2VyLTEnLCB7XG4gICAgICAgIGZpcnN0TmFtZTogJ1VwZGF0ZWQnLFxuICAgICAgICBsYXN0TmFtZTogJ05hbWUnLFxuICAgICAgfSk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ+KchSBTdWNjZXNzZnVsbHkgdXBkYXRlZCB1c2VyIFwiVXBkYXRlZCBOYW1lXCIgKElEOiB1c2VyLTEpJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ0VtYWlsOiBvcmlnaW5hbEBleGFtcGxlLmNvbScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdSb2xlOiBtZW1iZXInKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignU3RhdHVzOiDwn5+iIEFjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBVc2VyRXJyb3Igd2hlbiBjbGllbnQgaXMgbm90IGluaXRpYWxpemVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZ2V0Q2xpZW50TnVsbCA9IGplc3QuZm4oKCkgPT4gbnVsbCk7XG4gICAgICBjb25zdCBudWxsQ2xpZW50U2VydmVyID0geyBhZGRUb29sOiBqZXN0LmZuKCkgfTtcbiAgICAgIGNyZWF0ZVVzZXJUb29scyhnZXRDbGllbnROdWxsLCBudWxsQ2xpZW50U2VydmVyKTtcblxuICAgICAgY29uc3QgdXBkYXRlVXNlclRvb2xXaXRoTnVsbENsaWVudCA9IG51bGxDbGllbnRTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ3VwZGF0ZS11c2VyJ1xuICAgICAgKT8uWzBdO1xuXG4gICAgICBleHBlY3QodXBkYXRlVXNlclRvb2xXaXRoTnVsbENsaWVudCkudG9CZURlZmluZWQoKTtcbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgKHVwZGF0ZVVzZXJUb29sV2l0aE51bGxDbGllbnQgYXMgYW55KS5leGVjdXRlKHsgdXNlcklkOiAndXNlci0xJywgZmlyc3ROYW1lOiAnVXBkYXRlZCcgfSlcbiAgICAgICkucmVqZWN0cy50b1Rocm93KG5ldyBVc2VyRXJyb3IoJ244biBjbGllbnQgbm90IGluaXRpYWxpemVkLiBQbGVhc2UgcnVuIGluaXQtbjhuIGZpcnN0LicpKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIEFQSSBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhcGlFcnJvciA9IG5ldyBFcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICAgIG1vY2tDbGllbnQudXBkYXRlVXNlci5tb2NrUmVqZWN0ZWRWYWx1ZShhcGlFcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgdXBkYXRlVXNlclRvb2wuZXhlY3V0ZSh7IHVzZXJJZDogJ2ludmFsaWQtaWQnLCBmaXJzdE5hbWU6ICdVcGRhdGVkJyB9KVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3cobmV3IFVzZXJFcnJvcignRmFpbGVkIHRvIHVwZGF0ZSB1c2VyOiBVc2VyIG5vdCBmb3VuZCcpKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVua25vd24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC51cGRhdGVVc2VyLm1vY2tSZWplY3RlZFZhbHVlKCdVbmtub3duIGVycm9yIHN0cmluZycpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIHVwZGF0ZVVzZXJUb29sLmV4ZWN1dGUoeyB1c2VySWQ6ICd1c2VyLTEnLCBmaXJzdE5hbWU6ICdVcGRhdGVkJyB9KVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3cobmV3IFVzZXJFcnJvcignRmFpbGVkIHRvIHVwZGF0ZSB1c2VyIHdpdGggdW5rbm93biBlcnJvcicpKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2RlbGV0ZS11c2VyIHRvb2wnLCAoKSA9PiB7XG4gICAgbGV0IGRlbGV0ZVVzZXJUb29sOiBhbnk7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGRlbGV0ZVVzZXJUb29sID0gbW9ja1NlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnZGVsZXRlLXVzZXInXG4gICAgICApWzBdO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGNvcnJlY3QgdG9vbCBjb25maWd1cmF0aW9uJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGRlbGV0ZVVzZXJUb29sLm5hbWUpLnRvQmUoJ2RlbGV0ZS11c2VyJyk7XG4gICAgICBleHBlY3QoZGVsZXRlVXNlclRvb2wuZGVzY3JpcHRpb24pLnRvQ29udGFpbignRGVsZXRlIGEgdXNlciBmcm9tIG44biBwZXJtYW5lbnRseScpO1xuICAgICAgZXhwZWN0KGRlbGV0ZVVzZXJUb29sLmFubm90YXRpb25zKS50b0VxdWFsKHtcbiAgICAgICAgdGl0bGU6ICdEZWxldGUgVXNlcicsXG4gICAgICAgIHJlYWRPbmx5SGludDogZmFsc2UsXG4gICAgICAgIGRlc3RydWN0aXZlSGludDogdHJ1ZSxcbiAgICAgICAgaWRlbXBvdGVudEhpbnQ6IHRydWUsXG4gICAgICAgIG9wZW5Xb3JsZEhpbnQ6IHRydWUsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGVsZXRlIHVzZXIgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NsaWVudC5kZWxldGVVc2VyLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRlbGV0ZVVzZXJUb29sLmV4ZWN1dGUoe1xuICAgICAgICB1c2VySWQ6ICd1c2VyLTEnLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrQ2xpZW50LmRlbGV0ZVVzZXIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd1c2VyLTEnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ+KchSBTdWNjZXNzZnVsbHkgZGVsZXRlZCB1c2VyIHdpdGggSUQ6IHVzZXItMScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBVc2VyRXJyb3Igd2hlbiBjbGllbnQgaXMgbm90IGluaXRpYWxpemVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZ2V0Q2xpZW50TnVsbCA9IGplc3QuZm4oKCkgPT4gbnVsbCk7XG4gICAgICBjb25zdCBudWxsQ2xpZW50U2VydmVyID0geyBhZGRUb29sOiBqZXN0LmZuKCkgfTtcbiAgICAgIGNyZWF0ZVVzZXJUb29scyhnZXRDbGllbnROdWxsLCBudWxsQ2xpZW50U2VydmVyKTtcblxuICAgICAgY29uc3QgZGVsZXRlVXNlclRvb2xXaXRoTnVsbENsaWVudCA9IG51bGxDbGllbnRTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2RlbGV0ZS11c2VyJ1xuICAgICAgKT8uWzBdO1xuXG4gICAgICBleHBlY3QoZGVsZXRlVXNlclRvb2xXaXRoTnVsbENsaWVudCkudG9CZURlZmluZWQoKTtcbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgKGRlbGV0ZVVzZXJUb29sV2l0aE51bGxDbGllbnQgYXMgYW55KS5leGVjdXRlKHsgdXNlcklkOiAndXNlci0xJyB9KVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3cobmV3IFVzZXJFcnJvcignbjhuIGNsaWVudCBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBydW4gaW5pdC1uOG4gZmlyc3QuJykpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgQVBJIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFwaUVycm9yID0gbmV3IEVycm9yKCdVc2VyIG5vdCBmb3VuZCcpO1xuICAgICAgbW9ja0NsaWVudC5kZWxldGVVc2VyLm1vY2tSZWplY3RlZFZhbHVlKGFwaUVycm9yKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGRlbGV0ZVVzZXJUb29sLmV4ZWN1dGUoeyB1c2VySWQ6ICdpbnZhbGlkLWlkJyB9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICBuZXcgVXNlckVycm9yKCdGYWlsZWQgdG8gZGVsZXRlIHVzZXI6IFVzZXIgbm90IGZvdW5kJylcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1bmtub3duIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tDbGllbnQuZGVsZXRlVXNlci5tb2NrUmVqZWN0ZWRWYWx1ZSgnVW5rbm93biBlcnJvciBzdHJpbmcnKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGRlbGV0ZVVzZXJUb29sLmV4ZWN1dGUoeyB1c2VySWQ6ICd1c2VyLTEnIH0pKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgIG5ldyBVc2VyRXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgdXNlciB3aXRoIHVua25vd24gZXJyb3InKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3BhcmFtZXRlciB2YWxpZGF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdXNlciBJRCBwYXJhbWV0ZXJzJywgKCkgPT4ge1xuICAgICAgY29uc3QgZ2V0VXNlclRvb2wgPSBtb2NrU2VydmVyLmFkZFRvb2wubW9jay5jYWxscy5maW5kKFxuICAgICAgICAoY2FsbDogYW55KSA9PiBjYWxsWzBdLm5hbWUgPT09ICdnZXQtdXNlcidcbiAgICAgIClbMF07XG5cbiAgICAgIGV4cGVjdChnZXRVc2VyVG9vbC5wYXJhbWV0ZXJzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgLy8gWm9kIHZhbGlkYXRpb24gd291bGQgYmUgaGFuZGxlZCBhdCBydW50aW1lXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIGNyZWF0ZSB1c2VyIHBhcmFtZXRlcnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjcmVhdGVVc2VyVG9vbCA9IG1vY2tTZXJ2ZXIuYWRkVG9vbC5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgIChjYWxsOiBhbnkpID0+IGNhbGxbMF0ubmFtZSA9PT0gJ2NyZWF0ZS11c2VyJ1xuICAgICAgKVswXTtcblxuICAgICAgZXhwZWN0KGNyZWF0ZVVzZXJUb29sLnBhcmFtZXRlcnMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAvLyBab2QgdmFsaWRhdGlvbiB3b3VsZCBiZSBoYW5kbGVkIGF0IHJ1bnRpbWVcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdXBkYXRlIHVzZXIgcGFyYW1ldGVycycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVwZGF0ZVVzZXJUb29sID0gbW9ja1NlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAndXBkYXRlLXVzZXInXG4gICAgICApWzBdO1xuXG4gICAgICBleHBlY3QodXBkYXRlVXNlclRvb2wucGFyYW1ldGVycykudG9CZURlZmluZWQoKTtcbiAgICAgIC8vIFpvZCB2YWxpZGF0aW9uIHdvdWxkIGJlIGhhbmRsZWQgYXQgcnVudGltZVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBsaXN0IHVzZXJzIHBhcmFtZXRlcnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBsaXN0VXNlcnNUb29sID0gbW9ja1NlcnZlci5hZGRUb29sLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgKGNhbGw6IGFueSkgPT4gY2FsbFswXS5uYW1lID09PSAnbGlzdC11c2VycydcbiAgICAgIClbMF07XG5cbiAgICAgIGV4cGVjdChsaXN0VXNlcnNUb29sLnBhcmFtZXRlcnMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAvLyBab2QgdmFsaWRhdGlvbiB3b3VsZCBiZSBoYW5kbGVkIGF0IHJ1bnRpbWVcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==