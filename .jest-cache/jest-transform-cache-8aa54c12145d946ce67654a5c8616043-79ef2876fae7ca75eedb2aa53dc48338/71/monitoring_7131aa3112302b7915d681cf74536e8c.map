{"version":3,"names":["cov_1mp0bgbitd","actualCoverage","s","exports","createMonitoringTools","zod_1","require","fastmcp_1","WorkflowSettingsSchema","z","object","workflowId","string","min","settings","record","any","ErrorNotificationSchema","enableNotifications","boolean","notificationSettings","email","optional","webhook","url","slack","retryAttempts","number","max","default","notifyOnFailure","notifyOnSuccess","PerformanceTrackingSchema","timeframe","enum","includeMetrics","array","WorkflowHealthSchema","checkType","includeRecommendations","AlertRuleSchema","ruleName","condition","threshold","action","actionConfig","getClient","server","f","addTool","name","description","parameters","annotations","title","readOnlyHint","destructiveHint","idempotentHint","openWorldHint","execute","args","client","b","UserError","workflow","getWorkflow","updatedSettings","updateWorkflow","JSON","stringify","error","message","notificationConfig","errorNotifications","configuredAt","Date","toISOString","notifications","now","timeframeDuration","hour","day","week","month","startTime","getTime","workflows","response","getWorkflows","limit","data","performanceReport","toLocaleString","executions","getExecutions","recentExecutions","filter","execution","id","startedAt","length","metrics","totalExecutions","successfulExecutions","e","status","failedExecutions","runningExecutions","averageExecutionTime","minExecutionTime","maxExecutionTime","successRate","errorRate","completedExecutions","executionTimes","stoppedAt","map","reduce","a","Math","active","includes","toFixed","performanceRating","recommendations","push","forEach","rec","split","healthReport","healthScore","configuration","security","performance","reliability","maintainability","overall","issues","warnings","nodes","nodeTypes","node","type","uniqueNodeTypes","Set","nodesWithCredentials","credentials","Object","keys","some","cred","toLowerCase","heavyNodes","heavy","errorHandlingNodes","debugNodes","round","healthRating","issue","warning","tags","join","updatedAt","alertRule","enabled","createdAt","currentSettings","existingAlerts","Array","isArray","alertRules","updatedAlerts","thresholdDescription","actionDescription","includeInactive","workflowsResponse","allWorkflows","w","dashboard","totalSuccessful","totalFailed","totalRunning","workflowStatuses","slice","successful","failed","running","_error","systemSuccessRate","ws","workflowsWithAlerts","alertCount"],"sources":["/Users/jeremyparker/Desktop/Claude Coding Projects/n8n-mcp-server/src/tools/monitoring.ts"],"sourcesContent":["import { z } from 'zod';\nimport { UserError } from 'fastmcp';\nimport { N8nClient } from '../client/n8nClient.js';\nimport { N8nWorkflow } from '../types/n8n.js';\n\n// Zod schemas for monitoring and configuration\nconst WorkflowSettingsSchema = z.object({\n  workflowId: z.string().min(1, 'Workflow ID is required'),\n  settings: z.record(z.any()),\n});\n\nconst ErrorNotificationSchema = z.object({\n  workflowId: z.string().min(1, 'Workflow ID is required'),\n  enableNotifications: z.boolean(),\n  notificationSettings: z\n    .object({\n      email: z.string().email().optional(),\n      webhook: z.string().url().optional(),\n      slack: z.string().optional(),\n      retryAttempts: z.number().min(0).max(10).optional().default(3),\n      notifyOnFailure: z.boolean().optional().default(true),\n      notifyOnSuccess: z.boolean().optional().default(false),\n    })\n    .optional(),\n});\n\nconst PerformanceTrackingSchema = z.object({\n  workflowId: z.string().optional(),\n  timeframe: z.enum(['hour', 'day', 'week', 'month']).optional().default('day'),\n  includeMetrics: z\n    .array(\n      z.enum(['execution-time', 'success-rate', 'error-rate', 'node-performance', 'resource-usage'])\n    )\n    .optional()\n    .default(['execution-time', 'success-rate', 'error-rate']),\n});\n\nconst WorkflowHealthSchema = z.object({\n  workflowId: z.string().optional(),\n  checkType: z.enum(['basic', 'detailed', 'comprehensive']).optional().default('basic'),\n  includeRecommendations: z.boolean().optional().default(true),\n});\n\nconst AlertRuleSchema = z.object({\n  workflowId: z.string().min(1, 'Workflow ID is required'),\n  ruleName: z.string().min(1, 'Rule name is required'),\n  condition: z.enum([\n    'execution-time-exceeds',\n    'error-rate-exceeds',\n    'success-rate-below',\n    'consecutive-failures',\n  ]),\n  threshold: z.number().min(0),\n  action: z.enum(['email', 'webhook', 'disable-workflow', 'log-only']),\n  actionConfig: z.record(z.any()).optional(),\n});\n\n// Tool registration function for advanced monitoring tools\nexport function createMonitoringTools(getClient: () => N8nClient | null, server: any) {\n  // Configure workflow settings\n  server.addTool({\n    name: 'configure-workflow-settings',\n    description:\n      'Configure advanced workflow settings including timeouts, retries, error handling, and execution policies',\n    parameters: WorkflowSettingsSchema,\n    annotations: {\n      title: 'Configure Workflow Settings',\n      readOnlyHint: false,\n      destructiveHint: false,\n      idempotentHint: false,\n      openWorldHint: true,\n    },\n    execute: async (args: z.infer<typeof WorkflowSettingsSchema>) => {\n      const client = getClient();\n      if (!client) {\n        throw new UserError('n8n client not initialized. Please run init-n8n first.');\n      }\n\n      try {\n        const workflow = await client.getWorkflow(args.workflowId);\n\n        // Merge new settings with existing settings\n        const updatedSettings = {\n          ...workflow.settings,\n          ...args.settings,\n        };\n\n        // Update the workflow with new settings\n        await client.updateWorkflow(args.workflowId, {\n          settings: updatedSettings,\n        });\n\n        return (\n          `Successfully updated workflow settings for \"${workflow.name}\":\\n\\n` +\n          `**Applied Settings:**\\n\\`\\`\\`json\\n${JSON.stringify(args.settings, null, 2)}\\n\\`\\`\\`\\n\\n` +\n          `**Current Complete Settings:**\\n\\`\\`\\`json\\n${JSON.stringify(updatedSettings, null, 2)}\\n\\`\\`\\`\\n\\n` +\n          `**Common Setting Options:**\\n` +\n          `- \\`timeout\\`: Execution timeout in seconds\\n` +\n          `- \\`retryOnFail\\`: Number of retry attempts on failure\\n` +\n          `- \\`maxExecutionTime\\`: Maximum execution time limit\\n` +\n          `- \\`saveExecutionProgress\\`: Save intermediate execution data\\n` +\n          `- \\`saveDataErrorExecution\\`: Save data on error executions\\n` +\n          `- \\`saveDataSuccessExecution\\`: Save data on successful executions\\n` +\n          `- \\`saveManualExecutions\\`: Save manually triggered executions\\n` +\n          `- \\`callerPolicy\\`: Execution caller policy restrictions\\n` +\n          `- \\`errorWorkflow\\`: Workflow to run on error\\n` +\n          `- \\`timezone\\`: Timezone for scheduled executions`\n        );\n      } catch (error: any) {\n        throw new UserError(`Failed to configure workflow settings: ${error.message}`);\n      }\n    },\n  });\n\n  // Setup error notifications\n  server.addTool({\n    name: 'setup-error-notifications',\n    description:\n      'Configure error notifications and alerting for workflow failures and performance issues',\n    parameters: ErrorNotificationSchema,\n    annotations: {\n      title: 'Setup Error Notifications',\n      readOnlyHint: false,\n      destructiveHint: false,\n      idempotentHint: false,\n      openWorldHint: true,\n    },\n    execute: async (args: z.infer<typeof ErrorNotificationSchema>) => {\n      const client = getClient();\n      if (!client) {\n        throw new UserError('n8n client not initialized. Please run init-n8n first.');\n      }\n\n      try {\n        const workflow = await client.getWorkflow(args.workflowId);\n\n        // Configure notification settings\n        const notificationConfig = {\n          errorNotifications: args.enableNotifications,\n          notificationSettings: args.notificationSettings || {},\n          configuredAt: new Date().toISOString(),\n        };\n\n        // Update workflow settings with notification configuration\n        const updatedSettings = {\n          ...workflow.settings,\n          notifications: notificationConfig,\n        };\n\n        await client.updateWorkflow(args.workflowId, {\n          settings: updatedSettings,\n        });\n\n        return (\n          `${args.enableNotifications ? '✅ Enabled' : '❌ Disabled'} error notifications for workflow \"${workflow.name}\":\\n\\n` +\n          `**Notification Configuration:**\\n` +\n          `- Notifications Enabled: ${args.enableNotifications ? 'Yes' : 'No'}\\n` +\n          `- Retry Attempts: ${args.notificationSettings?.retryAttempts || 3}\\n` +\n          `- Notify on Failure: ${args.notificationSettings?.notifyOnFailure ? 'Yes' : 'No'}\\n` +\n          `- Notify on Success: ${args.notificationSettings?.notifyOnSuccess ? 'Yes' : 'No'}\\n\\n` +\n          `**Notification Channels:**\\n` +\n          `- Email: ${args.notificationSettings?.email || 'Not configured'}\\n` +\n          `- Webhook: ${args.notificationSettings?.webhook || 'Not configured'}\\n` +\n          `- Slack: ${args.notificationSettings?.slack || 'Not configured'}\\n\\n` +\n          `**Full Configuration:**\\n\\`\\`\\`json\\n${JSON.stringify(notificationConfig, null, 2)}\\n\\`\\`\\`\\n\\n` +\n          `**Note:** In a production environment, you would also need to configure the actual notification channels (email server, webhook endpoints, Slack integration) in your n8n instance settings.`\n        );\n      } catch (error: any) {\n        throw new UserError(`Failed to setup error notifications: ${error.message}`);\n      }\n    },\n  });\n\n  // Performance tracking and metrics\n  server.addTool({\n    name: 'track-workflow-performance',\n    description:\n      'Track and analyze workflow performance metrics including execution times, success rates, and resource usage',\n    parameters: PerformanceTrackingSchema,\n    annotations: {\n      title: 'Track Workflow Performance',\n      readOnlyHint: true,\n      destructiveHint: false,\n      idempotentHint: true,\n      openWorldHint: true,\n    },\n    execute: async (args: z.infer<typeof PerformanceTrackingSchema>) => {\n      const client = getClient();\n      if (!client) {\n        throw new UserError('n8n client not initialized. Please run init-n8n first.');\n      }\n\n      try {\n        // Calculate timeframe for analysis\n        const now = new Date();\n        const timeframeDuration = {\n          hour: 1 * 60 * 60 * 1000,\n          day: 24 * 60 * 60 * 1000,\n          week: 7 * 24 * 60 * 60 * 1000,\n          month: 30 * 24 * 60 * 60 * 1000,\n        };\n\n        const startTime = new Date(now.getTime() - timeframeDuration[args.timeframe]);\n\n        let workflows: N8nWorkflow[] = [];\n        if (args.workflowId) {\n          const workflow = await client.getWorkflow(args.workflowId);\n          workflows = [workflow];\n        } else {\n          const response = await client.getWorkflows({ limit: 50 });\n          workflows = response.data;\n        }\n\n        let performanceReport = `**Workflow Performance Report** (${args.timeframe})\\n`;\n        performanceReport += `**Analysis Period:** ${startTime.toLocaleString()} to ${now.toLocaleString()}\\n\\n`;\n\n        for (const workflow of workflows) {\n          // Get recent executions for the workflow\n          const executions = await client.getExecutions({\n            limit: 100,\n          });\n\n          // Filter executions by timeframe and workflow ID\n          const recentExecutions = executions.data.filter(\n            execution =>\n              execution.workflowId === workflow.id && new Date(execution.startedAt) >= startTime\n          );\n\n          if (recentExecutions.length === 0 && args.workflowId) {\n            return `No executions found for workflow \"${workflow.name}\" in the specified timeframe (${args.timeframe}).`;\n          }\n\n          if (recentExecutions.length === 0) {\n            continue; // Skip workflows with no recent executions\n          }\n\n          const metrics = {\n            totalExecutions: recentExecutions.length,\n            successfulExecutions: recentExecutions.filter(e => e.status === 'success').length,\n            failedExecutions: recentExecutions.filter(e => e.status === 'error').length,\n            runningExecutions: recentExecutions.filter(e => e.status === 'running').length,\n            averageExecutionTime: 0,\n            minExecutionTime: 0,\n            maxExecutionTime: 0,\n            successRate: 0,\n            errorRate: 0,\n          };\n\n          // Calculate execution times for completed executions\n          const completedExecutions = recentExecutions.filter(\n            e => e.status === 'success' || e.status === 'error'\n          );\n\n          if (completedExecutions.length > 0) {\n            const executionTimes = completedExecutions\n              .filter(e => e.stoppedAt)\n              .map(e => new Date(e.stoppedAt!).getTime() - new Date(e.startedAt).getTime());\n\n            if (executionTimes.length > 0) {\n              metrics.averageExecutionTime =\n                executionTimes.reduce((a, b) => a + b, 0) / executionTimes.length;\n              metrics.minExecutionTime = Math.min(...executionTimes);\n              metrics.maxExecutionTime = Math.max(...executionTimes);\n            }\n          }\n\n          metrics.successRate = (metrics.successfulExecutions / metrics.totalExecutions) * 100;\n          metrics.errorRate = (metrics.failedExecutions / metrics.totalExecutions) * 100;\n\n          performanceReport += `### ${workflow.name} (${workflow.id})\\n`;\n          performanceReport += `**Status:** ${workflow.active ? '🟢 Active' : '🔴 Inactive'}\\n\\n`;\n\n          // Execution metrics\n          if (args.includeMetrics.includes('execution-time')) {\n            performanceReport += `**Execution Time Metrics:**\\n`;\n            performanceReport += `- Average: ${(metrics.averageExecutionTime / 1000).toFixed(2)}s\\n`;\n            performanceReport += `- Minimum: ${(metrics.minExecutionTime / 1000).toFixed(2)}s\\n`;\n            performanceReport += `- Maximum: ${(metrics.maxExecutionTime / 1000).toFixed(2)}s\\n\\n`;\n          }\n\n          // Success/Error rates\n          if (\n            args.includeMetrics.includes('success-rate') ||\n            args.includeMetrics.includes('error-rate')\n          ) {\n            performanceReport += `**Execution Statistics:**\\n`;\n            performanceReport += `- Total Executions: ${metrics.totalExecutions}\\n`;\n            performanceReport += `- Successful: ${metrics.successfulExecutions} (${metrics.successRate.toFixed(1)}%)\\n`;\n            performanceReport += `- Failed: ${metrics.failedExecutions} (${metrics.errorRate.toFixed(1)}%)\\n`;\n            performanceReport += `- Running: ${metrics.runningExecutions}\\n\\n`;\n          }\n\n          // Performance assessment\n          const performanceRating =\n            metrics.successRate >= 95 && metrics.averageExecutionTime < 10000\n              ? '🟢 Excellent'\n              : metrics.successRate >= 90 && metrics.averageExecutionTime < 30000\n                ? '🟡 Good'\n                : metrics.successRate >= 80\n                  ? '🟠 Fair'\n                  : '🔴 Poor';\n\n          performanceReport += `**Performance Rating:** ${performanceRating}\\n`;\n\n          // Recommendations\n          const recommendations = [];\n          if (metrics.errorRate > 10) {\n            recommendations.push(\n              'High error rate detected - review workflow logic and error handling'\n            );\n          }\n          if (metrics.averageExecutionTime > 30000) {\n            recommendations.push(\n              'Long execution times - consider optimizing slow nodes or breaking into smaller workflows'\n            );\n          }\n          if (metrics.successRate < 90) {\n            recommendations.push('Low success rate - investigate common failure patterns');\n          }\n          if (recommendations.length === 0) {\n            recommendations.push('Workflow is performing well - no immediate optimizations needed');\n          }\n\n          performanceReport += `**Recommendations:**\\n`;\n          recommendations.forEach(rec => {\n            performanceReport += `- ${rec}\\n`;\n          });\n          performanceReport += '\\n';\n        }\n\n        if (workflows.length === 0 || performanceReport.split('###').length <= 1) {\n          return `No workflows with recent executions found in the specified timeframe (${args.timeframe}).`;\n        }\n\n        return performanceReport;\n      } catch (error: any) {\n        throw new UserError(`Failed to track workflow performance: ${error.message}`);\n      }\n    },\n  });\n\n  // Workflow health check\n  server.addTool({\n    name: 'check-workflow-health',\n    description:\n      'Perform comprehensive health checks on workflows including configuration validation, dependency analysis, and optimization recommendations',\n    parameters: WorkflowHealthSchema,\n    annotations: {\n      title: 'Check Workflow Health',\n      readOnlyHint: true,\n      destructiveHint: false,\n      idempotentHint: true,\n      openWorldHint: true,\n    },\n    execute: async (args: z.infer<typeof WorkflowHealthSchema>) => {\n      const client = getClient();\n      if (!client) {\n        throw new UserError('n8n client not initialized. Please run init-n8n first.');\n      }\n\n      try {\n        let workflows: N8nWorkflow[] = [];\n        if (args.workflowId) {\n          const workflow = await client.getWorkflow(args.workflowId);\n          workflows = [workflow];\n        } else {\n          const response = await client.getWorkflows({ limit: 20 });\n          workflows = response.data;\n        }\n\n        let healthReport = `**Workflow Health Check Report**\\n`;\n        healthReport += `**Check Type:** ${args.checkType}\\n`;\n        healthReport += `**Generated:** ${new Date().toLocaleString()}\\n\\n`;\n\n        for (const workflow of workflows) {\n          const healthScore = {\n            configuration: 100,\n            security: 100,\n            performance: 100,\n            reliability: 100,\n            maintainability: 100,\n            overall: 100,\n          };\n\n          const issues = [];\n          const warnings = [];\n          const recommendations = [];\n\n          // Basic health checks\n          if (!workflow.nodes || workflow.nodes.length === 0) {\n            issues.push('Workflow has no nodes');\n            healthScore.configuration -= 50;\n          }\n\n          if (!workflow.active) {\n            warnings.push('Workflow is inactive');\n            healthScore.reliability -= 10;\n          }\n\n          // Node analysis\n          if (workflow.nodes && workflow.nodes.length > 0) {\n            const nodeTypes = workflow.nodes.map(node => node.type);\n            const uniqueNodeTypes = [...new Set(nodeTypes)];\n\n            // Check for common issues\n            if (workflow.nodes.length > 50) {\n              warnings.push(\n                'Workflow has many nodes (>50) - consider breaking into smaller workflows'\n              );\n              healthScore.maintainability -= 20;\n            }\n\n            // Check for missing credentials\n            const nodesWithCredentials = workflow.nodes.filter(\n              node => node.credentials && Object.keys(node.credentials).length > 0\n            );\n\n            if (\n              nodesWithCredentials.length === 0 &&\n              uniqueNodeTypes.some(type =>\n                ['http-request', 'gmail', 'slack', 'webhook'].some(cred =>\n                  type.toLowerCase().includes(cred)\n                )\n              )\n            ) {\n              issues.push(\n                'Nodes that typically require credentials found without credential configuration'\n              );\n              healthScore.security -= 30;\n            }\n\n            // Performance analysis\n            if (args.checkType === 'detailed' || args.checkType === 'comprehensive') {\n              const heavyNodes = workflow.nodes.filter(node =>\n                ['code', 'function', 'python', 'loop', 'merge'].some(heavy =>\n                  node.type.toLowerCase().includes(heavy)\n                )\n              );\n\n              if (heavyNodes.length > workflow.nodes.length * 0.3) {\n                warnings.push('High percentage of resource-intensive nodes detected');\n                healthScore.performance -= 15;\n              }\n            }\n\n            // Comprehensive analysis\n            if (args.checkType === 'comprehensive') {\n              // Check for error handling\n              const errorHandlingNodes = workflow.nodes.filter(\n                node => node.parameters && JSON.stringify(node.parameters).includes('error')\n              );\n\n              if (errorHandlingNodes.length === 0) {\n                recommendations.push('Consider adding error handling nodes for better reliability');\n                healthScore.reliability -= 10;\n              }\n\n              // Check for testing/debugging features\n              const debugNodes = workflow.nodes.filter(node =>\n                ['sticky-note', 'no-op', 'set'].includes(node.type.toLowerCase())\n              );\n\n              if (debugNodes.length === 0 && workflow.nodes.length > 5) {\n                recommendations.push(\n                  'Consider adding debugging/documentation nodes for better maintainability'\n                );\n                healthScore.maintainability -= 5;\n              }\n            }\n          }\n\n          // Calculate overall health score\n          healthScore.overall = Math.round(\n            (healthScore.configuration +\n              healthScore.security +\n              healthScore.performance +\n              healthScore.reliability +\n              healthScore.maintainability) /\n              5\n          );\n\n          // Health rating\n          const healthRating =\n            healthScore.overall >= 90\n              ? '🟢 Excellent'\n              : healthScore.overall >= 80\n                ? '🟡 Good'\n                : healthScore.overall >= 70\n                  ? '🟠 Fair'\n                  : healthScore.overall >= 60\n                    ? '🔴 Poor'\n                    : '🚨 Critical';\n\n          healthReport += `### ${workflow.name} (${workflow.id})\\n`;\n          healthReport += `**Overall Health:** ${healthRating} (${healthScore.overall}/100)\\n\\n`;\n\n          if (args.checkType === 'detailed' || args.checkType === 'comprehensive') {\n            healthReport += `**Detailed Scores:**\\n`;\n            healthReport += `- Configuration: ${healthScore.configuration}/100\\n`;\n            healthReport += `- Security: ${healthScore.security}/100\\n`;\n            healthReport += `- Performance: ${healthScore.performance}/100\\n`;\n            healthReport += `- Reliability: ${healthScore.reliability}/100\\n`;\n            healthReport += `- Maintainability: ${healthScore.maintainability}/100\\n\\n`;\n          }\n\n          if (issues.length > 0) {\n            healthReport += `**❌ Issues (${issues.length}):**\\n`;\n            issues.forEach(issue => {\n              healthReport += `- ${issue}\\n`;\n            });\n            healthReport += '\\n';\n          }\n\n          if (warnings.length > 0) {\n            healthReport += `**⚠️ Warnings (${warnings.length}):**\\n`;\n            warnings.forEach(warning => {\n              healthReport += `- ${warning}\\n`;\n            });\n            healthReport += '\\n';\n          }\n\n          if (args.includeRecommendations && recommendations.length > 0) {\n            healthReport += `**💡 Recommendations (${recommendations.length}):**\\n`;\n            recommendations.forEach(rec => {\n              healthReport += `- ${rec}\\n`;\n            });\n            healthReport += '\\n';\n          }\n\n          // Basic workflow info\n          healthReport += `**Workflow Details:**\\n`;\n          healthReport += `- Status: ${workflow.active ? '🟢 Active' : '🔴 Inactive'}\\n`;\n          healthReport += `- Nodes: ${workflow.nodes?.length || 0}\\n`;\n          healthReport += `- Tags: ${workflow.tags?.join(', ') || 'None'}\\n`;\n          if (workflow.updatedAt) {\n            healthReport += `- Last Modified: ${new Date(workflow.updatedAt).toLocaleString()}\\n`;\n          }\n          healthReport += '\\n';\n        }\n\n        return healthReport;\n      } catch (error: any) {\n        throw new UserError(`Failed to check workflow health: ${error.message}`);\n      }\n    },\n  });\n\n  // Create alert rules\n  server.addTool({\n    name: 'create-alert-rule',\n    description:\n      'Create custom alert rules for workflow monitoring based on performance thresholds and conditions',\n    parameters: AlertRuleSchema,\n    annotations: {\n      title: 'Create Alert Rule',\n      readOnlyHint: false,\n      destructiveHint: false,\n      idempotentHint: false,\n      openWorldHint: true,\n    },\n    execute: async (args: z.infer<typeof AlertRuleSchema>) => {\n      const client = getClient();\n      if (!client) {\n        throw new UserError('n8n client not initialized. Please run init-n8n first.');\n      }\n\n      try {\n        const workflow = await client.getWorkflow(args.workflowId);\n\n        // Create alert rule configuration\n        const alertRule = {\n          id: `alert_${Date.now()}`,\n          name: args.ruleName,\n          condition: args.condition,\n          threshold: args.threshold,\n          action: args.action,\n          actionConfig: args.actionConfig || {},\n          enabled: true,\n          createdAt: new Date().toISOString(),\n        };\n\n        // Get existing alert rules or initialize empty array\n        const currentSettings = workflow.settings || {};\n        const existingAlerts = Array.isArray(currentSettings.alertRules)\n          ? currentSettings.alertRules\n          : [];\n\n        // Add new alert rule\n        const updatedAlerts = [...existingAlerts, alertRule];\n\n        // Update workflow settings with new alert rules\n        await client.updateWorkflow(args.workflowId, {\n          settings: {\n            ...currentSettings,\n            alertRules: updatedAlerts,\n          },\n        });\n\n        // Generate threshold description\n        const thresholdDescription = {\n          'execution-time-exceeds': `execution time exceeds ${args.threshold} seconds`,\n          'error-rate-exceeds': `error rate exceeds ${args.threshold}%`,\n          'success-rate-below': `success rate falls below ${args.threshold}%`,\n          'consecutive-failures': `${args.threshold} consecutive failures occur`,\n        };\n\n        const actionDescription = {\n          email: 'send email notification',\n          webhook: 'trigger webhook',\n          'disable-workflow': 'automatically disable workflow',\n          'log-only': 'log to system logs only',\n        };\n\n        return (\n          `✅ Successfully created alert rule \"${args.ruleName}\" for workflow \"${workflow.name}\":\\n\\n` +\n          `**Alert Rule Configuration:**\\n` +\n          `- Rule ID: ${alertRule.id}\\n` +\n          `- Condition: When ${thresholdDescription[args.condition]}\\n` +\n          `- Action: ${actionDescription[args.action]}\\n` +\n          `- Status: ✅ Enabled\\n\\n` +\n          `**Action Configuration:**\\n\\`\\`\\`json\\n${JSON.stringify(args.actionConfig || {}, null, 2)}\\n\\`\\`\\`\\n\\n` +\n          `**Total Alert Rules:** ${updatedAlerts.length}\\n\\n` +\n          `**Note:** Alert rules are stored in workflow settings. In a production environment, you would implement monitoring services to actively check these conditions and trigger the specified actions.`\n        );\n      } catch (error: any) {\n        throw new UserError(`Failed to create alert rule: ${error.message}`);\n      }\n    },\n  });\n\n  // Get monitoring dashboard\n  server.addTool({\n    name: 'get-monitoring-dashboard',\n    description:\n      'Get a comprehensive monitoring dashboard with real-time status of workflows, alerts, and system health',\n    parameters: z.object({\n      includeInactive: z.boolean().optional().default(false),\n      timeframe: z.enum(['hour', 'day', 'week']).optional().default('day'),\n    }),\n    annotations: {\n      title: 'Get Monitoring Dashboard',\n      readOnlyHint: true,\n      destructiveHint: false,\n      idempotentHint: true,\n      openWorldHint: true,\n    },\n    execute: async (args: { includeInactive?: boolean; timeframe?: string }) => {\n      const client = getClient();\n      if (!client) {\n        throw new UserError('n8n client not initialized. Please run init-n8n first.');\n      }\n\n      try {\n        // Get all workflows\n        const workflowsResponse = await client.getWorkflows({ limit: 100 });\n        const allWorkflows = workflowsResponse.data;\n\n        const workflows = args.includeInactive ? allWorkflows : allWorkflows.filter(w => w.active);\n\n        // Get recent executions for all workflows\n        const now = new Date();\n        const timeframeDuration = {\n          hour: 1 * 60 * 60 * 1000,\n          day: 24 * 60 * 60 * 1000,\n          week: 7 * 24 * 60 * 60 * 1000,\n        };\n\n        const startTime = new Date(\n          now.getTime() - timeframeDuration[args.timeframe as keyof typeof timeframeDuration]\n        );\n\n        let dashboard = `# 📊 n8n Monitoring Dashboard\\n\\n`;\n        dashboard += `**Generated:** ${now.toLocaleString()}\\n`;\n        dashboard += `**Timeframe:** Last ${args.timeframe}\\n`;\n        dashboard += `**Update Frequency:** Real-time\\n\\n`;\n\n        // System overview\n        dashboard += `## 🖥️ System Overview\\n\\n`;\n        dashboard += `| Metric | Value |\\n`;\n        dashboard += `|--------|-------|\\n`;\n        dashboard += `| Total Workflows | ${allWorkflows.length} |\\n`;\n        dashboard += `| Active Workflows | ${allWorkflows.filter(w => w.active).length} |\\n`;\n        dashboard += `| Inactive Workflows | ${allWorkflows.filter(w => !w.active).length} |\\n`;\n\n        // Workflow status summary\n        let totalExecutions = 0;\n        let totalSuccessful = 0;\n        let totalFailed = 0;\n        let totalRunning = 0;\n        const workflowStatuses = [];\n\n        for (const workflow of workflows.slice(0, 10)) {\n          // Limit to 10 workflows for dashboard\n          try {\n            const executions = await client.getExecutions({\n              limit: 50,\n            });\n\n            const recentExecutions = executions.data.filter(\n              execution =>\n                execution.workflowId === workflow.id && new Date(execution.startedAt) >= startTime\n            );\n\n            const successful = recentExecutions.filter(e => e.status === 'success').length;\n            const failed = recentExecutions.filter(e => e.status === 'error').length;\n            const running = recentExecutions.filter(e => e.status === 'running').length;\n\n            totalExecutions += recentExecutions.length;\n            totalSuccessful += successful;\n            totalFailed += failed;\n            totalRunning += running;\n\n            const successRate =\n              recentExecutions.length > 0 ? (successful / recentExecutions.length) * 100 : 0;\n\n            const status =\n              successRate >= 95 ? '🟢' : successRate >= 90 ? '🟡' : successRate >= 70 ? '🟠' : '🔴';\n\n            workflowStatuses.push({\n              name: workflow.name,\n              status,\n              executions: recentExecutions.length,\n              successRate: successRate.toFixed(1),\n              running,\n            });\n          } catch (_error) {\n            // Skip workflows that can't be analyzed\n            continue;\n          }\n        }\n\n        // Add execution summary to system overview\n        const systemSuccessRate =\n          totalExecutions > 0 ? (totalSuccessful / totalExecutions) * 100 : 0;\n\n        dashboard += `| Total Executions (${args.timeframe}) | ${totalExecutions} |\\n`;\n        dashboard += `| Successful Executions | ${totalSuccessful} (${systemSuccessRate.toFixed(1)}%) |\\n`;\n        dashboard += `| Failed Executions | ${totalFailed} |\\n`;\n        dashboard += `| Running Executions | ${totalRunning} |\\n`;\n        dashboard += `| System Health | ${systemSuccessRate >= 95 ? '🟢 Excellent' : systemSuccessRate >= 90 ? '🟡 Good' : systemSuccessRate >= 70 ? '🟠 Fair' : '🔴 Poor'} |\\n\\n`;\n\n        // Workflow status table\n        if (workflowStatuses.length > 0) {\n          dashboard += `## 📋 Workflow Status\\n\\n`;\n          dashboard += `| Workflow | Status | Executions | Success Rate | Running |\\n`;\n          dashboard += `|----------|--------|------------|--------------|----------|\\n`;\n\n          workflowStatuses.forEach(ws => {\n            dashboard += `| ${ws.name} | ${ws.status} | ${ws.executions} | ${ws.successRate}% | ${ws.running} |\\n`;\n          });\n          dashboard += '\\n';\n        }\n\n        // Active alerts summary\n        dashboard += `## 🚨 Active Alerts\\n\\n`;\n        const workflowsWithAlerts = workflows.filter(w => {\n          const alertRules = w.settings?.alertRules;\n          return Array.isArray(alertRules) && alertRules.length > 0;\n        });\n\n        if (workflowsWithAlerts.length > 0) {\n          dashboard += `**Workflows with Alert Rules:** ${workflowsWithAlerts.length}\\n\\n`;\n          workflowsWithAlerts.forEach(workflow => {\n            const alertRules = workflow.settings?.alertRules;\n            const alertCount = Array.isArray(alertRules) ? alertRules.length : 0;\n            dashboard += `- **${workflow.name}**: ${alertCount} alert rule(s) configured\\n`;\n          });\n        } else {\n          dashboard += `No alert rules configured.\\n`;\n        }\n        dashboard += '\\n';\n\n        // Quick actions\n        dashboard += `## ⚡ Quick Actions\\n\\n`;\n        dashboard += `**Common Monitoring Tasks:**\\n`;\n        dashboard += `- Use \\`track-workflow-performance\\` to analyze specific workflow metrics\\n`;\n        dashboard += `- Use \\`check-workflow-health\\` to perform comprehensive health checks\\n`;\n        dashboard += `- Use \\`create-alert-rule\\` to set up automated monitoring alerts\\n`;\n        dashboard += `- Use \\`setup-error-notifications\\` to configure failure notifications\\n\\n`;\n\n        dashboard += `**System Recommendations:**\\n`;\n        if (systemSuccessRate < 90) {\n          dashboard += `- 🔴 System success rate is below 90% - investigate failing workflows\\n`;\n        }\n        if (totalRunning > 10) {\n          dashboard += `- ⚠️ High number of running executions - monitor for potential performance issues\\n`;\n        }\n        if (workflowsWithAlerts.length === 0) {\n          dashboard += `- 💡 No alert rules configured - consider setting up monitoring alerts\\n`;\n        }\n        if (totalExecutions === 0) {\n          dashboard += `- 📊 No recent executions - workflows may be inactive or not triggered\\n`;\n        }\n\n        return dashboard;\n      } catch (error: any) {\n        throw new UserError(`Failed to generate monitoring dashboard: ${error.message}`);\n      }\n    },\n  });\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}