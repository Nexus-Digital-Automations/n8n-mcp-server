{"version":3,"names":["cov_uydxqjgb0","actualCoverage","node_fetch_1","s","__importDefault","require","MonitoringClient","client","baseUrl","apiKey","constructor","f","replace","makeRequest","endpoint","options","b","url","headers","response","default","ok","errorText","text","Error","status","contentType","get","includes","json","error","message","getHealthCheck","performManualHealthCheck","startTime","Date","now","databaseStatus","databaseResponseTime","dbStart","getWorkflows","limit","filesystemStatus","filesystemPermissions","overallStatus","version","uptime","process","database","responseTime","filesystem","permissions","getMetrics","workflowsResponse","executionsResponse","Promise","all","getExecutions","workflows","data","executions","activeWorkflows","filter","w","active","workflowsWithIssues","nodes","length","successfulExecutions","e","finished","stoppedAt","failedExecutions","runningExecutions","executionTimes","startedAt","map","getTime","averageExecutionTime","reduce","sum","time","errorRate","oneHourAgo","recentExecutions","throughput","systemUsage","getSystemResourceUsage","timestamp","toISOString","total","successful","failed","running","waiting","inactive","withIssues","performance","system","getWorkflowDiagnostics","workflowId","workflow","getWorkflow","allExecutions","slice","issues","recommendations","push","id","executionTime","undefined","finishedExecutions","successRate","healthStatus","nodeAnalysis","node","name","type","disabled","averageTime","workflowName","health","memUsage","memoryUsage","cpuUsage","cpuPercent","user","cpu","totalUsage","Math","min","processUsage","loadAverage","platform","loadavg","coreCount","cpus","memory","totalMemory","totalmem","freeMemory","freemem","usedMemory","processMemory","heapUsed","heapTotal","external","rss","utilization","disk","totalSpace","freeSpace","usedSpace","network","bytesReceived","bytesSent","packetsReceived","packetsSent","testConnectivity","success","getSystemDiagnostics","healthCheck","connectivity","resolve","overall","apiConnectivity","resources","environment","nodeVersion","architecture","arch","exports"],"sources":["/Users/jeremyparker/Desktop/Claude Coding Projects/n8n-mcp-server/src/client/monitoringClient.ts"],"sourcesContent":["import fetch from 'node-fetch';\nimport { N8nClient } from './n8nClient.js';\nimport {\n  SystemResourceUsage,\n  WorkflowResourceUsage,\n  InstanceHealthMetrics,\n  MonitoringReport,\n  PerformanceAlert,\n  SystemDiagnostics,\n} from '../types/monitoringTypes.js';\n\nexport interface HealthCheckResponse {\n  status: 'healthy' | 'warning' | 'critical' | 'degraded';\n  version: string;\n  uptime: number;\n  database: {\n    status: 'connected' | 'disconnected' | 'error';\n    responseTime: number;\n  };\n  redis?: {\n    status: 'connected' | 'disconnected' | 'error';\n    responseTime: number;\n  };\n  filesystem: {\n    status: 'accessible' | 'error';\n    permissions: 'read-write' | 'read-only' | 'no-access';\n  };\n}\n\nexport interface MetricsResponse {\n  timestamp: string;\n  executions: {\n    total: number;\n    successful: number;\n    failed: number;\n    running: number;\n    waiting: number;\n  };\n  workflows: {\n    total: number;\n    active: number;\n    inactive: number;\n    withIssues: number;\n  };\n  performance: {\n    averageExecutionTime: number;\n    throughput: number; // executions per minute\n    errorRate: number;\n  };\n  system: SystemResourceUsage;\n}\n\nexport interface WorkflowDiagnosticsResponse {\n  workflowId: string;\n  workflowName: string;\n  health: {\n    status: 'healthy' | 'warning' | 'critical';\n    issues: string[];\n    recommendations: string[];\n  };\n  performance: {\n    averageExecutionTime: number;\n    successRate: number;\n    recentExecutions: Array<{\n      id: string;\n      status: string;\n      executionTime: number;\n      timestamp: string;\n      error?: string;\n    }>;\n  };\n  nodes: Array<{\n    id: string;\n    name: string;\n    type: string;\n    issues: string[];\n    performance: {\n      averageTime: number;\n      successRate: number;\n    };\n  }>;\n}\n\nexport class MonitoringClient {\n  constructor(\n    private client: N8nClient,\n    private baseUrl: string,\n    private apiKey: string\n  ) {\n    // Remove trailing slash if present\n    this.baseUrl = baseUrl.replace(/\\/$/, '');\n  }\n\n  private async makeRequest<T>(\n    endpoint: string,\n    options: Record<string, unknown> = {}\n  ): Promise<T> {\n    const url = `${this.baseUrl}/api/v1${endpoint}`;\n    const headers = {\n      'X-N8N-API-KEY': this.apiKey,\n      'Content-Type': 'application/json',\n      ...((options.headers as Record<string, string>) || {}),\n    };\n\n    try {\n      const response = await fetch(url, {\n        ...options,\n        headers,\n      } as any);\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`HTTP ${response.status}: ${errorText}`);\n      }\n\n      const contentType = response.headers.get('content-type') || '';\n      if (contentType.includes('application/json')) {\n        return (await response.json()) as T;\n      } else {\n        return (await response.text()) as unknown as T;\n      }\n    } catch (error) {\n      if (error instanceof Error) {\n        throw new Error(`Monitoring request failed: ${error.message}`);\n      }\n      throw new Error('Monitoring request failed with unknown error');\n    }\n  }\n\n  /**\n   * Get system health status\n   */\n  async getHealthCheck(): Promise<HealthCheckResponse> {\n    try {\n      // Try the standard n8n health endpoint\n      return await this.makeRequest<HealthCheckResponse>('/health');\n    } catch (error) {\n      // Fallback to manual health check using available endpoints\n      return await this.performManualHealthCheck();\n    }\n  }\n\n  /**\n   * Manual health check using available n8n API endpoints\n   */\n  private async performManualHealthCheck(): Promise<HealthCheckResponse> {\n    const startTime = Date.now();\n    let databaseStatus: 'connected' | 'disconnected' | 'error' = 'disconnected';\n    let databaseResponseTime = 0;\n\n    try {\n      // Test database connectivity by fetching workflows\n      const dbStart = Date.now();\n      await this.client.getWorkflows({ limit: 1 });\n      databaseResponseTime = Date.now() - dbStart;\n      databaseStatus = 'connected';\n    } catch (error) {\n      databaseStatus = 'error';\n      databaseResponseTime = Date.now() - startTime;\n    }\n\n    // Check filesystem access\n    let filesystemStatus: 'accessible' | 'error' = 'accessible';\n    let filesystemPermissions: 'read-write' | 'read-only' | 'no-access' = 'read-write';\n\n    try {\n      // This would typically check file system access\n      // For now, assume accessible if we can make API calls\n      if (databaseStatus === 'connected') {\n        filesystemStatus = 'accessible';\n        filesystemPermissions = 'read-write';\n      } else {\n        filesystemStatus = 'error';\n        filesystemPermissions = 'no-access';\n      }\n    } catch {\n      filesystemStatus = 'error';\n      filesystemPermissions = 'no-access';\n    }\n\n    // Determine overall status\n    let overallStatus: 'healthy' | 'warning' | 'critical' | 'degraded' = 'healthy';\n    if (databaseStatus === 'error' || filesystemStatus === 'error') {\n      overallStatus = 'critical';\n    } else if (databaseResponseTime > 1000) {\n      overallStatus = 'warning';\n    }\n\n    return {\n      status: overallStatus,\n      version: 'unknown', // Would need to be fetched from n8n API if available\n      uptime: process.uptime(),\n      database: {\n        status: databaseStatus,\n        responseTime: databaseResponseTime,\n      },\n      filesystem: {\n        status: filesystemStatus,\n        permissions: filesystemPermissions,\n      },\n    };\n  }\n\n  /**\n   * Get comprehensive system metrics\n   */\n  async getMetrics(): Promise<MetricsResponse> {\n    const startTime = Date.now();\n\n    try {\n      // Fetch data in parallel\n      const [workflowsResponse, executionsResponse] = await Promise.all([\n        this.client.getWorkflows({ limit: 1000 }), // Get all workflows for analysis\n        this.client.getExecutions({ limit: 100 }), // Get recent executions\n      ]);\n\n      // Extract data from API response wrappers\n      const workflows = workflowsResponse.data;\n      const executions = executionsResponse.data;\n\n      // Analyze workflow states\n      const activeWorkflows = workflows.filter(w => w.active);\n      const workflowsWithIssues = workflows.filter(w => !w.active && w.nodes && w.nodes.length === 0);\n\n      // Analyze execution stats\n      const successfulExecutions = executions.filter(e => e.finished && !e.stoppedAt);\n      const failedExecutions = executions.filter(e => e.finished && e.stoppedAt);\n      const runningExecutions = executions.filter(e => !e.finished);\n\n      // Calculate performance metrics\n      const executionTimes = executions\n        .filter(e => e.finished && e.startedAt && e.stoppedAt)\n        .map(e => new Date(e.stoppedAt!).getTime() - new Date(e.startedAt).getTime());\n\n      const averageExecutionTime = executionTimes.length > 0 \n        ? executionTimes.reduce((sum, time) => sum + time, 0) / executionTimes.length\n        : 0;\n\n      const errorRate = executions.length > 0 \n        ? (failedExecutions.length / executions.length) * 100 \n        : 0;\n\n      // Calculate throughput (executions per minute in last hour)\n      const oneHourAgo = new Date(Date.now() - 60 * 60 * 1000);\n      const recentExecutions = executions.filter(e => \n        new Date(e.startedAt) > oneHourAgo\n      );\n      const throughput = recentExecutions.length / 60; // per minute\n\n      // Get system resource usage\n      const systemUsage = this.getSystemResourceUsage();\n\n      return {\n        timestamp: new Date().toISOString(),\n        executions: {\n          total: executions.length,\n          successful: successfulExecutions.length,\n          failed: failedExecutions.length,\n          running: runningExecutions.length,\n          waiting: 0, // Would need to be calculated from queue if available\n        },\n        workflows: {\n          total: workflows.length,\n          active: activeWorkflows.length,\n          inactive: workflows.length - activeWorkflows.length,\n          withIssues: workflowsWithIssues.length,\n        },\n        performance: {\n          averageExecutionTime,\n          throughput,\n          errorRate,\n        },\n        system: systemUsage,\n      };\n    } catch (error) {\n      throw new Error(`Failed to get metrics: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  }\n\n  /**\n   * Get detailed workflow diagnostics\n   */\n  async getWorkflowDiagnostics(workflowId: string): Promise<WorkflowDiagnosticsResponse> {\n    try {\n      const [workflow, executionsResponse] = await Promise.all([\n        this.client.getWorkflow(workflowId),\n        this.client.getExecutions({ limit: 100 }), // Get more executions to filter by workflowId\n      ]);\n\n      // Extract executions data from API response wrapper and filter by workflowId\n      const allExecutions = executionsResponse.data;\n      const executions = allExecutions.filter(e => e.workflowId === workflowId).slice(0, 50);\n\n      // Analyze workflow health\n      const issues: string[] = [];\n      const recommendations: string[] = [];\n\n      if (!workflow.active) {\n        issues.push('Workflow is inactive');\n        recommendations.push('Consider activating the workflow if it should be running');\n      }\n\n      if (!workflow.nodes || workflow.nodes.length === 0) {\n        issues.push('Workflow has no nodes');\n        recommendations.push('Add nodes to define workflow logic');\n      }\n\n      // Analyze recent executions\n      const recentExecutions = executions.slice(0, 10).map(e => ({\n        id: e.id!,\n        status: e.finished ? (e.stoppedAt ? 'failed' : 'success') : 'running',\n        executionTime: e.finished && e.startedAt && e.stoppedAt \n          ? new Date(e.stoppedAt).getTime() - new Date(e.startedAt).getTime()\n          : 0,\n        timestamp: e.startedAt,\n        error: e.stoppedAt ? 'Execution stopped' : undefined,\n      }));\n\n      // Calculate success rate\n      const finishedExecutions = executions.filter(e => e.finished);\n      const successfulExecutions = finishedExecutions.filter(e => !e.stoppedAt);\n      const successRate = finishedExecutions.length > 0 \n        ? (successfulExecutions.length / finishedExecutions.length) * 100 \n        : 100;\n\n      // Calculate average execution time\n      const executionTimes = recentExecutions\n        .filter(e => e.status === 'success' && e.executionTime > 0)\n        .map(e => e.executionTime);\n      const averageExecutionTime = executionTimes.length > 0 \n        ? executionTimes.reduce((sum, time) => sum + time, 0) / executionTimes.length\n        : 0;\n\n      // Determine health status\n      let healthStatus: 'healthy' | 'warning' | 'critical' = 'healthy';\n      if (issues.length > 0 || successRate < 80) {\n        healthStatus = 'critical';\n      } else if (successRate < 95 || averageExecutionTime > 30000) {\n        healthStatus = 'warning';\n      }\n\n      // Analyze nodes\n      const nodeAnalysis = (workflow.nodes || []).map(node => ({\n        id: node.id,\n        name: node.name,\n        type: node.type,\n        issues: node.disabled ? ['Node is disabled'] : [],\n        performance: {\n          averageTime: 0, // Would need execution details to calculate\n          successRate: 100, // Would need execution details to calculate\n        },\n      }));\n\n      return {\n        workflowId: workflow.id!,\n        workflowName: workflow.name,\n        health: {\n          status: healthStatus,\n          issues,\n          recommendations,\n        },\n        performance: {\n          averageExecutionTime,\n          successRate,\n          recentExecutions,\n        },\n        nodes: nodeAnalysis,\n      };\n    } catch (error) {\n      throw new Error(`Failed to get workflow diagnostics: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  }\n\n  /**\n   * Get current system resource usage\n   */\n  getSystemResourceUsage(): SystemResourceUsage {\n    const memUsage = process.memoryUsage();\n    const cpuUsage = process.cpuUsage();\n    \n    // Convert CPU usage to percentage (simplified)\n    const cpuPercent = ((cpuUsage.user + cpuUsage.system) / 1000000) / process.uptime() * 100;\n\n    return {\n      cpu: {\n        totalUsage: Math.min(cpuPercent, 100), // Cap at 100%\n        processUsage: Math.min(cpuPercent, 100),\n        loadAverage: process.platform === 'win32' ? [0, 0, 0] : require('os').loadavg(),\n        coreCount: require('os').cpus().length,\n      },\n      memory: {\n        totalMemory: require('os').totalmem(),\n        freeMemory: require('os').freemem(),\n        usedMemory: require('os').totalmem() - require('os').freemem(),\n        processMemory: {\n          heapUsed: memUsage.heapUsed,\n          heapTotal: memUsage.heapTotal,\n          external: memUsage.external,\n          rss: memUsage.rss,\n        },\n        utilization: ((require('os').totalmem() - require('os').freemem()) / require('os').totalmem()) * 100,\n      },\n      disk: {\n        totalSpace: 0, // Would need filesystem API to get real values\n        freeSpace: 0,\n        usedSpace: 0,\n        utilization: 0,\n      },\n      network: {\n        bytesReceived: 0, // Would need network statistics\n        bytesSent: 0,\n        packetsReceived: 0,\n        packetsSent: 0,\n      },\n      uptime: process.uptime(),\n      timestamp: new Date().toISOString(),\n    };\n  }\n\n  /**\n   * Test connectivity to n8n instance\n   */\n  async testConnectivity(): Promise<{ success: boolean; responseTime: number; error?: string }> {\n    const startTime = Date.now();\n    \n    try {\n      await this.client.getWorkflows({ limit: 1 });\n      return {\n        success: true,\n        responseTime: Date.now() - startTime,\n      };\n    } catch (error) {\n      return {\n        success: false,\n        responseTime: Date.now() - startTime,\n        error: error instanceof Error ? error.message : 'Unknown error',\n      };\n    }\n  }\n\n  /**\n   * Get system diagnostics for troubleshooting\n   */\n  async getSystemDiagnostics(): Promise<SystemDiagnostics> {\n    const [healthCheck, connectivity, systemUsage] = await Promise.all([\n      this.getHealthCheck(),\n      this.testConnectivity(),\n      Promise.resolve(this.getSystemResourceUsage()),\n    ]);\n\n    const issues: string[] = [];\n    const recommendations: string[] = [];\n\n    // Analyze health issues\n    if (healthCheck.status === 'critical') {\n      issues.push('System health is critical');\n      recommendations.push('Check database connectivity and file system permissions');\n    }\n\n    if (!connectivity.success) {\n      issues.push(`API connectivity failed: ${connectivity.error}`);\n      recommendations.push('Verify n8n instance is running and API key is correct');\n    }\n\n    if (connectivity.responseTime > 1000) {\n      issues.push('High API response time detected');\n      recommendations.push('Check network connectivity and server performance');\n    }\n\n    // Analyze resource usage\n    if (systemUsage.memory.utilization > 85) {\n      issues.push('High memory utilization detected');\n      recommendations.push('Consider increasing available memory or optimizing workflows');\n    }\n\n    if (systemUsage.cpu.totalUsage > 80) {\n      issues.push('High CPU usage detected');\n      recommendations.push('Check for resource-intensive workflows or background processes');\n    }\n\n    return {\n      timestamp: new Date().toISOString(),\n      overall: {\n        status: healthCheck.status,\n        issues,\n        recommendations,\n      },\n      connectivity: {\n        apiConnectivity: connectivity.success,\n        responseTime: connectivity.responseTime,\n        error: connectivity.error,\n      },\n      resources: systemUsage,\n      environment: {\n        nodeVersion: process.version,\n        platform: process.platform,\n        architecture: process.arch,\n        uptime: process.uptime(),\n      },\n    };\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}