370c540e5563149aeaa0dce7c7e646af
/* istanbul ignore next */
function cov_17yms1qxbx() {
  var path = "/Users/jeremyparker/Desktop/Claude Coding Projects/n8n-mcp-server/src/auth/middleware.ts";
  var hash = "91418955aac3c7f3357f10f52b0de14e94e28bd2";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jeremyparker/Desktop/Claude Coding Projects/n8n-mcp-server/src/auth/middleware.ts",
    statementMap: {
      "0": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 24,
          column: 10
        }
      },
      "1": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 32,
          column: 91
        }
      },
      "2": {
        start: {
          line: 34,
          column: 8
        },
        end: {
          line: 34,
          column: 38
        }
      },
      "3": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 59,
          column: 10
        }
      },
      "4": {
        start: {
          line: 41,
          column: 12
        },
        end: {
          line: 58,
          column: 13
        }
      },
      "5": {
        start: {
          line: 42,
          column: 32
        },
        end: {
          line: 42,
          column: 66
        }
      },
      "6": {
        start: {
          line: 43,
          column: 35
        },
        end: {
          line: 43,
          column: 87
        }
      },
      "7": {
        start: {
          line: 44,
          column: 16
        },
        end: {
          line: 50,
          column: 17
        }
      },
      "8": {
        start: {
          line: 45,
          column: 20
        },
        end: {
          line: 47,
          column: 21
        }
      },
      "9": {
        start: {
          line: 46,
          column: 24
        },
        end: {
          line: 46,
          column: 70
        }
      },
      "10": {
        start: {
          line: 49,
          column: 20
        },
        end: {
          line: 49,
          column: 32
        }
      },
      "11": {
        start: {
          line: 51,
          column: 16
        },
        end: {
          line: 51,
          column: 39
        }
      },
      "12": {
        start: {
          line: 54,
          column: 16
        },
        end: {
          line: 56,
          column: 17
        }
      },
      "13": {
        start: {
          line: 55,
          column: 20
        },
        end: {
          line: 55,
          column: 32
        }
      },
      "14": {
        start: {
          line: 57,
          column: 16
        },
        end: {
          line: 57,
          column: 28
        }
      },
      "15": {
        start: {
          line: 66,
          column: 8
        },
        end: {
          line: 68,
          column: 9
        }
      },
      "16": {
        start: {
          line: 67,
          column: 12
        },
        end: {
          line: 67,
          column: 19
        }
      },
      "17": {
        start: {
          line: 70,
          column: 8
        },
        end: {
          line: 79,
          column: 9
        }
      },
      "18": {
        start: {
          line: 71,
          column: 31
        },
        end: {
          line: 71,
          column: 83
        }
      },
      "19": {
        start: {
          line: 72,
          column: 12
        },
        end: {
          line: 77,
          column: 13
        }
      },
      "20": {
        start: {
          line: 73,
          column: 16
        },
        end: {
          line: 75,
          column: 17
        }
      },
      "21": {
        start: {
          line: 74,
          column: 20
        },
        end: {
          line: 74,
          column: 66
        }
      },
      "22": {
        start: {
          line: 76,
          column: 16
        },
        end: {
          line: 76,
          column: 23
        }
      },
      "23": {
        start: {
          line: 78,
          column: 12
        },
        end: {
          line: 78,
          column: 43
        }
      },
      "24": {
        start: {
          line: 81,
          column: 26
        },
        end: {
          line: 81,
          column: 89
        }
      },
      "25": {
        start: {
          line: 82,
          column: 8
        },
        end: {
          line: 84,
          column: 9
        }
      },
      "26": {
        start: {
          line: 83,
          column: 12
        },
        end: {
          line: 83,
          column: 77
        }
      },
      "27": {
        start: {
          line: 91,
          column: 8
        },
        end: {
          line: 93,
          column: 9
        }
      },
      "28": {
        start: {
          line: 91,
          column: 56
        },
        end: {
          line: 91,
          column: 87
        }
      },
      "29": {
        start: {
          line: 92,
          column: 12
        },
        end: {
          line: 92,
          column: 19
        }
      },
      "30": {
        start: {
          line: 95,
          column: 8
        },
        end: {
          line: 104,
          column: 9
        }
      },
      "31": {
        start: {
          line: 96,
          column: 31
        },
        end: {
          line: 96,
          column: 83
        }
      },
      "32": {
        start: {
          line: 97,
          column: 12
        },
        end: {
          line: 102,
          column: 13
        }
      },
      "33": {
        start: {
          line: 98,
          column: 16
        },
        end: {
          line: 100,
          column: 17
        }
      },
      "34": {
        start: {
          line: 99,
          column: 20
        },
        end: {
          line: 99,
          column: 66
        }
      },
      "35": {
        start: {
          line: 101,
          column: 16
        },
        end: {
          line: 101,
          column: 23
        }
      },
      "36": {
        start: {
          line: 103,
          column: 12
        },
        end: {
          line: 103,
          column: 43
        }
      },
      "37": {
        start: {
          line: 106,
          column: 26
        },
        end: {
          line: 106,
          column: 96
        }
      },
      "38": {
        start: {
          line: 107,
          column: 8
        },
        end: {
          line: 109,
          column: 9
        }
      },
      "39": {
        start: {
          line: 108,
          column: 12
        },
        end: {
          line: 108,
          column: 80
        }
      },
      "40": {
        start: {
          line: 115,
          column: 8
        },
        end: {
          line: 119,
          column: 10
        }
      },
      "41": {
        start: {
          line: 125,
          column: 8
        },
        end: {
          line: 129,
          column: 11
        }
      },
      "42": {
        start: {
          line: 126,
          column: 28
        },
        end: {
          line: 126,
          column: 61
        }
      },
      "43": {
        start: {
          line: 127,
          column: 12
        },
        end: {
          line: 127,
          column: 58
        }
      },
      "44": {
        start: {
          line: 128,
          column: 12
        },
        end: {
          line: 128,
          column: 41
        }
      },
      "45": {
        start: {
          line: 135,
          column: 8
        },
        end: {
          line: 139,
          column: 11
        }
      },
      "46": {
        start: {
          line: 136,
          column: 28
        },
        end: {
          line: 136,
          column: 61
        }
      },
      "47": {
        start: {
          line: 137,
          column: 12
        },
        end: {
          line: 137,
          column: 65
        }
      },
      "48": {
        start: {
          line: 138,
          column: 12
        },
        end: {
          line: 138,
          column: 45
        }
      },
      "49": {
        start: {
          line: 146,
          column: 24
        },
        end: {
          line: 146,
          column: 45
        }
      },
      "50": {
        start: {
          line: 147,
          column: 8
        },
        end: {
          line: 153,
          column: 9
        }
      },
      "51": {
        start: {
          line: 148,
          column: 12
        },
        end: {
          line: 152,
          column: 14
        }
      },
      "52": {
        start: {
          line: 154,
          column: 8
        },
        end: {
          line: 157,
          column: 10
        }
      },
      "53": {
        start: {
          line: 164,
          column: 4
        },
        end: {
          line: 164,
          column: 45
        }
      },
      "54": {
        start: {
          line: 174,
          column: 4
        },
        end: {
          line: 182,
          column: 6
        }
      },
      "55": {
        start: {
          line: 175,
          column: 31
        },
        end: {
          line: 175,
          column: 47
        }
      },
      "56": {
        start: {
          line: 176,
          column: 8
        },
        end: {
          line: 180,
          column: 10
        }
      },
      "57": {
        start: {
          line: 178,
          column: 12
        },
        end: {
          line: 178,
          column: 73
        }
      },
      "58": {
        start: {
          line: 179,
          column: 12
        },
        end: {
          line: 179,
          column: 52
        }
      },
      "59": {
        start: {
          line: 181,
          column: 8
        },
        end: {
          line: 181,
          column: 26
        }
      },
      "60": {
        start: {
          line: 192,
          column: 4
        },
        end: {
          line: 200,
          column: 6
        }
      },
      "61": {
        start: {
          line: 193,
          column: 31
        },
        end: {
          line: 193,
          column: 47
        }
      },
      "62": {
        start: {
          line: 194,
          column: 8
        },
        end: {
          line: 198,
          column: 10
        }
      },
      "63": {
        start: {
          line: 196,
          column: 12
        },
        end: {
          line: 196,
          column: 68
        }
      },
      "64": {
        start: {
          line: 197,
          column: 12
        },
        end: {
          line: 197,
          column: 52
        }
      },
      "65": {
        start: {
          line: 199,
          column: 8
        },
        end: {
          line: 199,
          column: 26
        }
      },
      "66": {
        start: {
          line: 205,
          column: 31
        },
        end: {
          line: 218,
          column: 1
        }
      },
      "67": {
        start: {
          line: 223,
          column: 4
        },
        end: {
          line: 231,
          column: 6
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 24
          },
          end: {
            line: 25,
            column: 5
          }
        },
        line: 15
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 29,
            column: 4
          },
          end: {
            line: 29,
            column: 5
          }
        },
        loc: {
          start: {
            line: 29,
            column: 18
          },
          end: {
            line: 35,
            column: 5
          }
        },
        line: 29
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 39,
            column: 4
          },
          end: {
            line: 39,
            column: 5
          }
        },
        loc: {
          start: {
            line: 39,
            column: 33
          },
          end: {
            line: 60,
            column: 5
          }
        },
        line: 39
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 40,
            column: 15
          },
          end: {
            line: 40,
            column: 16
          }
        },
        loc: {
          start: {
            line: 40,
            column: 34
          },
          end: {
            line: 59,
            column: 9
          }
        },
        line: 40
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 64,
            column: 4
          },
          end: {
            line: 64,
            column: 5
          }
        },
        loc: {
          start: {
            line: 64,
            column: 45
          },
          end: {
            line: 85,
            column: 5
          }
        },
        line: 64
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 89,
            column: 4
          },
          end: {
            line: 89,
            column: 5
          }
        },
        loc: {
          start: {
            line: 89,
            column: 52
          },
          end: {
            line: 110,
            column: 5
          }
        },
        line: 89
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 91,
            column: 45
          },
          end: {
            line: 91,
            column: 46
          }
        },
        loc: {
          start: {
            line: 91,
            column: 56
          },
          end: {
            line: 91,
            column: 87
          }
        },
        line: 91
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 114,
            column: 4
          },
          end: {
            line: 114,
            column: 5
          }
        },
        loc: {
          start: {
            line: 114,
            column: 34
          },
          end: {
            line: 120,
            column: 5
          }
        },
        line: 114
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 124,
            column: 4
          },
          end: {
            line: 124,
            column: 5
          }
        },
        loc: {
          start: {
            line: 124,
            column: 37
          },
          end: {
            line: 130,
            column: 5
          }
        },
        line: 124
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 125,
            column: 16
          },
          end: {
            line: 125,
            column: 17
          }
        },
        loc: {
          start: {
            line: 125,
            column: 35
          },
          end: {
            line: 129,
            column: 9
          }
        },
        line: 125
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 134,
            column: 4
          },
          end: {
            line: 134,
            column: 5
          }
        },
        loc: {
          start: {
            line: 134,
            column: 48
          },
          end: {
            line: 140,
            column: 5
          }
        },
        line: 134
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 135,
            column: 16
          },
          end: {
            line: 135,
            column: 17
          }
        },
        loc: {
          start: {
            line: 135,
            column: 35
          },
          end: {
            line: 139,
            column: 9
          }
        },
        line: 135
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 144,
            column: 4
          },
          end: {
            line: 144,
            column: 5
          }
        },
        loc: {
          start: {
            line: 144,
            column: 33
          },
          end: {
            line: 158,
            column: 5
          }
        },
        line: 144
      },
      "13": {
        name: "createAuthMiddleware",
        decl: {
          start: {
            line: 163,
            column: 16
          },
          end: {
            line: 163,
            column: 36
          }
        },
        loc: {
          start: {
            line: 163,
            column: 45
          },
          end: {
            line: 165,
            column: 1
          }
        },
        line: 163
      },
      "14": {
        name: "requireAuth",
        decl: {
          start: {
            line: 173,
            column: 16
          },
          end: {
            line: 173,
            column: 27
          }
        },
        loc: {
          start: {
            line: 173,
            column: 38
          },
          end: {
            line: 183,
            column: 1
          }
        },
        line: 173
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 174,
            column: 11
          },
          end: {
            line: 174,
            column: 12
          }
        },
        loc: {
          start: {
            line: 174,
            column: 54
          },
          end: {
            line: 182,
            column: 5
          }
        },
        line: 174
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 176,
            column: 27
          },
          end: {
            line: 176,
            column: 28
          }
        },
        loc: {
          start: {
            line: 176,
            column: 52
          },
          end: {
            line: 180,
            column: 9
          }
        },
        line: 176
      },
      "17": {
        name: "requirePermission",
        decl: {
          start: {
            line: 191,
            column: 16
          },
          end: {
            line: 191,
            column: 33
          }
        },
        loc: {
          start: {
            line: 191,
            column: 46
          },
          end: {
            line: 201,
            column: 1
          }
        },
        line: 191
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 192,
            column: 11
          },
          end: {
            line: 192,
            column: 12
          }
        },
        loc: {
          start: {
            line: 192,
            column: 54
          },
          end: {
            line: 200,
            column: 5
          }
        },
        line: 192
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 194,
            column: 27
          },
          end: {
            line: 194,
            column: 28
          }
        },
        loc: {
          start: {
            line: 194,
            column: 52
          },
          end: {
            line: 198,
            column: 9
          }
        },
        line: 194
      },
      "20": {
        name: "parseAuthConfigFromEnv",
        decl: {
          start: {
            line: 222,
            column: 16
          },
          end: {
            line: 222,
            column: 38
          }
        },
        loc: {
          start: {
            line: 222,
            column: 53
          },
          end: {
            line: 232,
            column: 1
          }
        },
        line: 222
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 44,
            column: 16
          },
          end: {
            line: 50,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 44,
            column: 16
          },
          end: {
            line: 50,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 44
      },
      "1": {
        loc: {
          start: {
            line: 45,
            column: 20
          },
          end: {
            line: 47,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 45,
            column: 20
          },
          end: {
            line: 47,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 45
      },
      "2": {
        loc: {
          start: {
            line: 54,
            column: 16
          },
          end: {
            line: 56,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 54,
            column: 16
          },
          end: {
            line: 56,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 54
      },
      "3": {
        loc: {
          start: {
            line: 66,
            column: 8
          },
          end: {
            line: 68,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 66,
            column: 8
          },
          end: {
            line: 68,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 66
      },
      "4": {
        loc: {
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 79,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 79,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 70
      },
      "5": {
        loc: {
          start: {
            line: 72,
            column: 12
          },
          end: {
            line: 77,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 72,
            column: 12
          },
          end: {
            line: 77,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 72
      },
      "6": {
        loc: {
          start: {
            line: 73,
            column: 16
          },
          end: {
            line: 75,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 73,
            column: 16
          },
          end: {
            line: 75,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 73
      },
      "7": {
        loc: {
          start: {
            line: 82,
            column: 8
          },
          end: {
            line: 84,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 82,
            column: 8
          },
          end: {
            line: 84,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 82
      },
      "8": {
        loc: {
          start: {
            line: 91,
            column: 8
          },
          end: {
            line: 93,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 91,
            column: 8
          },
          end: {
            line: 93,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 91
      },
      "9": {
        loc: {
          start: {
            line: 95,
            column: 8
          },
          end: {
            line: 104,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 95,
            column: 8
          },
          end: {
            line: 104,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 95
      },
      "10": {
        loc: {
          start: {
            line: 97,
            column: 12
          },
          end: {
            line: 102,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 97,
            column: 12
          },
          end: {
            line: 102,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 97
      },
      "11": {
        loc: {
          start: {
            line: 98,
            column: 16
          },
          end: {
            line: 100,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 98,
            column: 16
          },
          end: {
            line: 100,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 98
      },
      "12": {
        loc: {
          start: {
            line: 107,
            column: 8
          },
          end: {
            line: 109,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 107,
            column: 8
          },
          end: {
            line: 109,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 107
      },
      "13": {
        loc: {
          start: {
            line: 116,
            column: 22
          },
          end: {
            line: 116,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 116,
            column: 22
          },
          end: {
            line: 116,
            column: 38
          }
        }, {
          start: {
            line: 116,
            column: 42
          },
          end: {
            line: 116,
            column: 52
          }
        }],
        line: 116
      },
      "14": {
        loc: {
          start: {
            line: 117,
            column: 21
          },
          end: {
            line: 117,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 117,
            column: 21
          },
          end: {
            line: 117,
            column: 36
          }
        }, {
          start: {
            line: 117,
            column: 40
          },
          end: {
            line: 117,
            column: 42
          }
        }],
        line: 117
      },
      "15": {
        loc: {
          start: {
            line: 118,
            column: 22
          },
          end: {
            line: 118,
            column: 44
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 118,
            column: 22
          },
          end: {
            line: 118,
            column: 38
          }
        }, {
          start: {
            line: 118,
            column: 42
          },
          end: {
            line: 118,
            column: 44
          }
        }],
        line: 118
      },
      "16": {
        loc: {
          start: {
            line: 147,
            column: 8
          },
          end: {
            line: 153,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 147,
            column: 8
          },
          end: {
            line: 153,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 147
      },
      "17": {
        loc: {
          start: {
            line: 147,
            column: 12
          },
          end: {
            line: 147,
            column: 69
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 147,
            column: 12
          },
          end: {
            line: 147,
            column: 19
          }
        }, {
          start: {
            line: 147,
            column: 23
          },
          end: {
            line: 147,
            column: 50
          }
        }, {
          start: {
            line: 147,
            column: 54
          },
          end: {
            line: 147,
            column: 69
          }
        }],
        line: 147
      },
      "18": {
        loc: {
          start: {
            line: 150,
            column: 25
          },
          end: {
            line: 150,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 150,
            column: 25
          },
          end: {
            line: 150,
            column: 40
          }
        }, {
          start: {
            line: 150,
            column: 44
          },
          end: {
            line: 150,
            column: 46
          }
        }],
        line: 150
      },
      "19": {
        loc: {
          start: {
            line: 151,
            column: 26
          },
          end: {
            line: 151,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 151,
            column: 26
          },
          end: {
            line: 151,
            column: 42
          }
        }, {
          start: {
            line: 151,
            column: 46
          },
          end: {
            line: 151,
            column: 48
          }
        }],
        line: 151
      },
      "20": {
        loc: {
          start: {
            line: 226,
            column: 21
          },
          end: {
            line: 226,
            column: 87
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 226,
            column: 21
          },
          end: {
            line: 226,
            column: 74
          }
        }, {
          start: {
            line: 226,
            column: 78
          },
          end: {
            line: 226,
            column: 87
          }
        }],
        line: 226
      },
      "21": {
        loc: {
          start: {
            line: 227,
            column: 25
          },
          end: {
            line: 227,
            column: 95
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 227,
            column: 25
          },
          end: {
            line: 227,
            column: 82
          }
        }, {
          start: {
            line: 227,
            column: 86
          },
          end: {
            line: 227,
            column: 95
          }
        }],
        line: 227
      },
      "22": {
        loc: {
          start: {
            line: 228,
            column: 20
          },
          end: {
            line: 228,
            column: 73
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 228,
            column: 20
          },
          end: {
            line: 228,
            column: 60
          }
        }, {
          start: {
            line: 228,
            column: 64
          },
          end: {
            line: 228,
            column: 73
          }
        }],
        line: 228
      },
      "23": {
        loc: {
          start: {
            line: 229,
            column: 26
          },
          end: {
            line: 229,
            column: 86
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 229,
            column: 26
          },
          end: {
            line: 229,
            column: 73
          }
        }, {
          start: {
            line: 229,
            column: 77
          },
          end: {
            line: 229,
            column: 86
          }
        }],
        line: 229
      },
      "24": {
        loc: {
          start: {
            line: 230,
            column: 27
          },
          end: {
            line: 230,
            column: 88
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 230,
            column: 27
          },
          end: {
            line: 230,
            column: 75
          }
        }, {
          start: {
            line: 230,
            column: 79
          },
          end: {
            line: 230,
            column: 88
          }
        }],
        line: 230
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0]
    },
    inputSourceMap: {
      file: "/Users/jeremyparker/Desktop/Claude Coding Projects/n8n-mcp-server/src/auth/middleware.ts",
      mappings: "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",
      names: [],
      sources: ["/Users/jeremyparker/Desktop/Claude Coding Projects/n8n-mcp-server/src/auth/middleware.ts"],
      sourcesContent: ["/**\n * FastMCP Authentication Middleware\n *\n * Provides authentication middleware for FastMCP server integration.\n * Handles authentication checking and access control for tools and resources.\n */\n\nimport { FastMCP } from 'fastmcp';\nimport { AuthProvider, RequestContext } from './authProvider.js';\n\n/**\n * Authentication middleware configuration\n */\nexport interface AuthMiddlewareConfig {\n  /** Authentication provider to use */\n  authProvider: AuthProvider;\n\n  /** Whether to require authentication for all requests */\n  requireAuth?: boolean;\n\n  /** Tools that bypass authentication (always allowed) */\n  publicTools?: string[];\n\n  /** Resources that bypass authentication (always allowed) */\n  publicResources?: string[];\n\n  /** Custom authentication header name */\n  authHeader?: string;\n\n  /** Error message for authentication failures */\n  authErrorMessage?: string;\n\n  /** Error message for authorization failures */\n  authzErrorMessage?: string;\n}\n\n/**\n * Authentication middleware for FastMCP\n *\n * Integrates with FastMCP server to provide authentication and authorization\n * for tool access and resource access.\n */\nexport class FastMCPAuthMiddleware {\n  private config: Required<AuthMiddlewareConfig>;\n\n  constructor(config: AuthMiddlewareConfig) {\n    this.config = {\n      requireAuth: false,\n      publicTools: ['init-n8n', 'status'],\n      publicResources: [],\n      authHeader: 'authorization',\n      authErrorMessage: 'Authentication required',\n      authzErrorMessage: 'Access denied',\n      ...config,\n    };\n  }\n\n  /**\n   * Apply authentication middleware to FastMCP server\n   */\n  public apply(server: FastMCP): void {\n    // Note: Current FastMCP version doesn't have built-in authentication\n    // Authentication will be handled at the tool level through wrapper functions\n    console.log('\uD83D\uDD10 Authentication middleware configured (tool-level implementation)');\n\n    // Store reference for tool wrapping\n    (server as any)._authMiddleware = this;\n  }\n\n  /**\n   * Create authentication function for FastMCP\n   */\n  private createAuthenticateFunction() {\n    return async (request: any) => {\n      try {\n        const context = this.createRequestContext(request);\n        const authResult = await this.config.authProvider.authenticate(context);\n\n        if (!authResult.success) {\n          if (this.config.requireAuth) {\n            throw new Error(this.config.authErrorMessage);\n          }\n          // Allow anonymous access if auth not required\n          return null;\n        }\n\n        return authResult.user;\n      } catch (error) {\n        if (this.config.requireAuth) {\n          throw error;\n        }\n        return null;\n      }\n    };\n  }\n\n  /**\n   * Check if tool access is allowed\n   */\n  public async checkToolAccess(toolName: string, context: RequestContext): Promise<void> {\n    // Public tools are always allowed\n    if (this.config.publicTools.includes(toolName)) {\n      return;\n    }\n\n    // Authenticate if not already done\n    if (!context.user) {\n      const authResult = await this.config.authProvider.authenticate(context);\n      if (!authResult.success) {\n        if (this.config.requireAuth) {\n          throw new Error(this.config.authErrorMessage);\n        }\n        return; // Allow anonymous access\n      }\n      context.user = authResult.user;\n    }\n\n    // Check tool access permissions\n    const hasAccess = await this.config.authProvider.canAccessTool(toolName, context);\n    if (!hasAccess) {\n      throw new Error(`${this.config.authzErrorMessage}: ${toolName}`);\n    }\n  }\n\n  /**\n   * Check if resource access is allowed\n   */\n  public async checkResourceAccess(resourceUri: string, context: RequestContext): Promise<void> {\n    // Public resources are always allowed\n    if (this.config.publicResources.some(pattern => resourceUri.startsWith(pattern))) {\n      return;\n    }\n\n    // Authenticate if not already done\n    if (!context.user) {\n      const authResult = await this.config.authProvider.authenticate(context);\n      if (!authResult.success) {\n        if (this.config.requireAuth) {\n          throw new Error(this.config.authErrorMessage);\n        }\n        return; // Allow anonymous access\n      }\n      context.user = authResult.user;\n    }\n\n    // Check resource access permissions\n    const hasAccess = await this.config.authProvider.canAccessResource(resourceUri, context);\n    if (!hasAccess) {\n      throw new Error(`${this.config.authzErrorMessage}: ${resourceUri}`);\n    }\n  }\n\n  /**\n   * Create request context from FastMCP request\n   */\n  private createRequestContext(request: any): RequestContext {\n    return {\n      clientId: request.clientId || request.id,\n      headers: request.headers || {},\n      metadata: request.metadata || {},\n    };\n  }\n\n  /**\n   * Wrap tool function with authentication\n   */\n  public wrapTool<T extends (...args: any[]) => any>(toolName: string, toolFunction: T): T {\n    return (async (...args: any[]) => {\n      const context = this.extractContextFromArgs(args);\n      await this.checkToolAccess(toolName, context);\n      return toolFunction(...args);\n    }) as T;\n  }\n\n  /**\n   * Wrap resource function with authentication\n   */\n  public wrapResource<T extends (...args: any[]) => any>(\n    resourceUri: string,\n    resourceFunction: T\n  ): T {\n    return (async (...args: any[]) => {\n      const context = this.extractContextFromArgs(args);\n      await this.checkResourceAccess(resourceUri, context);\n      return resourceFunction(...args);\n    }) as T;\n  }\n\n  /**\n   * Extract request context from function arguments\n   */\n  private extractContextFromArgs(args: any[]): RequestContext {\n    // Look for context in arguments (FastMCP typically passes context as last argument)\n    const lastArg = args[args.length - 1];\n    if (lastArg && typeof lastArg === 'object' && lastArg.session) {\n      return {\n        clientId: lastArg.session?.id,\n        headers: lastArg.headers || {},\n        metadata: lastArg.metadata || {},\n      };\n    }\n\n    return {\n      headers: {},\n      metadata: {},\n    };\n  }\n}\n\n/**\n * Create authentication middleware\n */\nexport function createAuthMiddleware(config: AuthMiddlewareConfig): FastMCPAuthMiddleware {\n  return new FastMCPAuthMiddleware(config);\n}\n\n/**\n * Authentication decorator for tools\n *\n * Usage:\n * @requireAuth('tool-name')\n * async function myTool() { ... }\n */\nexport function requireAuth(toolName: string) {\n  return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n    const originalMethod = descriptor.value;\n\n    descriptor.value = async function (...args: any[]) {\n      // This would be implemented with actual middleware instance\n      console.log(`\uD83D\uDD12 Authentication check for tool: ${toolName}`);\n      return originalMethod.apply(this, args);\n    };\n\n    return descriptor;\n  };\n}\n\n/**\n * Authorization decorator for tools with specific permissions\n *\n * Usage:\n * @requirePermission('workflows')\n * async function manageWorkflow() { ... }\n */\nexport function requirePermission(permission: string) {\n  return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n    const originalMethod = descriptor.value;\n\n    descriptor.value = async function (...args: any[]) {\n      // This would be implemented with actual middleware instance\n      console.log(`\uD83D\uDEE1\uFE0F  Permission check for: ${permission}`);\n      return originalMethod.apply(this, args);\n    };\n\n    return descriptor;\n  };\n}\n\n/**\n * Environment variable configuration for authentication middleware\n */\nexport const AUTH_ENV_CONFIG = {\n  /** Whether authentication is required */\n  REQUIRE_AUTH: 'N8N_MCP_REQUIRE_AUTH',\n\n  /** Public tools (comma-separated) */\n  PUBLIC_TOOLS: 'N8N_MCP_PUBLIC_TOOLS',\n\n  /** Public resources (comma-separated) */\n  PUBLIC_RESOURCES: 'N8N_MCP_PUBLIC_RESOURCES',\n\n  /** Custom auth header name */\n  AUTH_HEADER: 'N8N_MCP_AUTH_HEADER',\n\n  /** Custom auth error message */\n  AUTH_ERROR_MESSAGE: 'N8N_MCP_AUTH_ERROR_MESSAGE',\n\n  /** Custom authz error message */\n  AUTHZ_ERROR_MESSAGE: 'N8N_MCP_AUTHZ_ERROR_MESSAGE',\n} as const;\n\n/**\n * Parse authentication middleware configuration from environment\n */\nexport function parseAuthConfigFromEnv(authProvider: AuthProvider): AuthMiddlewareConfig {\n  return {\n    authProvider,\n    requireAuth: process.env[AUTH_ENV_CONFIG.REQUIRE_AUTH] === 'true',\n    publicTools: process.env[AUTH_ENV_CONFIG.PUBLIC_TOOLS]?.split(',') || undefined,\n    publicResources: process.env[AUTH_ENV_CONFIG.PUBLIC_RESOURCES]?.split(',') || undefined,\n    authHeader: process.env[AUTH_ENV_CONFIG.AUTH_HEADER] || undefined,\n    authErrorMessage: process.env[AUTH_ENV_CONFIG.AUTH_ERROR_MESSAGE] || undefined,\n    authzErrorMessage: process.env[AUTH_ENV_CONFIG.AUTHZ_ERROR_MESSAGE] || undefined,\n  };\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "91418955aac3c7f3357f10f52b0de14e94e28bd2"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_17yms1qxbx = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_17yms1qxbx();
/**
 * FastMCP Authentication Middleware
 *
 * Provides authentication middleware for FastMCP server integration.
 * Handles authentication checking and access control for tools and resources.
 */
/**
 * Authentication middleware for FastMCP
 *
 * Integrates with FastMCP server to provide authentication and authorization
 * for tool access and resource access.
 */
export class FastMCPAuthMiddleware {
  config;
  constructor(config) {
    /* istanbul ignore next */
    cov_17yms1qxbx().f[0]++;
    cov_17yms1qxbx().s[0]++;
    this.config = {
      requireAuth: false,
      publicTools: ['init-n8n', 'status'],
      publicResources: [],
      authHeader: 'authorization',
      authErrorMessage: 'Authentication required',
      authzErrorMessage: 'Access denied',
      ...config
    };
  }
  /**
   * Apply authentication middleware to FastMCP server
   */
  apply(server) {
    /* istanbul ignore next */
    cov_17yms1qxbx().f[1]++;
    cov_17yms1qxbx().s[1]++;
    // Note: Current FastMCP version doesn't have built-in authentication
    // Authentication will be handled at the tool level through wrapper functions
    console.log(' Authentication middleware configured (tool-level implementation)');
    // Store reference for tool wrapping
    /* istanbul ignore next */
    cov_17yms1qxbx().s[2]++;
    server._authMiddleware = this;
  }
  /**
   * Create authentication function for FastMCP
   */
  createAuthenticateFunction() {
    /* istanbul ignore next */
    cov_17yms1qxbx().f[2]++;
    cov_17yms1qxbx().s[3]++;
    return async request => {
      /* istanbul ignore next */
      cov_17yms1qxbx().f[3]++;
      cov_17yms1qxbx().s[4]++;
      try {
        const context =
        /* istanbul ignore next */
        (cov_17yms1qxbx().s[5]++, this.createRequestContext(request));
        const authResult =
        /* istanbul ignore next */
        (cov_17yms1qxbx().s[6]++, await this.config.authProvider.authenticate(context));
        /* istanbul ignore next */
        cov_17yms1qxbx().s[7]++;
        if (!authResult.success) {
          /* istanbul ignore next */
          cov_17yms1qxbx().b[0][0]++;
          cov_17yms1qxbx().s[8]++;
          if (this.config.requireAuth) {
            /* istanbul ignore next */
            cov_17yms1qxbx().b[1][0]++;
            cov_17yms1qxbx().s[9]++;
            throw new Error(this.config.authErrorMessage);
          } else
          /* istanbul ignore next */
          {
            cov_17yms1qxbx().b[1][1]++;
          }
          // Allow anonymous access if auth not required
          cov_17yms1qxbx().s[10]++;
          return null;
        } else
        /* istanbul ignore next */
        {
          cov_17yms1qxbx().b[0][1]++;
        }
        cov_17yms1qxbx().s[11]++;
        return authResult.user;
      } catch (error) {
        /* istanbul ignore next */
        cov_17yms1qxbx().s[12]++;
        if (this.config.requireAuth) {
          /* istanbul ignore next */
          cov_17yms1qxbx().b[2][0]++;
          cov_17yms1qxbx().s[13]++;
          throw error;
        } else
        /* istanbul ignore next */
        {
          cov_17yms1qxbx().b[2][1]++;
        }
        cov_17yms1qxbx().s[14]++;
        return null;
      }
    };
  }
  /**
   * Check if tool access is allowed
   */
  async checkToolAccess(toolName, context) {
    /* istanbul ignore next */
    cov_17yms1qxbx().f[4]++;
    cov_17yms1qxbx().s[15]++;
    // Public tools are always allowed
    if (this.config.publicTools.includes(toolName)) {
      /* istanbul ignore next */
      cov_17yms1qxbx().b[3][0]++;
      cov_17yms1qxbx().s[16]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_17yms1qxbx().b[3][1]++;
    }
    // Authenticate if not already done
    cov_17yms1qxbx().s[17]++;
    if (!context.user) {
      /* istanbul ignore next */
      cov_17yms1qxbx().b[4][0]++;
      const authResult =
      /* istanbul ignore next */
      (cov_17yms1qxbx().s[18]++, await this.config.authProvider.authenticate(context));
      /* istanbul ignore next */
      cov_17yms1qxbx().s[19]++;
      if (!authResult.success) {
        /* istanbul ignore next */
        cov_17yms1qxbx().b[5][0]++;
        cov_17yms1qxbx().s[20]++;
        if (this.config.requireAuth) {
          /* istanbul ignore next */
          cov_17yms1qxbx().b[6][0]++;
          cov_17yms1qxbx().s[21]++;
          throw new Error(this.config.authErrorMessage);
        } else
        /* istanbul ignore next */
        {
          cov_17yms1qxbx().b[6][1]++;
        }
        cov_17yms1qxbx().s[22]++;
        return; // Allow anonymous access
      } else
      /* istanbul ignore next */
      {
        cov_17yms1qxbx().b[5][1]++;
      }
      cov_17yms1qxbx().s[23]++;
      context.user = authResult.user;
    } else
    /* istanbul ignore next */
    {
      cov_17yms1qxbx().b[4][1]++;
    }
    // Check tool access permissions
    const hasAccess =
    /* istanbul ignore next */
    (cov_17yms1qxbx().s[24]++, await this.config.authProvider.canAccessTool(toolName, context));
    /* istanbul ignore next */
    cov_17yms1qxbx().s[25]++;
    if (!hasAccess) {
      /* istanbul ignore next */
      cov_17yms1qxbx().b[7][0]++;
      cov_17yms1qxbx().s[26]++;
      throw new Error(`${this.config.authzErrorMessage}: ${toolName}`);
    } else
    /* istanbul ignore next */
    {
      cov_17yms1qxbx().b[7][1]++;
    }
  }
  /**
   * Check if resource access is allowed
   */
  async checkResourceAccess(resourceUri, context) {
    /* istanbul ignore next */
    cov_17yms1qxbx().f[5]++;
    cov_17yms1qxbx().s[27]++;
    // Public resources are always allowed
    if (this.config.publicResources.some(pattern => {
      /* istanbul ignore next */
      cov_17yms1qxbx().f[6]++;
      cov_17yms1qxbx().s[28]++;
      return resourceUri.startsWith(pattern);
    })) {
      /* istanbul ignore next */
      cov_17yms1qxbx().b[8][0]++;
      cov_17yms1qxbx().s[29]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_17yms1qxbx().b[8][1]++;
    }
    // Authenticate if not already done
    cov_17yms1qxbx().s[30]++;
    if (!context.user) {
      /* istanbul ignore next */
      cov_17yms1qxbx().b[9][0]++;
      const authResult =
      /* istanbul ignore next */
      (cov_17yms1qxbx().s[31]++, await this.config.authProvider.authenticate(context));
      /* istanbul ignore next */
      cov_17yms1qxbx().s[32]++;
      if (!authResult.success) {
        /* istanbul ignore next */
        cov_17yms1qxbx().b[10][0]++;
        cov_17yms1qxbx().s[33]++;
        if (this.config.requireAuth) {
          /* istanbul ignore next */
          cov_17yms1qxbx().b[11][0]++;
          cov_17yms1qxbx().s[34]++;
          throw new Error(this.config.authErrorMessage);
        } else
        /* istanbul ignore next */
        {
          cov_17yms1qxbx().b[11][1]++;
        }
        cov_17yms1qxbx().s[35]++;
        return; // Allow anonymous access
      } else
      /* istanbul ignore next */
      {
        cov_17yms1qxbx().b[10][1]++;
      }
      cov_17yms1qxbx().s[36]++;
      context.user = authResult.user;
    } else
    /* istanbul ignore next */
    {
      cov_17yms1qxbx().b[9][1]++;
    }
    // Check resource access permissions
    const hasAccess =
    /* istanbul ignore next */
    (cov_17yms1qxbx().s[37]++, await this.config.authProvider.canAccessResource(resourceUri, context));
    /* istanbul ignore next */
    cov_17yms1qxbx().s[38]++;
    if (!hasAccess) {
      /* istanbul ignore next */
      cov_17yms1qxbx().b[12][0]++;
      cov_17yms1qxbx().s[39]++;
      throw new Error(`${this.config.authzErrorMessage}: ${resourceUri}`);
    } else
    /* istanbul ignore next */
    {
      cov_17yms1qxbx().b[12][1]++;
    }
  }
  /**
   * Create request context from FastMCP request
   */
  createRequestContext(request) {
    /* istanbul ignore next */
    cov_17yms1qxbx().f[7]++;
    cov_17yms1qxbx().s[40]++;
    return {
      clientId:
      /* istanbul ignore next */
      (cov_17yms1qxbx().b[13][0]++, request.clientId) ||
      /* istanbul ignore next */
      (cov_17yms1qxbx().b[13][1]++, request.id),
      headers:
      /* istanbul ignore next */
      (cov_17yms1qxbx().b[14][0]++, request.headers) ||
      /* istanbul ignore next */
      (cov_17yms1qxbx().b[14][1]++, {}),
      metadata:
      /* istanbul ignore next */
      (cov_17yms1qxbx().b[15][0]++, request.metadata) ||
      /* istanbul ignore next */
      (cov_17yms1qxbx().b[15][1]++, {})
    };
  }
  /**
   * Wrap tool function with authentication
   */
  wrapTool(toolName, toolFunction) {
    /* istanbul ignore next */
    cov_17yms1qxbx().f[8]++;
    cov_17yms1qxbx().s[41]++;
    return async (...args) => {
      /* istanbul ignore next */
      cov_17yms1qxbx().f[9]++;
      const context =
      /* istanbul ignore next */
      (cov_17yms1qxbx().s[42]++, this.extractContextFromArgs(args));
      /* istanbul ignore next */
      cov_17yms1qxbx().s[43]++;
      await this.checkToolAccess(toolName, context);
      /* istanbul ignore next */
      cov_17yms1qxbx().s[44]++;
      return toolFunction(...args);
    };
  }
  /**
   * Wrap resource function with authentication
   */
  wrapResource(resourceUri, resourceFunction) {
    /* istanbul ignore next */
    cov_17yms1qxbx().f[10]++;
    cov_17yms1qxbx().s[45]++;
    return async (...args) => {
      /* istanbul ignore next */
      cov_17yms1qxbx().f[11]++;
      const context =
      /* istanbul ignore next */
      (cov_17yms1qxbx().s[46]++, this.extractContextFromArgs(args));
      /* istanbul ignore next */
      cov_17yms1qxbx().s[47]++;
      await this.checkResourceAccess(resourceUri, context);
      /* istanbul ignore next */
      cov_17yms1qxbx().s[48]++;
      return resourceFunction(...args);
    };
  }
  /**
   * Extract request context from function arguments
   */
  extractContextFromArgs(args) {
    /* istanbul ignore next */
    cov_17yms1qxbx().f[12]++;
    // Look for context in arguments (FastMCP typically passes context as last argument)
    const lastArg =
    /* istanbul ignore next */
    (cov_17yms1qxbx().s[49]++, args[args.length - 1]);
    /* istanbul ignore next */
    cov_17yms1qxbx().s[50]++;
    if (
    /* istanbul ignore next */
    (cov_17yms1qxbx().b[17][0]++, lastArg) &&
    /* istanbul ignore next */
    (cov_17yms1qxbx().b[17][1]++, typeof lastArg === 'object') &&
    /* istanbul ignore next */
    (cov_17yms1qxbx().b[17][2]++, lastArg.session)) {
      /* istanbul ignore next */
      cov_17yms1qxbx().b[16][0]++;
      cov_17yms1qxbx().s[51]++;
      return {
        clientId: lastArg.session?.id,
        headers:
        /* istanbul ignore next */
        (cov_17yms1qxbx().b[18][0]++, lastArg.headers) ||
        /* istanbul ignore next */
        (cov_17yms1qxbx().b[18][1]++, {}),
        metadata:
        /* istanbul ignore next */
        (cov_17yms1qxbx().b[19][0]++, lastArg.metadata) ||
        /* istanbul ignore next */
        (cov_17yms1qxbx().b[19][1]++, {})
      };
    } else
    /* istanbul ignore next */
    {
      cov_17yms1qxbx().b[16][1]++;
    }
    cov_17yms1qxbx().s[52]++;
    return {
      headers: {},
      metadata: {}
    };
  }
}
/**
 * Create authentication middleware
 */
export function createAuthMiddleware(config) {
  /* istanbul ignore next */
  cov_17yms1qxbx().f[13]++;
  cov_17yms1qxbx().s[53]++;
  return new FastMCPAuthMiddleware(config);
}
/**
 * Authentication decorator for tools
 *
 * Usage:
 * @requireAuth('tool-name')
 * async function myTool() { ... }
 */
export function requireAuth(toolName) {
  /* istanbul ignore next */
  cov_17yms1qxbx().f[14]++;
  cov_17yms1qxbx().s[54]++;
  return function (target, propertyKey, descriptor) {
    /* istanbul ignore next */
    cov_17yms1qxbx().f[15]++;
    const originalMethod =
    /* istanbul ignore next */
    (cov_17yms1qxbx().s[55]++, descriptor.value);
    /* istanbul ignore next */
    cov_17yms1qxbx().s[56]++;
    descriptor.value = async function (...args) {
      /* istanbul ignore next */
      cov_17yms1qxbx().f[16]++;
      cov_17yms1qxbx().s[57]++;
      // This would be implemented with actual middleware instance
      console.log(` Authentication check for tool: ${toolName}`);
      /* istanbul ignore next */
      cov_17yms1qxbx().s[58]++;
      return originalMethod.apply(this, args);
    };
    /* istanbul ignore next */
    cov_17yms1qxbx().s[59]++;
    return descriptor;
  };
}
/**
 * Authorization decorator for tools with specific permissions
 *
 * Usage:
 * @requirePermission('workflows')
 * async function manageWorkflow() { ... }
 */
export function requirePermission(permission) {
  /* istanbul ignore next */
  cov_17yms1qxbx().f[17]++;
  cov_17yms1qxbx().s[60]++;
  return function (target, propertyKey, descriptor) {
    /* istanbul ignore next */
    cov_17yms1qxbx().f[18]++;
    const originalMethod =
    /* istanbul ignore next */
    (cov_17yms1qxbx().s[61]++, descriptor.value);
    /* istanbul ignore next */
    cov_17yms1qxbx().s[62]++;
    descriptor.value = async function (...args) {
      /* istanbul ignore next */
      cov_17yms1qxbx().f[19]++;
      cov_17yms1qxbx().s[63]++;
      // This would be implemented with actual middleware instance
      console.log(`  Permission check for: ${permission}`);
      /* istanbul ignore next */
      cov_17yms1qxbx().s[64]++;
      return originalMethod.apply(this, args);
    };
    /* istanbul ignore next */
    cov_17yms1qxbx().s[65]++;
    return descriptor;
  };
}
/**
 * Environment variable configuration for authentication middleware
 */
export const AUTH_ENV_CONFIG =
/* istanbul ignore next */
(cov_17yms1qxbx().s[66]++, {
  /** Whether authentication is required */
  REQUIRE_AUTH: 'N8N_MCP_REQUIRE_AUTH',
  /** Public tools (comma-separated) */
  PUBLIC_TOOLS: 'N8N_MCP_PUBLIC_TOOLS',
  /** Public resources (comma-separated) */
  PUBLIC_RESOURCES: 'N8N_MCP_PUBLIC_RESOURCES',
  /** Custom auth header name */
  AUTH_HEADER: 'N8N_MCP_AUTH_HEADER',
  /** Custom auth error message */
  AUTH_ERROR_MESSAGE: 'N8N_MCP_AUTH_ERROR_MESSAGE',
  /** Custom authz error message */
  AUTHZ_ERROR_MESSAGE: 'N8N_MCP_AUTHZ_ERROR_MESSAGE'
});
/**
 * Parse authentication middleware configuration from environment
 */
export function parseAuthConfigFromEnv(authProvider) {
  /* istanbul ignore next */
  cov_17yms1qxbx().f[20]++;
  cov_17yms1qxbx().s[67]++;
  return {
    authProvider,
    requireAuth: process.env[AUTH_ENV_CONFIG.REQUIRE_AUTH] === 'true',
    publicTools:
    /* istanbul ignore next */
    (cov_17yms1qxbx().b[20][0]++, process.env[AUTH_ENV_CONFIG.PUBLIC_TOOLS]?.split(',')) ||
    /* istanbul ignore next */
    (cov_17yms1qxbx().b[20][1]++, undefined),
    publicResources:
    /* istanbul ignore next */
    (cov_17yms1qxbx().b[21][0]++, process.env[AUTH_ENV_CONFIG.PUBLIC_RESOURCES]?.split(',')) ||
    /* istanbul ignore next */
    (cov_17yms1qxbx().b[21][1]++, undefined),
    authHeader:
    /* istanbul ignore next */
    (cov_17yms1qxbx().b[22][0]++, process.env[AUTH_ENV_CONFIG.AUTH_HEADER]) ||
    /* istanbul ignore next */
    (cov_17yms1qxbx().b[22][1]++, undefined),
    authErrorMessage:
    /* istanbul ignore next */
    (cov_17yms1qxbx().b[23][0]++, process.env[AUTH_ENV_CONFIG.AUTH_ERROR_MESSAGE]) ||
    /* istanbul ignore next */
    (cov_17yms1qxbx().b[23][1]++, undefined),
    authzErrorMessage:
    /* istanbul ignore next */
    (cov_17yms1qxbx().b[24][0]++, process.env[AUTH_ENV_CONFIG.AUTHZ_ERROR_MESSAGE]) ||
    /* istanbul ignore next */
    (cov_17yms1qxbx().b[24][1]++, undefined)
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTd5bXMxcXhieCIsImFjdHVhbENvdmVyYWdlIiwiRmFzdE1DUEF1dGhNaWRkbGV3YXJlIiwiY29uZmlnIiwiY29uc3RydWN0b3IiLCJmIiwicyIsInJlcXVpcmVBdXRoIiwicHVibGljVG9vbHMiLCJwdWJsaWNSZXNvdXJjZXMiLCJhdXRoSGVhZGVyIiwiYXV0aEVycm9yTWVzc2FnZSIsImF1dGh6RXJyb3JNZXNzYWdlIiwiYXBwbHkiLCJzZXJ2ZXIiLCJjb25zb2xlIiwibG9nIiwiX2F1dGhNaWRkbGV3YXJlIiwiY3JlYXRlQXV0aGVudGljYXRlRnVuY3Rpb24iLCJyZXF1ZXN0IiwiY29udGV4dCIsImNyZWF0ZVJlcXVlc3RDb250ZXh0IiwiYXV0aFJlc3VsdCIsImF1dGhQcm92aWRlciIsImF1dGhlbnRpY2F0ZSIsInN1Y2Nlc3MiLCJiIiwiRXJyb3IiLCJ1c2VyIiwiZXJyb3IiLCJjaGVja1Rvb2xBY2Nlc3MiLCJ0b29sTmFtZSIsImluY2x1ZGVzIiwiaGFzQWNjZXNzIiwiY2FuQWNjZXNzVG9vbCIsImNoZWNrUmVzb3VyY2VBY2Nlc3MiLCJyZXNvdXJjZVVyaSIsInNvbWUiLCJwYXR0ZXJuIiwic3RhcnRzV2l0aCIsImNhbkFjY2Vzc1Jlc291cmNlIiwiY2xpZW50SWQiLCJpZCIsImhlYWRlcnMiLCJtZXRhZGF0YSIsIndyYXBUb29sIiwidG9vbEZ1bmN0aW9uIiwiYXJncyIsImV4dHJhY3RDb250ZXh0RnJvbUFyZ3MiLCJ3cmFwUmVzb3VyY2UiLCJyZXNvdXJjZUZ1bmN0aW9uIiwibGFzdEFyZyIsImxlbmd0aCIsInNlc3Npb24iLCJjcmVhdGVBdXRoTWlkZGxld2FyZSIsInRhcmdldCIsInByb3BlcnR5S2V5IiwiZGVzY3JpcHRvciIsIm9yaWdpbmFsTWV0aG9kIiwidmFsdWUiLCJyZXF1aXJlUGVybWlzc2lvbiIsInBlcm1pc3Npb24iLCJBVVRIX0VOVl9DT05GSUciLCJSRVFVSVJFX0FVVEgiLCJQVUJMSUNfVE9PTFMiLCJQVUJMSUNfUkVTT1VSQ0VTIiwiQVVUSF9IRUFERVIiLCJBVVRIX0VSUk9SX01FU1NBR0UiLCJBVVRIWl9FUlJPUl9NRVNTQUdFIiwicGFyc2VBdXRoQ29uZmlnRnJvbUVudiIsInByb2Nlc3MiLCJlbnYiLCJzcGxpdCIsInVuZGVmaW5lZCJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9qZXJlbXlwYXJrZXIvRGVza3RvcC9DbGF1ZGUgQ29kaW5nIFByb2plY3RzL244bi1tY3Atc2VydmVyL3NyYy9hdXRoL21pZGRsZXdhcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGYXN0TUNQIEF1dGhlbnRpY2F0aW9uIE1pZGRsZXdhcmVcbiAqXG4gKiBQcm92aWRlcyBhdXRoZW50aWNhdGlvbiBtaWRkbGV3YXJlIGZvciBGYXN0TUNQIHNlcnZlciBpbnRlZ3JhdGlvbi5cbiAqIEhhbmRsZXMgYXV0aGVudGljYXRpb24gY2hlY2tpbmcgYW5kIGFjY2VzcyBjb250cm9sIGZvciB0b29scyBhbmQgcmVzb3VyY2VzLlxuICovXG5cbmltcG9ydCB7IEZhc3RNQ1AgfSBmcm9tICdmYXN0bWNwJztcbmltcG9ydCB7IEF1dGhQcm92aWRlciwgUmVxdWVzdENvbnRleHQgfSBmcm9tICcuL2F1dGhQcm92aWRlci5qcyc7XG5cbi8qKlxuICogQXV0aGVudGljYXRpb24gbWlkZGxld2FyZSBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXV0aE1pZGRsZXdhcmVDb25maWcge1xuICAvKiogQXV0aGVudGljYXRpb24gcHJvdmlkZXIgdG8gdXNlICovXG4gIGF1dGhQcm92aWRlcjogQXV0aFByb3ZpZGVyO1xuXG4gIC8qKiBXaGV0aGVyIHRvIHJlcXVpcmUgYXV0aGVudGljYXRpb24gZm9yIGFsbCByZXF1ZXN0cyAqL1xuICByZXF1aXJlQXV0aD86IGJvb2xlYW47XG5cbiAgLyoqIFRvb2xzIHRoYXQgYnlwYXNzIGF1dGhlbnRpY2F0aW9uIChhbHdheXMgYWxsb3dlZCkgKi9cbiAgcHVibGljVG9vbHM/OiBzdHJpbmdbXTtcblxuICAvKiogUmVzb3VyY2VzIHRoYXQgYnlwYXNzIGF1dGhlbnRpY2F0aW9uIChhbHdheXMgYWxsb3dlZCkgKi9cbiAgcHVibGljUmVzb3VyY2VzPzogc3RyaW5nW107XG5cbiAgLyoqIEN1c3RvbSBhdXRoZW50aWNhdGlvbiBoZWFkZXIgbmFtZSAqL1xuICBhdXRoSGVhZGVyPzogc3RyaW5nO1xuXG4gIC8qKiBFcnJvciBtZXNzYWdlIGZvciBhdXRoZW50aWNhdGlvbiBmYWlsdXJlcyAqL1xuICBhdXRoRXJyb3JNZXNzYWdlPzogc3RyaW5nO1xuXG4gIC8qKiBFcnJvciBtZXNzYWdlIGZvciBhdXRob3JpemF0aW9uIGZhaWx1cmVzICovXG4gIGF1dGh6RXJyb3JNZXNzYWdlPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEF1dGhlbnRpY2F0aW9uIG1pZGRsZXdhcmUgZm9yIEZhc3RNQ1BcbiAqXG4gKiBJbnRlZ3JhdGVzIHdpdGggRmFzdE1DUCBzZXJ2ZXIgdG8gcHJvdmlkZSBhdXRoZW50aWNhdGlvbiBhbmQgYXV0aG9yaXphdGlvblxuICogZm9yIHRvb2wgYWNjZXNzIGFuZCByZXNvdXJjZSBhY2Nlc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBGYXN0TUNQQXV0aE1pZGRsZXdhcmUge1xuICBwcml2YXRlIGNvbmZpZzogUmVxdWlyZWQ8QXV0aE1pZGRsZXdhcmVDb25maWc+O1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQXV0aE1pZGRsZXdhcmVDb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIHJlcXVpcmVBdXRoOiBmYWxzZSxcbiAgICAgIHB1YmxpY1Rvb2xzOiBbJ2luaXQtbjhuJywgJ3N0YXR1cyddLFxuICAgICAgcHVibGljUmVzb3VyY2VzOiBbXSxcbiAgICAgIGF1dGhIZWFkZXI6ICdhdXRob3JpemF0aW9uJyxcbiAgICAgIGF1dGhFcnJvck1lc3NhZ2U6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcsXG4gICAgICBhdXRoekVycm9yTWVzc2FnZTogJ0FjY2VzcyBkZW5pZWQnLFxuICAgICAgLi4uY29uZmlnLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYXV0aGVudGljYXRpb24gbWlkZGxld2FyZSB0byBGYXN0TUNQIHNlcnZlclxuICAgKi9cbiAgcHVibGljIGFwcGx5KHNlcnZlcjogRmFzdE1DUCk6IHZvaWQge1xuICAgIC8vIE5vdGU6IEN1cnJlbnQgRmFzdE1DUCB2ZXJzaW9uIGRvZXNuJ3QgaGF2ZSBidWlsdC1pbiBhdXRoZW50aWNhdGlvblxuICAgIC8vIEF1dGhlbnRpY2F0aW9uIHdpbGwgYmUgaGFuZGxlZCBhdCB0aGUgdG9vbCBsZXZlbCB0aHJvdWdoIHdyYXBwZXIgZnVuY3Rpb25zXG4gICAgY29uc29sZS5sb2coJ/CflJAgQXV0aGVudGljYXRpb24gbWlkZGxld2FyZSBjb25maWd1cmVkICh0b29sLWxldmVsIGltcGxlbWVudGF0aW9uKScpO1xuXG4gICAgLy8gU3RvcmUgcmVmZXJlbmNlIGZvciB0b29sIHdyYXBwaW5nXG4gICAgKHNlcnZlciBhcyBhbnkpLl9hdXRoTWlkZGxld2FyZSA9IHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGF1dGhlbnRpY2F0aW9uIGZ1bmN0aW9uIGZvciBGYXN0TUNQXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZUF1dGhlbnRpY2F0ZUZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBhc3luYyAocmVxdWVzdDogYW55KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jcmVhdGVSZXF1ZXN0Q29udGV4dChyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgYXV0aFJlc3VsdCA9IGF3YWl0IHRoaXMuY29uZmlnLmF1dGhQcm92aWRlci5hdXRoZW50aWNhdGUoY29udGV4dCk7XG5cbiAgICAgICAgaWYgKCFhdXRoUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBpZiAodGhpcy5jb25maWcucmVxdWlyZUF1dGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih0aGlzLmNvbmZpZy5hdXRoRXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQWxsb3cgYW5vbnltb3VzIGFjY2VzcyBpZiBhdXRoIG5vdCByZXF1aXJlZFxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF1dGhSZXN1bHQudXNlcjtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5yZXF1aXJlQXV0aCkge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdG9vbCBhY2Nlc3MgaXMgYWxsb3dlZFxuICAgKi9cbiAgcHVibGljIGFzeW5jIGNoZWNrVG9vbEFjY2Vzcyh0b29sTmFtZTogc3RyaW5nLCBjb250ZXh0OiBSZXF1ZXN0Q29udGV4dCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIFB1YmxpYyB0b29scyBhcmUgYWx3YXlzIGFsbG93ZWRcbiAgICBpZiAodGhpcy5jb25maWcucHVibGljVG9vbHMuaW5jbHVkZXModG9vbE5hbWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQXV0aGVudGljYXRlIGlmIG5vdCBhbHJlYWR5IGRvbmVcbiAgICBpZiAoIWNvbnRleHQudXNlcikge1xuICAgICAgY29uc3QgYXV0aFJlc3VsdCA9IGF3YWl0IHRoaXMuY29uZmlnLmF1dGhQcm92aWRlci5hdXRoZW50aWNhdGUoY29udGV4dCk7XG4gICAgICBpZiAoIWF1dGhSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBpZiAodGhpcy5jb25maWcucmVxdWlyZUF1dGgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGhpcy5jb25maWcuYXV0aEVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuOyAvLyBBbGxvdyBhbm9ueW1vdXMgYWNjZXNzXG4gICAgICB9XG4gICAgICBjb250ZXh0LnVzZXIgPSBhdXRoUmVzdWx0LnVzZXI7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgdG9vbCBhY2Nlc3MgcGVybWlzc2lvbnNcbiAgICBjb25zdCBoYXNBY2Nlc3MgPSBhd2FpdCB0aGlzLmNvbmZpZy5hdXRoUHJvdmlkZXIuY2FuQWNjZXNzVG9vbCh0b29sTmFtZSwgY29udGV4dCk7XG4gICAgaWYgKCFoYXNBY2Nlc3MpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJHt0aGlzLmNvbmZpZy5hdXRoekVycm9yTWVzc2FnZX06ICR7dG9vbE5hbWV9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHJlc291cmNlIGFjY2VzcyBpcyBhbGxvd2VkXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgY2hlY2tSZXNvdXJjZUFjY2VzcyhyZXNvdXJjZVVyaTogc3RyaW5nLCBjb250ZXh0OiBSZXF1ZXN0Q29udGV4dCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIFB1YmxpYyByZXNvdXJjZXMgYXJlIGFsd2F5cyBhbGxvd2VkXG4gICAgaWYgKHRoaXMuY29uZmlnLnB1YmxpY1Jlc291cmNlcy5zb21lKHBhdHRlcm4gPT4gcmVzb3VyY2VVcmkuc3RhcnRzV2l0aChwYXR0ZXJuKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBdXRoZW50aWNhdGUgaWYgbm90IGFscmVhZHkgZG9uZVxuICAgIGlmICghY29udGV4dC51c2VyKSB7XG4gICAgICBjb25zdCBhdXRoUmVzdWx0ID0gYXdhaXQgdGhpcy5jb25maWcuYXV0aFByb3ZpZGVyLmF1dGhlbnRpY2F0ZShjb250ZXh0KTtcbiAgICAgIGlmICghYXV0aFJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5yZXF1aXJlQXV0aCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcih0aGlzLmNvbmZpZy5hdXRoRXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47IC8vIEFsbG93IGFub255bW91cyBhY2Nlc3NcbiAgICAgIH1cbiAgICAgIGNvbnRleHQudXNlciA9IGF1dGhSZXN1bHQudXNlcjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayByZXNvdXJjZSBhY2Nlc3MgcGVybWlzc2lvbnNcbiAgICBjb25zdCBoYXNBY2Nlc3MgPSBhd2FpdCB0aGlzLmNvbmZpZy5hdXRoUHJvdmlkZXIuY2FuQWNjZXNzUmVzb3VyY2UocmVzb3VyY2VVcmksIGNvbnRleHQpO1xuICAgIGlmICghaGFzQWNjZXNzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dGhpcy5jb25maWcuYXV0aHpFcnJvck1lc3NhZ2V9OiAke3Jlc291cmNlVXJpfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgcmVxdWVzdCBjb250ZXh0IGZyb20gRmFzdE1DUCByZXF1ZXN0XG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZVJlcXVlc3RDb250ZXh0KHJlcXVlc3Q6IGFueSk6IFJlcXVlc3RDb250ZXh0IHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xpZW50SWQ6IHJlcXVlc3QuY2xpZW50SWQgfHwgcmVxdWVzdC5pZCxcbiAgICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyB8fCB7fSxcbiAgICAgIG1ldGFkYXRhOiByZXF1ZXN0Lm1ldGFkYXRhIHx8IHt9LFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogV3JhcCB0b29sIGZ1bmN0aW9uIHdpdGggYXV0aGVudGljYXRpb25cbiAgICovXG4gIHB1YmxpYyB3cmFwVG9vbDxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KHRvb2xOYW1lOiBzdHJpbmcsIHRvb2xGdW5jdGlvbjogVCk6IFQge1xuICAgIHJldHVybiAoYXN5bmMgKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5leHRyYWN0Q29udGV4dEZyb21BcmdzKGFyZ3MpO1xuICAgICAgYXdhaXQgdGhpcy5jaGVja1Rvb2xBY2Nlc3ModG9vbE5hbWUsIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIHRvb2xGdW5jdGlvbiguLi5hcmdzKTtcbiAgICB9KSBhcyBUO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyYXAgcmVzb3VyY2UgZnVuY3Rpb24gd2l0aCBhdXRoZW50aWNhdGlvblxuICAgKi9cbiAgcHVibGljIHdyYXBSZXNvdXJjZTxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KFxuICAgIHJlc291cmNlVXJpOiBzdHJpbmcsXG4gICAgcmVzb3VyY2VGdW5jdGlvbjogVFxuICApOiBUIHtcbiAgICByZXR1cm4gKGFzeW5jICguLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuZXh0cmFjdENvbnRleHRGcm9tQXJncyhhcmdzKTtcbiAgICAgIGF3YWl0IHRoaXMuY2hlY2tSZXNvdXJjZUFjY2VzcyhyZXNvdXJjZVVyaSwgY29udGV4dCk7XG4gICAgICByZXR1cm4gcmVzb3VyY2VGdW5jdGlvbiguLi5hcmdzKTtcbiAgICB9KSBhcyBUO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3QgcmVxdWVzdCBjb250ZXh0IGZyb20gZnVuY3Rpb24gYXJndW1lbnRzXG4gICAqL1xuICBwcml2YXRlIGV4dHJhY3RDb250ZXh0RnJvbUFyZ3MoYXJnczogYW55W10pOiBSZXF1ZXN0Q29udGV4dCB7XG4gICAgLy8gTG9vayBmb3IgY29udGV4dCBpbiBhcmd1bWVudHMgKEZhc3RNQ1AgdHlwaWNhbGx5IHBhc3NlcyBjb250ZXh0IGFzIGxhc3QgYXJndW1lbnQpXG4gICAgY29uc3QgbGFzdEFyZyA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICBpZiAobGFzdEFyZyAmJiB0eXBlb2YgbGFzdEFyZyA9PT0gJ29iamVjdCcgJiYgbGFzdEFyZy5zZXNzaW9uKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjbGllbnRJZDogbGFzdEFyZy5zZXNzaW9uPy5pZCxcbiAgICAgICAgaGVhZGVyczogbGFzdEFyZy5oZWFkZXJzIHx8IHt9LFxuICAgICAgICBtZXRhZGF0YTogbGFzdEFyZy5tZXRhZGF0YSB8fCB7fSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgbWV0YWRhdGE6IHt9LFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYXV0aGVudGljYXRpb24gbWlkZGxld2FyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXV0aE1pZGRsZXdhcmUoY29uZmlnOiBBdXRoTWlkZGxld2FyZUNvbmZpZyk6IEZhc3RNQ1BBdXRoTWlkZGxld2FyZSB7XG4gIHJldHVybiBuZXcgRmFzdE1DUEF1dGhNaWRkbGV3YXJlKGNvbmZpZyk7XG59XG5cbi8qKlxuICogQXV0aGVudGljYXRpb24gZGVjb3JhdG9yIGZvciB0b29sc1xuICpcbiAqIFVzYWdlOlxuICogQHJlcXVpcmVBdXRoKCd0b29sLW5hbWUnKVxuICogYXN5bmMgZnVuY3Rpb24gbXlUb29sKCkgeyAuLi4gfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZUF1dGgodG9vbE5hbWU6IHN0cmluZykge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpIHtcbiAgICBjb25zdCBvcmlnaW5hbE1ldGhvZCA9IGRlc2NyaXB0b3IudmFsdWU7XG5cbiAgICBkZXNjcmlwdG9yLnZhbHVlID0gYXN5bmMgZnVuY3Rpb24gKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAvLyBUaGlzIHdvdWxkIGJlIGltcGxlbWVudGVkIHdpdGggYWN0dWFsIG1pZGRsZXdhcmUgaW5zdGFuY2VcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SSIEF1dGhlbnRpY2F0aW9uIGNoZWNrIGZvciB0b29sOiAke3Rvb2xOYW1lfWApO1xuICAgICAgcmV0dXJuIG9yaWdpbmFsTWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG5cbiAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgfTtcbn1cblxuLyoqXG4gKiBBdXRob3JpemF0aW9uIGRlY29yYXRvciBmb3IgdG9vbHMgd2l0aCBzcGVjaWZpYyBwZXJtaXNzaW9uc1xuICpcbiAqIFVzYWdlOlxuICogQHJlcXVpcmVQZXJtaXNzaW9uKCd3b3JrZmxvd3MnKVxuICogYXN5bmMgZnVuY3Rpb24gbWFuYWdlV29ya2Zsb3coKSB7IC4uLiB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXF1aXJlUGVybWlzc2lvbihwZXJtaXNzaW9uOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSB7XG4gICAgY29uc3Qgb3JpZ2luYWxNZXRob2QgPSBkZXNjcmlwdG9yLnZhbHVlO1xuXG4gICAgZGVzY3JpcHRvci52YWx1ZSA9IGFzeW5jIGZ1bmN0aW9uICguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgLy8gVGhpcyB3b3VsZCBiZSBpbXBsZW1lbnRlZCB3aXRoIGFjdHVhbCBtaWRkbGV3YXJlIGluc3RhbmNlXG4gICAgICBjb25zb2xlLmxvZyhg8J+boe+4jyAgUGVybWlzc2lvbiBjaGVjayBmb3I6ICR7cGVybWlzc2lvbn1gKTtcbiAgICAgIHJldHVybiBvcmlnaW5hbE1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gIH07XG59XG5cbi8qKlxuICogRW52aXJvbm1lbnQgdmFyaWFibGUgY29uZmlndXJhdGlvbiBmb3IgYXV0aGVudGljYXRpb24gbWlkZGxld2FyZVxuICovXG5leHBvcnQgY29uc3QgQVVUSF9FTlZfQ09ORklHID0ge1xuICAvKiogV2hldGhlciBhdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCAqL1xuICBSRVFVSVJFX0FVVEg6ICdOOE5fTUNQX1JFUVVJUkVfQVVUSCcsXG5cbiAgLyoqIFB1YmxpYyB0b29scyAoY29tbWEtc2VwYXJhdGVkKSAqL1xuICBQVUJMSUNfVE9PTFM6ICdOOE5fTUNQX1BVQkxJQ19UT09MUycsXG5cbiAgLyoqIFB1YmxpYyByZXNvdXJjZXMgKGNvbW1hLXNlcGFyYXRlZCkgKi9cbiAgUFVCTElDX1JFU09VUkNFUzogJ044Tl9NQ1BfUFVCTElDX1JFU09VUkNFUycsXG5cbiAgLyoqIEN1c3RvbSBhdXRoIGhlYWRlciBuYW1lICovXG4gIEFVVEhfSEVBREVSOiAnTjhOX01DUF9BVVRIX0hFQURFUicsXG5cbiAgLyoqIEN1c3RvbSBhdXRoIGVycm9yIG1lc3NhZ2UgKi9cbiAgQVVUSF9FUlJPUl9NRVNTQUdFOiAnTjhOX01DUF9BVVRIX0VSUk9SX01FU1NBR0UnLFxuXG4gIC8qKiBDdXN0b20gYXV0aHogZXJyb3IgbWVzc2FnZSAqL1xuICBBVVRIWl9FUlJPUl9NRVNTQUdFOiAnTjhOX01DUF9BVVRIWl9FUlJPUl9NRVNTQUdFJyxcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogUGFyc2UgYXV0aGVudGljYXRpb24gbWlkZGxld2FyZSBjb25maWd1cmF0aW9uIGZyb20gZW52aXJvbm1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQXV0aENvbmZpZ0Zyb21FbnYoYXV0aFByb3ZpZGVyOiBBdXRoUHJvdmlkZXIpOiBBdXRoTWlkZGxld2FyZUNvbmZpZyB7XG4gIHJldHVybiB7XG4gICAgYXV0aFByb3ZpZGVyLFxuICAgIHJlcXVpcmVBdXRoOiBwcm9jZXNzLmVudltBVVRIX0VOVl9DT05GSUcuUkVRVUlSRV9BVVRIXSA9PT0gJ3RydWUnLFxuICAgIHB1YmxpY1Rvb2xzOiBwcm9jZXNzLmVudltBVVRIX0VOVl9DT05GSUcuUFVCTElDX1RPT0xTXT8uc3BsaXQoJywnKSB8fCB1bmRlZmluZWQsXG4gICAgcHVibGljUmVzb3VyY2VzOiBwcm9jZXNzLmVudltBVVRIX0VOVl9DT05GSUcuUFVCTElDX1JFU09VUkNFU10/LnNwbGl0KCcsJykgfHwgdW5kZWZpbmVkLFxuICAgIGF1dGhIZWFkZXI6IHByb2Nlc3MuZW52W0FVVEhfRU5WX0NPTkZJRy5BVVRIX0hFQURFUl0gfHwgdW5kZWZpbmVkLFxuICAgIGF1dGhFcnJvck1lc3NhZ2U6IHByb2Nlc3MuZW52W0FVVEhfRU5WX0NPTkZJRy5BVVRIX0VSUk9SX01FU1NBR0VdIHx8IHVuZGVmaW5lZCxcbiAgICBhdXRoekVycm9yTWVzc2FnZTogcHJvY2Vzcy5lbnZbQVVUSF9FTlZfQ09ORklHLkFVVEhaX0VSUk9SX01FU1NBR0VdIHx8IHVuZGVmaW5lZCxcbiAgfTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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